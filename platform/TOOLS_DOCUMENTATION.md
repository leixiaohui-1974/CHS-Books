# å·¥å…·æ–‡æ¡£

## æ¦‚è¿°

æœ¬æ–‡æ¡£ä»‹ç»æ™ºèƒ½çŸ¥è¯†å¹³å°V2.0æä¾›çš„å„ç§ç®¡ç†å’Œå¼€å‘å·¥å…·ã€‚

---

## 1. ç®¡ç†å·¥å…· CLI (`manage.py`)

### å®‰è£…

```bash
cd platform/backend
chmod +x manage.py
pip install click  # å¦‚æœè¿˜æœªå®‰è£…
```

### ä½¿ç”¨æ–¹æ³•

```bash
# æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤
./manage.py --help

# æŸ¥çœ‹æŸä¸ªå‘½ä»¤ç»„çš„å¸®åŠ©
./manage.py db --help
```

### æ•°æ®åº“ç®¡ç†

```bash
# åˆå§‹åŒ–æ•°æ®åº“
./manage.py db init

# æ£€æŸ¥æ•°æ®åº“è¡¨
./manage.py db check

# é‡ç½®æ•°æ®åº“ï¼ˆå±é™©ï¼ï¼‰
./manage.py db reset
```

### æµ‹è¯•å‘½ä»¤

```bash
# å¿«é€Ÿæµ‹è¯•
./manage.py test quick

# ç«¯åˆ°ç«¯æµ‹è¯•
./manage.py test e2e

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
./manage.py test all
```

### æœåŠ¡å™¨ç®¡ç†

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
./manage.py server start

# å¯åŠ¨å¹¶å¼€å¯çƒ­é‡è½½
./manage.py server start --reload

# è‡ªå®šä¹‰ä¸»æœºå’Œç«¯å£
./manage.py server start --host 127.0.0.1 --port 8080

# åœæ­¢æœåŠ¡å™¨
./manage.py server stop
```

### Dockerç®¡ç†

```bash
# å¯åŠ¨DockeræœåŠ¡
./manage.py docker up

# åœæ­¢DockeræœåŠ¡
./manage.py docker down

# æŸ¥çœ‹æ—¥å¿—
./manage.py docker logs

# æŸ¥çœ‹çŠ¶æ€
./manage.py docker ps
```

### ä»£ç è´¨é‡

```bash
# æ£€æŸ¥ä»£ç è´¨é‡
./manage.py lint check

# æ ¼å¼åŒ–ä»£ç ï¼ˆéœ€è¦blackï¼‰
./manage.py lint format
```

### ä¿¡æ¯æŸ¥çœ‹

```bash
# æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯
./manage.py info

# æŸ¥çœ‹æ–‡æ¡£åˆ—è¡¨
./manage.py docs

# æ˜¾ç¤ºç‰ˆæœ¬
./manage.py version
```

---

## 2. æ€§èƒ½ç›‘æ§å·¥å…· (`performance_monitor.py`)

å®æ—¶ç›‘æ§ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡ã€‚

### åŠŸèƒ½ç‰¹æ€§

- CPUä½¿ç”¨ç‡ç›‘æ§
- å†…å­˜ä½¿ç”¨ç›‘æ§
- ç£ç›˜ä½¿ç”¨ç›‘æ§
- APIå“åº”æ—¶é—´è¿½è¸ª
- æ´»è·ƒä¼šè¯ç»Ÿè®¡

### ä½¿ç”¨æ–¹æ³•

```bash
cd platform/backend
python3 performance_monitor.py
```

### è¾“å‡ºç¤ºä¾‹

```
============================================================
 æ™ºèƒ½çŸ¥è¯†å¹³å° V2.0 - æ€§èƒ½ç›‘æ§å·¥å…·
============================================================

å½“å‰ç³»ç»ŸçŠ¶æ€:
  CPUä½¿ç”¨ç‡: 15.2%
  å†…å­˜ä½¿ç”¨: 4.32GB / 16.00GB (27.0%)
  ç£ç›˜ä½¿ç”¨: 45.67GB / 100.00GB (45.7%)

ğŸ” æ€§èƒ½ç›‘æ§å·²å¯åŠ¨...
ç›‘æ§é—´éš”: 5ç§’

[14:23:45] CPU: 15.2% | å†…å­˜: 27.0% | ç£ç›˜: 45.7%
```

### åœæ­¢ç›‘æ§

æŒ‰ `Ctrl+C` åœæ­¢ï¼Œå°†æ˜¾ç¤ºæ€§èƒ½æŠ¥å‘Šã€‚

---

## 3. å¥åº·æ£€æŸ¥å·¥å…· (`health_check.py`)

æ£€æŸ¥æ‰€æœ‰æœåŠ¡å’Œç»„ä»¶çš„å¥åº·çŠ¶æ€ã€‚

### æ£€æŸ¥é¡¹ç›®

1. **æ–‡ä»¶ç»“æ„** - éªŒè¯æ ¸å¿ƒæ–‡ä»¶å®Œæ•´æ€§
2. **æ ¸å¿ƒæœåŠ¡** - æ£€æŸ¥å„ä¸ªæœåŠ¡æ¨¡å—
3. **æ•°æ®åº“è¿æ¥** - æµ‹è¯•PostgreSQLè¿æ¥
4. **Redisè¿æ¥** - æµ‹è¯•Redisè¿æ¥

### ä½¿ç”¨æ–¹æ³•

```bash
cd platform/backend
python3 health_check.py
```

### è¾“å‡ºç¤ºä¾‹

```
============================================================
 æ™ºèƒ½çŸ¥è¯†å¹³å° V2.0 - å¥åº·æ£€æŸ¥
============================================================

æ£€æŸ¥æ—¶é—´: 2025-11-04 14:23:45

æ£€æŸ¥ æ–‡ä»¶ç»“æ„... âœ… æ–‡ä»¶ç»“æ„å®Œæ•´ (7 ä¸ªæ ¸å¿ƒæ–‡ä»¶)
æ£€æŸ¥ æ ¸å¿ƒæœåŠ¡... âœ… æ‰€æœ‰æœåŠ¡æ­£å¸¸ (å®¹å™¨æ± : 5/5)
æ£€æŸ¥ æ•°æ®åº“è¿æ¥... âœ… æ•°æ®åº“è¿æ¥æ­£å¸¸
æ£€æŸ¥ Redisè¿æ¥... âœ… Redisé…ç½®æ­£å¸¸

============================================================
âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ (4/4)
ç³»ç»Ÿè¿è¡Œæ­£å¸¸ï¼
============================================================
```

### é€€å‡ºç 

- `0` - æ‰€æœ‰æ£€æŸ¥é€šè¿‡
- `1` - è‡³å°‘æœ‰ä¸€é¡¹æ£€æŸ¥å¤±è´¥

---

## 4. å¤‡ä»½æ¢å¤å·¥å…· (`backup_restore.py`)

ç®¡ç†ç³»ç»Ÿæ•°æ®çš„å¤‡ä»½å’Œæ¢å¤ã€‚

### åŠŸèƒ½ç‰¹æ€§

- åˆ›å»ºå®Œæ•´å¤‡ä»½
- åˆ—å‡ºæ‰€æœ‰å¤‡ä»½
- æ¢å¤æŒ‡å®šå¤‡ä»½
- è‡ªåŠ¨å‹ç¼©ï¼ˆtar.gzæ ¼å¼ï¼‰

### ä½¿ç”¨æ–¹æ³•

```bash
cd platform/backend
python3 backup_restore.py
```

### å¤‡ä»½å†…å®¹

- åº”ç”¨ä»£ç  (`app/`)
- æµ‹è¯•ä»£ç  (`tests/`)
- é…ç½®æ–‡ä»¶
- æ–‡æ¡£æ–‡ä»¶

### è¾“å‡ºç¤ºä¾‹

```
============================================================
 å¤‡ä»½å’Œæ¢å¤å·¥å…·
============================================================

1ï¸âƒ£  åˆ›å»ºå¤‡ä»½
------------------------------------------------------------
ğŸ“¦ åˆ›å»ºå¤‡ä»½: /tmp/platform_backups/backup_20251104_142345.tar.gz

  ğŸ“ å¤‡ä»½ code...
  ğŸ“ å¤‡ä»½ tests...
  ğŸ“ å¤‡ä»½ config...
  ğŸ“ å¤‡ä»½ docs...

âœ… å¤‡ä»½å®Œæˆ: /tmp/platform_backups/backup_20251104_142345.tar.gz
   å¤§å°: ~10MB

2ï¸âƒ£  åˆ—å‡ºæ‰€æœ‰å¤‡ä»½
------------------------------------------------------------
æ‰¾åˆ° 3 ä¸ªå¤‡ä»½:
  1. backup_20251104_142345.tar.gz
     åˆ›å»ºæ—¶é—´: 2025-11-04 14:23:45
     å¤§å°: 10485760 å­—èŠ‚
```

---

## 5. ä»£ç è´¨é‡æ£€æŸ¥ (`code_quality.py`)

åˆ†æä»£ç è´¨é‡ï¼Œæä¾›æ”¹è¿›å»ºè®®ã€‚

### æ£€æŸ¥æŒ‡æ ‡

- **åŸºç¡€ç»Ÿè®¡**
  - æ–‡ä»¶æ•°é‡
  - ä»£ç è¡Œæ•°
  - å‡½æ•°æ•°é‡
  - ç±»æ•°é‡

- **æ–‡æ¡£è¦†ç›–**
  - å‡½æ•°æ–‡æ¡£ç‡
  - ç±»æ–‡æ¡£ç‡

- **å¤æ‚åº¦åˆ†æ**
  - åœˆå¤æ‚åº¦
  - å¹³å‡å¤æ‚åº¦

### ä½¿ç”¨æ–¹æ³•

```bash
cd platform/backend
python3 code_quality.py
```

### è¾“å‡ºç¤ºä¾‹

```
============================================================
 ä»£ç è´¨é‡æŠ¥å‘Š
============================================================

ğŸ“Š åŸºç¡€ç»Ÿè®¡:
  æ€»æ–‡ä»¶æ•°: 69
  æ€»ä»£ç è¡Œ: 14929
  æ€»å‡½æ•°æ•°: 159
  æ€»ç±»æ•°: 127

ğŸ“ æ–‡æ¡£è¦†ç›–:
  å‡½æ•°æ–‡æ¡£ç‡: 78.0%
  ç±»æ–‡æ¡£ç‡: 96.9%

ğŸ”¢ å¤æ‚åº¦:
  å¹³å‡åœˆå¤æ‚åº¦: 10.0

â­ æ€»ä½“è¯„åˆ†:
  52/100 åˆ†
  ç­‰çº§: C (åŠæ ¼)

============================================================

ğŸ“‹ æ–‡ä»¶è¯¦æƒ… (å‰10ä¸ª):

ğŸ“„ main.py
   è¡Œæ•°: 237
   å‡½æ•°: 0
   ç±»: 0
   å¤æ‚åº¦: 3
```

### è¯„åˆ†æ ‡å‡†

- **Açº§ (80-100åˆ†)** - ä¼˜ç§€
- **Bçº§ (60-79åˆ†)** - è‰¯å¥½
- **Cçº§ (40-59åˆ†)** - åŠæ ¼
- **Dçº§ (0-39åˆ†)** - éœ€æ”¹è¿›

---

## 6. æ¼”ç¤ºå·¥ä½œæµ (`demo_workflow.py`)

å±•ç¤ºå®Œæ•´çš„ç”¨æˆ·å­¦ä¹ æµç¨‹ã€‚

### æ¼”ç¤ºæ­¥éª¤

1. **åˆ›å»ºå­¦ä¹ ä¼šè¯** - åˆå§‹åŒ–ç”¨æˆ·ä¼šè¯
2. **åŠ è½½æ¡ˆä¾‹ä»£ç ** - ä»çŸ¥è¯†åº“åŠ è½½ä»£ç 
3. **AIä»£ç è®²è§£** - æ™ºèƒ½è§£é‡Šä»£ç é€»è¾‘
4. **ä¿®æ”¹ä»£ç å‚æ•°** - ç”¨æˆ·è‡ªå®šä¹‰ä¿®æ”¹
5. **æ‰§è¡Œä»£ç ** - åœ¨éš”ç¦»ç¯å¢ƒä¸­è¿è¡Œ
6. **è§£æç»“æœ** - æ ‡å‡†åŒ–ç»“æœå±•ç¤º
7. **AIç»“æœåˆ†æ** - æ™ºèƒ½åˆ†æå’Œå»ºè®®
8. **çŸ¥è¯†é—®ç­”** - äº¤äº’å¼å­¦ä¹ 
9. **å­¦ä¹ æ€»ç»“** - ç”Ÿæˆå­¦ä¹ æŠ¥å‘Š

### ä½¿ç”¨æ–¹æ³•

```bash
cd platform/backend
python3 demo_workflow.py
```

### è¾“å‡ºç¤ºä¾‹

```
************************************************************
 æ™ºèƒ½çŸ¥è¯†å¹³å° V2.0 - å®Œæ•´å·¥ä½œæµæ¼”ç¤º
************************************************************

============================================================
 æ­¥éª¤1: åˆ›å»ºå­¦ä¹ ä¼šè¯
============================================================

ç”¨æˆ·ID: demo_user_001
ä¹¦ç±: æ°´ç¯å¢ƒæ¨¡æ‹Ÿ
æ¡ˆä¾‹: æ¡ˆä¾‹01 - æ‰©æ•£æ–¹ç¨‹

âœ… ä¼šè¯åˆ›å»ºæˆåŠŸ
   ä¼šè¯ID: session_20251104_142345
   çŠ¶æ€: active
   æœ‰æ•ˆæœŸ: 2å°æ—¶

...
```

---

## 7. æµ‹è¯•è„šæœ¬

### ç®€å•æµ‹è¯• (`simple_test.py`)

æœ€å°ä¾èµ–çš„åŸºç¡€æµ‹è¯•ã€‚

```bash
python3 simple_test.py
```

### ç«¯åˆ°ç«¯æµ‹è¯• (`e2e_test.py`)

å®Œæ•´å·¥ä½œæµæµ‹è¯•ã€‚

```bash
python3 e2e_test.py
```

### å•å…ƒæµ‹è¯• (`tests/test_enhanced_features.py`)

éœ€è¦å®Œæ•´ç¯å¢ƒçš„å•å…ƒæµ‹è¯•ã€‚

```bash
pytest tests/test_enhanced_features.py -v
```

---

## 8. å¿«é€Ÿå¯åŠ¨

### æ–¹å¼1: Docker Composeï¼ˆæ¨èï¼‰

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd platform

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
./manage.py docker up

# æˆ–ç›´æ¥ä½¿ç”¨docker-compose
docker-compose -f docker-compose.v2.yml up -d

# æŸ¥çœ‹æ—¥å¿—
./manage.py docker logs
```

### æ–¹å¼2: æœ¬åœ°å¼€å‘

```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. åˆå§‹åŒ–æ•°æ®åº“
./manage.py db init

# 3. å¯åŠ¨æœåŠ¡å™¨
./manage.py server start --reload

# 4. è¿è¡Œå¥åº·æ£€æŸ¥
python3 health_check.py
```

---

## 9. å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# å¯åŠ¨å¹³å°
./manage.py docker up

# æŸ¥çœ‹çŠ¶æ€
./manage.py docker ps

# å¥åº·æ£€æŸ¥
python3 health_check.py

# ä»£ç è´¨é‡
python3 code_quality.py

# æ€§èƒ½ç›‘æ§
python3 performance_monitor.py

# è¿è¡Œæ¼”ç¤º
python3 demo_workflow.py

# åœæ­¢å¹³å°
./manage.py docker down
```

---

## 10. æ•…éšœæ’æŸ¥

### é—®é¢˜1: ç«¯å£è¢«å ç”¨

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :8000

# åœæ­¢å ç”¨è¿›ç¨‹
./manage.py server stop
```

### é—®é¢˜2: Dockerå®¹å™¨å¯åŠ¨å¤±è´¥

```bash
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
./manage.py docker logs

# é‡å¯æœåŠ¡
./manage.py docker down
./manage.py docker up
```

### é—®é¢˜3: æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
./manage.py db check

# é‡æ–°åˆå§‹åŒ–
./manage.py db reset
./manage.py db init
```

### é—®é¢˜4: ä¾èµ–ç¼ºå¤±

```bash
# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt

# æˆ–åœ¨Dockerä¸­
docker-compose -f docker-compose.v2.yml build --no-cache
```

---

## 11. å¼€å‘å»ºè®®

### æ—¥å¸¸å¼€å‘æµç¨‹

1. **å¯åŠ¨æœåŠ¡**
   ```bash
   ./manage.py server start --reload
   ```

2. **ä»£ç ä¿®æ”¹å**
   ```bash
   ./manage.py lint check
   python3 health_check.py
   ```

3. **æäº¤å‰**
   ```bash
   ./manage.py test all
   python3 code_quality.py
   ```

### æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨æ€§èƒ½ç›‘æ§å·¥å…·æŒç»­è¿½è¸ª
- å®šæœŸè¿è¡Œä»£ç è´¨é‡æ£€æŸ¥
- åŠæ—¶æ¸…ç†ä¸ç”¨çš„å®¹å™¨å’Œå¤‡ä»½

### å®‰å…¨å»ºè®®

- å®šæœŸåˆ›å»ºå¤‡ä»½
- ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨
- åŠæ—¶æ›´æ–°ä¾èµ–åŒ…

---

## 12. æ›´å¤šä¿¡æ¯

- **å®Œæ•´æ–‡æ¡£**: å‚è§ `README_V2.md`
- **è®¾è®¡æ–¹æ¡ˆ**: å‚è§ `æ™ºèƒ½çŸ¥è¯†å¹³å°å¢å¼ºæ–¹æ¡ˆ-V2.0.md`
- **å¯åŠ¨æŒ‡å—**: å‚è§ `å¯åŠ¨æŒ‡å—.md`
- **APIæ–‡æ¡£**: è®¿é—® `http://localhost:8000/docs`

---

**ç‰ˆæœ¬**: V2.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025-11-04  
**ç»´æŠ¤**: æ™ºèƒ½çŸ¥è¯†å¹³å°å›¢é˜Ÿ
