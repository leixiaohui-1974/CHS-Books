# ğŸŒŠ CHSæ°´åˆ©æ°´ç”µæ°´åŠ¡å­¦ä¹ å¹³å° - æ·±åº¦èåˆæ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

å°†å½“å‰çš„"æ°´ç³»ç»Ÿæ§åˆ¶æ•™å­¦å¹³å°"ä¸"chs-aiçŸ¥è¯†åº“å¹³å°"æ·±åº¦èåˆï¼Œæ‰“é€ ä¸€ä¸ªé›†**ç†è®ºå­¦ä¹ ã€æ¡ˆä¾‹å®è·µã€AIè¾…åŠ©ã€çŸ¥è¯†ç®¡ç†**äºä¸€ä½“çš„ç»¼åˆæ€§æ°´åˆ©æ°´ç”µæ°´åŠ¡å­¦ä¹ å¹³å°ã€‚

## ğŸ¯ èåˆç›®æ ‡

### 1. åŠŸèƒ½èåˆ
- âœ… çŸ¥è¯†åº“ + æ¡ˆä¾‹åº“ = ç†è®ºä¸å®è·µç»“åˆ
- âœ… AIåŠ©æ‰‹ + çŸ¥è¯†æ£€ç´¢ = æ™ºèƒ½å­¦ä¹ åŠ©æ‰‹
- âœ… ä»£ç å®éªŒ + ç†è®ºè®²è§£ = æ·±åº¦ç†è§£
- âœ… è¿›åº¦è·Ÿè¸ª + å­¦ä¹ è·¯å¾„ = ä¸ªæ€§åŒ–å­¦ä¹ 

### 2. æŠ€æœ¯èåˆ
- âœ… ç»Ÿä¸€çš„åç«¯APIæ¶æ„
- âœ… ç»Ÿä¸€çš„å‰ç«¯UI/UXè®¾è®¡
- âœ… ç»Ÿä¸€çš„æ•°æ®åº“å’Œå­˜å‚¨
- âœ… ç»Ÿä¸€çš„ç”¨æˆ·è®¤è¯å’Œæƒé™

### 3. å†…å®¹èåˆ
- âœ… çŸ¥è¯†ç‚¹ â†’ æ¡ˆä¾‹æ˜ å°„
- âœ… æ¡ˆä¾‹ â†’ çŸ¥è¯†ç‚¹å…³è”
- âœ… ç†è®º â†’ å®è·µè·¯å¾„
- âœ… é—®é¢˜ â†’ è§£å†³æ–¹æ¡ˆåº“

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CHSæ°´åˆ©æ°´ç”µå­¦ä¹ å¹³å°                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      å‰ç«¯å±‚ (Unified Frontend)             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ çŸ¥è¯†åº“   â”‚ æ¡ˆä¾‹åº“   â”‚ å®éªŒå®¤   â”‚ AIåŠ©æ‰‹   â”‚ ä¸ªäººä¸­å¿ƒâ”‚ â”‚
â”‚  â”‚ Library  â”‚ Cases    â”‚ Lab      â”‚ AI       â”‚ Profileâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    APIç½‘å…³å±‚ (API Gateway)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ç»Ÿä¸€è®¤è¯ â”‚ è·¯ç”±åˆ†å‘ â”‚ é™æµæ§åˆ¶ â”‚ æ—¥å¿—ç›‘æ§    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   æœåŠ¡å±‚ (Microservices)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚çŸ¥è¯†æœåŠ¡â”‚æ¡ˆä¾‹æœåŠ¡â”‚ä»£ç æœåŠ¡â”‚AIæœåŠ¡  â”‚ç”¨æˆ·æœåŠ¡  â”‚      â”‚
â”‚  â”‚Knowledgeâ”‚Cases  â”‚Code   â”‚AI      â”‚User      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   æ•°æ®å±‚ (Data Layer)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚çŸ¥è¯†åº“  â”‚æ¡ˆä¾‹åº“  â”‚ä»£ç åº“  â”‚å‘é‡åº“  â”‚ç”¨æˆ·æ•°æ®  â”‚      â”‚
â”‚  â”‚MongoDB â”‚Files   â”‚Git     â”‚Milvus  â”‚PostgreSQLâ”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æŠ€æœ¯æ ˆè§„åˆ’

### åç«¯æŠ€æœ¯
```python
# æ ¸å¿ƒæ¡†æ¶
FastAPI==0.104.0          # é«˜æ€§èƒ½APIæ¡†æ¶
SQLAlchemy==2.0.0         # ORMæ¡†æ¶
Pydantic==2.0.0           # æ•°æ®éªŒè¯

# æ•°æ®åº“
PostgreSQL==15.0          # ç”¨æˆ·å’Œç»“æ„åŒ–æ•°æ®
MongoDB==6.0              # çŸ¥è¯†åº“æ–‡æ¡£å­˜å‚¨
Milvus==2.3.0             # å‘é‡æ•°æ®åº“ï¼ˆAIæ£€ç´¢ï¼‰
Redis==7.0                # ç¼“å­˜å’Œä¼šè¯

# AI/ML
OpenAI==1.0.0             # GPTæ¥å£
LangChain==0.1.0          # AIåº”ç”¨æ¡†æ¶
sentence-transformers     # æ–‡æœ¬å‘é‡åŒ–
```

### å‰ç«¯æŠ€æœ¯
```javascript
// æ ¸å¿ƒæ¡†æ¶
Vue.js 3.3                // å“åº”å¼UIæ¡†æ¶
TypeScript 5.0            // ç±»å‹å®‰å…¨
Vite 5.0                  // æ„å»ºå·¥å…·

// UIç»„ä»¶
Element Plus 2.4          // UIç»„ä»¶åº“
Monaco Editor             // ä»£ç ç¼–è¾‘å™¨
Plotly.js                 // å¯äº¤äº’å›¾è¡¨
Markdown-it               // Markdownæ¸²æŸ“

// çŠ¶æ€ç®¡ç†
Pinia 2.1                 // çŠ¶æ€ç®¡ç†
VueRouter 4.2             // è·¯ç”±ç®¡ç†
```

## ğŸ“š æ¨¡å—è®¾è®¡è¯¦è§£

### æ¨¡å—1ï¼šçŸ¥è¯†åº“ç³»ç»Ÿï¼ˆå…¨æ–°ï¼‰

#### 1.1 çŸ¥è¯†åº“ç»“æ„
```
knowledge-base/
â”œâ”€â”€ courses/              # è¯¾ç¨‹ä½“ç³»
â”‚   â”œâ”€â”€ hydraulics/       # æ°´åŠ›å­¦
â”‚   â”œâ”€â”€ hydrology/        # æ°´æ–‡å­¦
â”‚   â”œâ”€â”€ control/          # æ§åˆ¶ç†è®º
â”‚   â””â”€â”€ engineering/      # å·¥ç¨‹å®è·µ
â”œâ”€â”€ concepts/             # æ ¸å¿ƒæ¦‚å¿µ
â”‚   â”œâ”€â”€ definitions/      # å®šä¹‰
â”‚   â”œâ”€â”€ formulas/         # å…¬å¼
â”‚   â””â”€â”€ principles/       # åŸç†
â”œâ”€â”€ tutorials/            # æ•™ç¨‹
â”‚   â”œâ”€â”€ beginner/         # å…¥é—¨
â”‚   â”œâ”€â”€ intermediate/     # è¿›é˜¶
â”‚   â””â”€â”€ advanced/         # é«˜çº§
â””â”€â”€ references/           # å‚è€ƒèµ„æ–™
    â”œâ”€â”€ standards/        # æ ‡å‡†è§„èŒƒ
    â”œâ”€â”€ papers/           # è®ºæ–‡
    â””â”€â”€ books/            # æ•™æ
```

#### 1.2 çŸ¥è¯†åº“APIè®¾è®¡
```python
# knowledge_service.py
from fastapi import APIRouter, Query
from typing import List, Optional

router = APIRouter(prefix="/api/v1/knowledge", tags=["Knowledge"])

@router.get("/courses")
async def list_courses(
    category: Optional[str] = None,
    level: Optional[str] = None,
    skip: int = 0,
    limit: int = 20
):
    """è·å–è¯¾ç¨‹åˆ—è¡¨"""
    pass

@router.get("/courses/{course_id}")
async def get_course(course_id: str):
    """è·å–è¯¾ç¨‹è¯¦æƒ…"""
    pass

@router.get("/concepts/{concept_id}")
async def get_concept(concept_id: str):
    """è·å–æ¦‚å¿µè¯¦æƒ…"""
    pass

@router.post("/search")
async def search_knowledge(
    query: str,
    filters: Optional[dict] = None,
    top_k: int = 10
):
    """æ™ºèƒ½æœç´¢çŸ¥è¯†åº“ï¼ˆå‘é‡æ£€ç´¢+å…³é”®è¯ï¼‰"""
    pass

@router.get("/related/{knowledge_id}")
async def get_related_knowledge(
    knowledge_id: str,
    top_k: int = 5
):
    """è·å–ç›¸å…³çŸ¥è¯†ç‚¹"""
    pass
```

#### 1.3 çŸ¥è¯†åº“å‰ç«¯ç»„ä»¶
```vue
<!-- KnowledgeLibrary.vue -->
<template>
  <div class="knowledge-library">
    <!-- æœç´¢æ  -->
    <div class="search-bar">
      <el-input
        v-model="searchQuery"
        placeholder="æœç´¢çŸ¥è¯†ç‚¹ã€å…¬å¼ã€æ¡ˆä¾‹..."
        @keyup.enter="search"
      >
        <template #prefix>
          <el-icon><Search /></el-icon>
        </template>
      </el-input>
    </div>

    <!-- åˆ†ç±»å¯¼èˆª -->
    <div class="category-nav">
      <el-tabs v-model="activeCategory">
        <el-tab-pane label="è¯¾ç¨‹" name="courses" />
        <el-tab-pane label="æ¦‚å¿µ" name="concepts" />
        <el-tab-pane label="æ•™ç¨‹" name="tutorials" />
        <el-tab-pane label="å‚è€ƒ" name="references" />
      </el-tabs>
    </div>

    <!-- å†…å®¹åŒºåŸŸ -->
    <div class="content-area">
      <div class="sidebar">
        <!-- ç›®å½•æ ‘ -->
        <el-tree :data="treeData" @node-click="handleNodeClick" />
      </div>
      
      <div class="main-content">
        <!-- çŸ¥è¯†ç‚¹è¯¦æƒ… -->
        <KnowledgeDetail :content="currentContent" />
        
        <!-- ç›¸å…³æ¡ˆä¾‹ -->
        <RelatedCases :cases="relatedCases" />
        
        <!-- ç›¸å…³çŸ¥è¯†ç‚¹ -->
        <RelatedKnowledge :knowledge="relatedKnowledge" />
      </div>
    </div>
  </div>
</template>
```

### æ¨¡å—2ï¼šæ¡ˆä¾‹åº“ç³»ç»Ÿï¼ˆå¢å¼ºç‰ˆï¼‰

#### 2.1 æ¡ˆä¾‹æ‰©å±•å±æ€§
```python
# models/case.py
from pydantic import BaseModel
from typing import List, Optional

class CaseExtended(BaseModel):
    # åŸºç¡€ä¿¡æ¯ï¼ˆåŸæœ‰ï¼‰
    id: str
    title: str
    description: str
    difficulty: str  # beginner/intermediate/advanced
    
    # æ–°å¢ï¼šçŸ¥è¯†ç‚¹å…³è”
    knowledge_points: List[str]  # å…³è”çš„çŸ¥è¯†ç‚¹IDåˆ—è¡¨
    prerequisites: List[str]     # å‰ç½®æ¡ˆä¾‹
    next_cases: List[str]        # åç»­æ¨èæ¡ˆä¾‹
    
    # æ–°å¢ï¼šå­¦ä¹ ä¿¡æ¯
    estimated_time: int          # é¢„è®¡å­¦ä¹ æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
    learning_objectives: List[str]  # å­¦ä¹ ç›®æ ‡
    key_concepts: List[str]      # å…³é”®æ¦‚å¿µ
    
    # æ–°å¢ï¼šå®è·µä¿¡æ¯
    parameters: dict             # å¯è°ƒå‚æ•°å®šä¹‰
    experiments: List[dict]      # å®éªŒæ–¹æ¡ˆ
    expected_results: dict       # é¢„æœŸç»“æœ
    
    # æ–°å¢ï¼šæ•™å­¦èµ„æº
    video_url: Optional[str]     # è®²è§£è§†é¢‘
    slides_url: Optional[str]    # PPTè¯¾ä»¶
    quiz: Optional[dict]         # æµ‹éªŒé¢˜
```

#### 2.2 æ¡ˆä¾‹å¢å¼ºAPI
```python
@router.get("/cases/{case_id}/knowledge")
async def get_case_knowledge(case_id: str):
    """è·å–æ¡ˆä¾‹å…³è”çš„çŸ¥è¯†ç‚¹"""
    pass

@router.get("/cases/{case_id}/experiments")
async def get_case_experiments(case_id: str):
    """è·å–æ¡ˆä¾‹çš„å®éªŒæ–¹æ¡ˆ"""
    pass

@router.post("/cases/{case_id}/submit")
async def submit_case_result(
    case_id: str,
    user_id: str,
    code: str,
    results: dict
):
    """æäº¤æ¡ˆä¾‹å®éªŒç»“æœ"""
    pass

@router.get("/cases/recommend")
async def recommend_cases(
    user_id: str,
    current_case: Optional[str] = None
):
    """æ™ºèƒ½æ¨èæ¡ˆä¾‹"""
    pass
```

### æ¨¡å—3ï¼šæ™ºèƒ½å­¦ä¹ è·¯å¾„

#### 3.1 å­¦ä¹ è·¯å¾„å¼•æ“
```python
# learning_path_engine.py
class LearningPathEngine:
    """å­¦ä¹ è·¯å¾„æ¨èå¼•æ“"""
    
    def __init__(self):
        self.knowledge_graph = self.build_knowledge_graph()
        self.case_dependencies = self.build_case_dependencies()
    
    def recommend_next_step(self, user_id: str):
        """æ¨èä¸‹ä¸€æ­¥å­¦ä¹ å†…å®¹"""
        # 1. è·å–ç”¨æˆ·å­¦ä¹ å†å²
        history = self.get_user_history(user_id)
        
        # 2. åˆ†æçŸ¥è¯†æŒæ¡æƒ…å†µ
        mastery = self.analyze_mastery(history)
        
        # 3. æ‰¾åˆ°çŸ¥è¯†ç›²ç‚¹
        gaps = self.find_knowledge_gaps(mastery)
        
        # 4. æ¨èå¡«è¡¥è·¯å¾„
        path = self.generate_learning_path(gaps)
        
        return path
    
    def generate_learning_path(self, start: str, end: str):
        """ç”Ÿæˆä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„å­¦ä¹ è·¯å¾„"""
        # ä½¿ç”¨A*ç®—æ³•åœ¨çŸ¥è¯†å›¾è°±ä¸­å¯»è·¯
        path = self.astar_search(start, end)
        
        # ä¸ºæ¯ä¸ªèŠ‚ç‚¹å…³è”çŸ¥è¯†ç‚¹å’Œæ¡ˆä¾‹
        enriched_path = []
        for node in path:
            enriched_path.append({
                'knowledge': node,
                'theory': self.get_theory(node),
                'cases': self.get_related_cases(node),
                'estimated_time': self.estimate_time(node)
            })
        
        return enriched_path
```

#### 3.2 å­¦ä¹ è·¯å¾„å‰ç«¯
```vue
<!-- LearningPath.vue -->
<template>
  <div class="learning-path">
    <h2>ä½ çš„å­¦ä¹ è·¯å¾„</h2>
    
    <!-- è¿›åº¦æ€»è§ˆ -->
    <div class="progress-overview">
      <el-progress 
        :percentage="overallProgress" 
        :stroke-width="20"
        status="success"
      />
      <p>å·²å®Œæˆ {{ completedCount }}/{{ totalCount }} ä¸ªå­¦ä¹ ç‚¹</p>
    </div>
    
    <!-- è·¯å¾„å¯è§†åŒ– -->
    <div class="path-visualization">
      <div 
        v-for="(step, index) in learningPath" 
        :key="index"
        class="path-step"
        :class="{ 
          completed: step.status === 'completed',
          current: step.status === 'current',
          locked: step.status === 'locked'
        }"
      >
        <div class="step-number">{{ index + 1 }}</div>
        <div class="step-content">
          <h3>{{ step.title }}</h3>
          <p>{{ step.description }}</p>
          <div class="step-actions">
            <el-button 
              v-if="step.status === 'current'" 
              type="primary"
              @click="startLearning(step)"
            >
              å¼€å§‹å­¦ä¹ 
            </el-button>
            <el-tag v-else-if="step.status === 'completed'">
              å·²å®Œæˆ
            </el-tag>
            <el-tag v-else type="info">
              éœ€è¦å…ˆå®Œæˆå‰ç½®å†…å®¹
            </el-tag>
          </div>
        </div>
        
        <!-- è¿æ¥çº¿ -->
        <div v-if="index < learningPath.length - 1" class="connector" />
      </div>
    </div>
    
    <!-- æ¨èå†…å®¹ -->
    <div class="recommendations">
      <h3>ä¸ºä½ æ¨è</h3>
      <div class="rec-cards">
        <el-card v-for="rec in recommendations" :key="rec.id">
          <h4>{{ rec.title }}</h4>
          <p>{{ rec.reason }}</p>
          <el-button size="small" @click="goTo(rec)">æŸ¥çœ‹</el-button>
        </el-card>
      </div>
    </div>
  </div>
</template>
```

### æ¨¡å—4ï¼šå¢å¼ºAIåŠ©æ‰‹

#### 4.1 RAGç³»ç»Ÿï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰
```python
# rag_system.py
from langchain.vectorstores import Milvus
from langchain.embeddings import OpenAIEmbeddings
from langchain.chains import RetrievalQA
from langchain.llms import OpenAI

class RAGAssistant:
    """åŸºäºçŸ¥è¯†åº“çš„RAGåŠ©æ‰‹"""
    
    def __init__(self):
        # åˆå§‹åŒ–å‘é‡æ•°æ®åº“
        self.embeddings = OpenAIEmbeddings()
        self.vectorstore = Milvus(
            embedding_function=self.embeddings,
            connection_args={"host": "localhost", "port": "19530"}
        )
        
        # åˆå§‹åŒ–LLM
        self.llm = OpenAI(temperature=0.7)
        
        # åˆ›å»ºæ£€ç´¢é“¾
        self.qa_chain = RetrievalQA.from_chain_type(
            llm=self.llm,
            chain_type="stuff",
            retriever=self.vectorstore.as_retriever(search_kwargs={"k": 5})
        )
    
    async def answer_question(
        self, 
        question: str, 
        context: Optional[dict] = None
    ):
        """å›ç­”ç”¨æˆ·é—®é¢˜"""
        # 1. æ£€ç´¢ç›¸å…³çŸ¥è¯†
        relevant_docs = await self.retrieve_knowledge(question)
        
        # 2. æ„å»ºå¢å¼ºæç¤º
        prompt = self.build_prompt(question, relevant_docs, context)
        
        # 3. ç”Ÿæˆå›ç­”
        answer = await self.qa_chain.arun(prompt)
        
        # 4. é™„åŠ ç›¸å…³èµ„æº
        resources = self.find_related_resources(question, relevant_docs)
        
        return {
            'answer': answer,
            'sources': [doc.metadata for doc in relevant_docs],
            'related_cases': resources['cases'],
            'related_knowledge': resources['knowledge']
        }
    
    async def retrieve_knowledge(self, query: str, top_k: int = 5):
        """æ£€ç´¢ç›¸å…³çŸ¥è¯†"""
        # å‘é‡æ£€ç´¢
        vector_results = await self.vectorstore.similarity_search(
            query, k=top_k
        )
        
        # å…³é”®è¯æ£€ç´¢ï¼ˆè¡¥å……ï¼‰
        keyword_results = await self.keyword_search(query)
        
        # èåˆç»“æœ
        return self.merge_results(vector_results, keyword_results)
```

#### 4.2 AIåŠ©æ‰‹å‰ç«¯å¢å¼º
```vue
<!-- AIAssistant.vue -->
<template>
  <div class="ai-assistant">
    <!-- å¯¹è¯å†å² -->
    <div class="chat-history" ref="chatHistory">
      <div 
        v-for="(msg, index) in messages" 
        :key="index"
        :class="['message', msg.role]"
      >
        <div class="avatar">
          <el-avatar v-if="msg.role === 'user'" :src="userAvatar" />
          <el-avatar v-else>AI</el-avatar>
        </div>
        <div class="content">
          <div class="text" v-html="renderMarkdown(msg.content)" />
          
          <!-- AIå›ç­”çš„é¢å¤–ä¿¡æ¯ -->
          <div v-if="msg.role === 'assistant' && msg.metadata" class="metadata">
            <!-- ç›¸å…³çŸ¥è¯†ç‚¹ -->
            <div v-if="msg.metadata.related_knowledge" class="related">
              <h4>ç›¸å…³çŸ¥è¯†ç‚¹ï¼š</h4>
              <el-tag 
                v-for="k in msg.metadata.related_knowledge" 
                :key="k.id"
                @click="goToKnowledge(k)"
              >
                {{ k.title }}
              </el-tag>
            </div>
            
            <!-- ç›¸å…³æ¡ˆä¾‹ -->
            <div v-if="msg.metadata.related_cases" class="related">
              <h4>ç›¸å…³æ¡ˆä¾‹ï¼š</h4>
              <el-tag 
                v-for="c in msg.metadata.related_cases" 
                :key="c.id"
                type="success"
                @click="goToCase(c)"
              >
                {{ c.title }}
              </el-tag>
            </div>
            
            <!-- ä¿¡æ¯æ¥æº -->
            <div v-if="msg.metadata.sources" class="sources">
              <el-collapse>
                <el-collapse-item title="æŸ¥çœ‹ä¿¡æ¯æ¥æº">
                  <ul>
                    <li v-for="(src, i) in msg.metadata.sources" :key="i">
                      {{ src.title }} - {{ src.source }}
                    </li>
                  </ul>
                </el-collapse-item>
              </el-collapse>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- è¾“å…¥åŒºåŸŸ -->
    <div class="input-area">
      <el-input
        v-model="userInput"
        placeholder="é—®æˆ‘ä»»ä½•å…³äºæ°´åˆ©æ°´ç”µçš„é—®é¢˜..."
        @keyup.enter="sendMessage"
      >
        <template #append>
          <el-button @click="sendMessage" :loading="isLoading">
            å‘é€
          </el-button>
        </template>
      </el-input>
      
      <!-- å¿«æ·é—®é¢˜ -->
      <div class="quick-questions">
        <el-tag 
          v-for="q in quickQuestions" 
          :key="q"
          @click="askQuickQuestion(q)"
        >
          {{ q }}
        </el-tag>
      </div>
    </div>
  </div>
</template>
```

### æ¨¡å—5ï¼šç”¨æˆ·ç³»ç»Ÿ

#### 5.1 ç”¨æˆ·æ¨¡å‹
```python
# models/user.py
class User(BaseModel):
    id: str
    username: str
    email: str
    avatar: Optional[str]
    
    # å­¦ä¹ æ•°æ®
    learning_progress: dict      # å­¦ä¹ è¿›åº¦
    completed_cases: List[str]   # å®Œæˆçš„æ¡ˆä¾‹
    mastered_concepts: List[str] # æŒæ¡çš„æ¦‚å¿µ
    
    # åå¥½è®¾ç½®
    preferences: dict            # ç”¨æˆ·åå¥½
    learning_goals: List[str]    # å­¦ä¹ ç›®æ ‡
    
    # ç»Ÿè®¡æ•°æ®
    total_study_time: int        # æ€»å­¦ä¹ æ—¶é—´
    login_days: int              # ç™»å½•å¤©æ•°
    achievement_points: int      # æˆå°±ç§¯åˆ†

class UserProgress(BaseModel):
    user_id: str
    case_id: str
    status: str                  # not_started/in_progress/completed
    start_time: datetime
    completion_time: Optional[datetime]
    attempts: int
    best_score: float
    notes: Optional[str]
```

#### 5.2 æˆå°±ç³»ç»Ÿ
```python
# achievement_system.py
class Achievement:
    """æˆå°±ç³»ç»Ÿ"""
    
    ACHIEVEMENTS = {
        'first_case': {
            'title': 'åˆå‡ºèŒ…åº',
            'description': 'å®Œæˆç¬¬ä¸€ä¸ªæ¡ˆä¾‹',
            'points': 10
        },
        'week_streak': {
            'title': 'åšæŒä¸æ‡ˆ',
            'description': 'è¿ç»­7å¤©å­¦ä¹ ',
            'points': 50
        },
        'master_pid': {
            'title': 'PIDå¤§å¸ˆ',
            'description': 'å®Œæˆæ‰€æœ‰PIDç›¸å…³æ¡ˆä¾‹',
            'points': 100
        },
        # ... æ›´å¤šæˆå°±
    }
    
    def check_achievements(self, user_id: str):
        """æ£€æŸ¥ç”¨æˆ·æ˜¯å¦è§£é”æ–°æˆå°±"""
        user = self.get_user(user_id)
        new_achievements = []
        
        for key, achievement in self.ACHIEVEMENTS.items():
            if not self.has_achievement(user, key):
                if self.check_condition(user, key):
                    new_achievements.append(achievement)
                    self.grant_achievement(user, key)
        
        return new_achievements
```

## ğŸ¨ UI/UXè®¾è®¡ç»Ÿä¸€

### è®¾è®¡ç³»ç»Ÿ
```css
/* design-system.css */
:root {
  /* ä¸»è‰²è°ƒ - æ°´è“è‰²ç³» */
  --primary-color: #1890ff;
  --primary-light: #40a9ff;
  --primary-dark: #096dd9;
  
  /* åŠŸèƒ½è‰² */
  --success-color: #52c41a;
  --warning-color: #faad14;
  --error-color: #f5222d;
  --info-color: #1890ff;
  
  /* ä¸­æ€§è‰² */
  --text-primary: #262626;
  --text-secondary: #595959;
  --text-disabled: #bfbfbf;
  
  /* èƒŒæ™¯è‰² */
  --bg-primary: #ffffff;
  --bg-secondary: #fafafa;
  --bg-tertiary: #f5f5f5;
  
  /* è¾¹æ¡† */
  --border-color: #d9d9d9;
  --border-radius: 8px;
  
  /* é˜´å½± */
  --shadow-sm: 0 2px 8px rgba(0,0,0,0.08);
  --shadow-md: 0 4px 16px rgba(0,0,0,0.12);
  --shadow-lg: 0 8px 24px rgba(0,0,0,0.16);
  
  /* é—´è·ç³»ç»Ÿ (8pxåŸºå‡†) */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  
  /* å­—ä½“å¤§å° */
  --font-xs: 12px;
  --font-sm: 14px;
  --font-md: 16px;
  --font-lg: 18px;
  --font-xl: 20px;
  --font-2xl: 24px;
}

/* æ·±è‰²ä¸»é¢˜ */
[data-theme="dark"] {
  --text-primary: #ffffff;
  --text-secondary: #d9d9d9;
  --bg-primary: #141414;
  --bg-secondary: #1f1f1f;
  --bg-tertiary: #2a2a2a;
  --border-color: #434343;
}
```

### ç»Ÿä¸€å¯¼èˆªæ 
```vue
<!-- UnifiedNavbar.vue -->
<template>
  <nav class="unified-navbar">
    <div class="navbar-left">
      <div class="logo">
        <img src="/logo.svg" alt="CHS Platform" />
        <span>CHSæ°´åˆ©æ°´ç”µå­¦ä¹ å¹³å°</span>
      </div>
      
      <el-menu mode="horizontal" :default-active="activeMenu">
        <el-menu-item index="knowledge">
          <el-icon><Reading /></el-icon>
          çŸ¥è¯†åº“
        </el-menu-item>
        <el-menu-item index="cases">
          <el-icon><Document /></el-icon>
          æ¡ˆä¾‹åº“
        </el-menu-item>
        <el-menu-item index="lab">
          <el-icon><Platform /></el-icon>
          å®éªŒå®¤
        </el-menu-item>
        <el-menu-item index="path">
          <el-icon><Guide /></el-icon>
          å­¦ä¹ è·¯å¾„
        </el-menu-item>
      </el-menu>
    </div>
    
    <div class="navbar-right">
      <!-- æœç´¢ -->
      <el-input 
        v-model="searchQuery" 
        placeholder="æœç´¢..." 
        class="search-input"
      >
        <template #prefix>
          <el-icon><Search /></el-icon>
        </template>
      </el-input>
      
      <!-- é€šçŸ¥ -->
      <el-badge :value="notificationCount" class="notification">
        <el-icon><Bell /></el-icon>
      </el-badge>
      
      <!-- ä¸»é¢˜åˆ‡æ¢ -->
      <el-switch 
        v-model="isDark" 
        @change="toggleTheme"
        active-icon="Moon"
        inactive-icon="Sunny"
      />
      
      <!-- ç”¨æˆ·èœå• -->
      <el-dropdown @command="handleUserCommand">
        <el-avatar :src="user.avatar">{{ user.username[0] }}</el-avatar>
        <template #dropdown>
          <el-dropdown-menu>
            <el-dropdown-item command="profile">ä¸ªäººä¸­å¿ƒ</el-dropdown-item>
            <el-dropdown-item command="progress">å­¦ä¹ è¿›åº¦</el-dropdown-item>
            <el-dropdown-item command="settings">è®¾ç½®</el-dropdown-item>
            <el-dropdown-item divided command="logout">é€€å‡ºç™»å½•</el-dropdown-item>
          </el-dropdown-menu>
        </template>
      </el-dropdown>
    </div>
  </nav>
</template>
```

## ğŸ“Š æ•°æ®è¿ç§»ä¸æ•´åˆ

### è¿ç§»è„šæœ¬
```python
# migration/migrate_knowledge_base.py
"""
å°†chs-aiçŸ¥è¯†åº“è¿ç§»åˆ°æ–°ç³»ç»Ÿ
"""

import os
import json
from pathlib import Path
from typing import List, Dict
import pymongo
from sentence_transformers import SentenceTransformer

class KnowledgeMigration:
    def __init__(self):
        self.mongo_client = pymongo.MongoClient("mongodb://localhost:27017/")
        self.db = self.mongo_client["chs_platform"]
        self.knowledge_collection = self.db["knowledge"]
        self.embedder = SentenceTransformer('paraphrase-multilingual-MiniLM-L12-v2')
    
    def migrate_from_github(self, repo_path: str):
        """ä»GitHubä»“åº“è¿ç§»çŸ¥è¯†åº“"""
        print(f"å¼€å§‹è¿ç§»çŸ¥è¯†åº“: {repo_path}")
        
        # 1. æ‰«ææ‰€æœ‰Markdownæ–‡ä»¶
        md_files = self.scan_markdown_files(repo_path)
        print(f"æ‰¾åˆ° {len(md_files)} ä¸ªMarkdownæ–‡ä»¶")
        
        # 2. è§£æå¹¶å¯¼å…¥
        for md_file in md_files:
            knowledge_item = self.parse_markdown(md_file)
            if knowledge_item:
                # ç”Ÿæˆå‘é‡
                knowledge_item['embedding'] = self.generate_embedding(
                    knowledge_item['content']
                )
                # å­˜å…¥æ•°æ®åº“
                self.knowledge_collection.insert_one(knowledge_item)
                print(f"âœ“ å¯¼å…¥: {knowledge_item['title']}")
        
        print("è¿ç§»å®Œæˆï¼")
    
    def parse_markdown(self, file_path: Path) -> Dict:
        """è§£æMarkdownæ–‡ä»¶"""
        with open(file_path, 'r', encoding='utf-8') as f:
            content = f.read()
        
        # æå–å…ƒæ•°æ®å’Œå†…å®¹
        metadata = self.extract_metadata(content)
        
        return {
            'title': metadata.get('title', file_path.stem),
            'category': self.infer_category(file_path),
            'content': content,
            'tags': metadata.get('tags', []),
            'difficulty': metadata.get('difficulty', 'intermediate'),
            'source_file': str(file_path),
            'created_at': metadata.get('date', datetime.now())
        }
    
    def generate_embedding(self, text: str) -> List[float]:
        """ç”Ÿæˆæ–‡æœ¬å‘é‡"""
        return self.embedder.encode(text).tolist()

# æ‰§è¡Œè¿ç§»
if __name__ == "__main__":
    migration = KnowledgeMigration()
    migration.migrate_from_github("../chs-ai")
```

## ğŸš€ å®æ–½è®¡åˆ’

### Phase 1: åŸºç¡€æ•´åˆï¼ˆ2å‘¨ï¼‰
- [x] Week 1: æ­å»ºç»Ÿä¸€æ¶æ„ï¼Œæ•´åˆç°æœ‰ä»£ç 
- [ ] Week 2: è¿ç§»çŸ¥è¯†åº“ï¼Œå»ºç«‹æ•°æ®åº“

### Phase 2: æ ¸å¿ƒåŠŸèƒ½ï¼ˆ3å‘¨ï¼‰
- [ ] Week 3: å®ç°çŸ¥è¯†åº“ç³»ç»Ÿå‰åç«¯
- [ ] Week 4: å¢å¼ºæ¡ˆä¾‹åº“ï¼Œæ·»åŠ å…³è”åŠŸèƒ½
- [ ] Week 5: å¼€å‘å­¦ä¹ è·¯å¾„å¼•æ“

### Phase 3: AIå¢å¼ºï¼ˆ2å‘¨ï¼‰
- [ ] Week 6: å®ç°RAGç³»ç»Ÿ
- [ ] Week 7: ä¼˜åŒ–AIåŠ©æ‰‹ï¼Œæ·»åŠ çŸ¥è¯†æ£€ç´¢

### Phase 4: ç”¨æˆ·ç³»ç»Ÿï¼ˆ2å‘¨ï¼‰
- [ ] Week 8: å®ç°ç”¨æˆ·è®¤è¯å’Œæƒé™
- [ ] Week 9: å¼€å‘å­¦ä¹ è¿›åº¦å’Œæˆå°±ç³»ç»Ÿ

### Phase 5: ä¼˜åŒ–ä¸Šçº¿ï¼ˆ1å‘¨ï¼‰
- [ ] Week 10: æ€§èƒ½ä¼˜åŒ–ã€æµ‹è¯•ã€éƒ¨ç½²

## ğŸ“ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

ç°åœ¨å¼€å§‹æ‰§è¡ŒPhase 1çš„å·¥ä½œï¼

1. **ç«‹å³å¼€å§‹**ï¼šåˆ›å»ºç»Ÿä¸€çš„é¡¹ç›®ç»“æ„
2. **å‡†å¤‡æ•°æ®**ï¼šç­‰å¾…chs-aiä»“åº“å…‹éš†å®Œæˆ
3. **è®¾è®¡API**ï¼šå®šä¹‰æ‰€æœ‰æœåŠ¡çš„APIæ¥å£
4. **å¼€å‘å‰ç«¯**ï¼šä½¿ç”¨Vue3é‡æ„ç»Ÿä¸€ç•Œé¢
5. **æµ‹è¯•éªŒè¯**ï¼šç¡®ä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ


