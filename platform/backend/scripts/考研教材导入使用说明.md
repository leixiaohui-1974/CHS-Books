# è€ƒç ”æ•™æå¯¼å…¥ç³»ç»Ÿä½¿ç”¨è¯´æ˜

## ğŸ“š ç³»ç»Ÿæ¦‚è¿°

æœ¬ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„è€ƒç ”æ•™æç®¡ç†å’Œå¯¼å…¥åŠŸèƒ½ï¼Œæ”¯æŒ15æœ¬è€ƒç ”æ•™æçš„å¼€å‘ã€æ›´æ–°å’Œå¯¼å…¥ã€‚

---

## ğŸ› ï¸ å·¥å…·åˆ—è¡¨

### 1. `import_exam_books.py` - ä¸»å¯¼å…¥è„šæœ¬

**åŠŸèƒ½**ï¼šæ‰¹é‡å¯¼å…¥å’Œæ›´æ–°è€ƒç ”æ•™æåˆ°æ•°æ®åº“

**å‘½ä»¤**ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰ä¹¦ç±çŠ¶æ€
python import_exam_books.py --list

# å¯¼å…¥æ‰€æœ‰å¯ç”¨çš„ä¹¦
python import_exam_books.py

# åªå¯¼å…¥å·²å®Œæˆçš„ä¹¦
python import_exam_books.py --status completed

# åªå¯¼å…¥å¼€å‘ä¸­çš„ä¹¦
python import_exam_books.py --status in_progress

# å¼ºåˆ¶æ›´æ–°å·²å­˜åœ¨çš„ä¹¦ï¼ˆè¦†ç›–ï¼‰
python import_exam_books.py --update
```

### 2. `quick_add_book.py` - å¿«é€Ÿåˆ›å»ºæ–°ä¹¦

**åŠŸèƒ½**ï¼šå¿«é€Ÿåˆ›å»ºæ–°ä¹¦ç±çš„ç›®å½•ç»“æ„å’Œæ¨¡æ¿æ–‡ä»¶

**ä½¿ç”¨æ­¥éª¤**ï¼š
```bash
python quick_add_book.py

# æŒ‰æç¤ºè¾“å…¥ï¼š
# 1. ä¹¦ç±ç›®å½•åï¼ˆè‹±æ–‡ï¼Œå¦‚ hydrology-examï¼‰
# 2. ä¹¦ç±æ ‡é¢˜ï¼ˆä¸­æ–‡ï¼Œå¦‚ æ°´æ–‡å­¦è€ƒç ”é«˜åˆ†çªç ´ï¼‰
# 3. ç« èŠ‚æ•°é‡ï¼ˆæ•°å­—ï¼Œå¦‚ 12ï¼‰
```

**ç”Ÿæˆå†…å®¹**ï¼š
- ğŸ“ `books/graduate-exam-prep/[ä¹¦å]/`
  - ğŸ“„ `README.md` - ä¹¦ç±è¯´æ˜
  - ğŸ“ `chapters/` - ç« èŠ‚ç›®å½•
    - ğŸ“„ `ç¬¬01ç« _[ç« èŠ‚åç§°].md`
    - ğŸ“„ `ç¬¬02ç« _[ç« èŠ‚åç§°].md`
    - ...
  - ğŸ“ `codes/` - ä»£ç ç›®å½•
    - ğŸ“ `chapter01/`
    - ğŸ“ `chapter02/`
    - ...

---

## ğŸ“– 15æœ¬ä¹¦é…ç½®åˆ—è¡¨

| # | ä¹¦å | ç›®å½•å | çŠ¶æ€ | ä¼˜å…ˆçº§ |
|---|------|--------|------|--------|
| 1 | æ°´åŠ›å­¦è€ƒç ”æ ¸å¿ƒ100é¢˜ | `hydraulics-core-100` | âœ… å·²å®Œæˆ | P0 |
| 2 | æ°´åŠ›å­¦è€ƒç ”é«˜åˆ†çªç ´ | `hydraulics-advanced` | ğŸš§ å¼€å‘ä¸­ | P0 |
| 3 | æ°´æ–‡å­¦è€ƒç ”é«˜åˆ†çªç ´ | `hydrology-exam` | ğŸ“‹ å¾…å¼€å‘ | P0 |
| 4 | æ°´åˆ©ç±»æ•°å­¦ä¸€é€Ÿæˆæ‰‹å†Œ | `mathematics-for-water` | ğŸ“‹ å¾…å¼€å‘ | P1 |
| 5 | æ°´åŠ›å­¦1000é¢˜è¯¦è§£ | `hydraulics-1000` | ğŸ“‹ å¾…å¼€å‘ | P1 |
| 6 | æ°´åˆ©å·¥ç¨‹Pythonç¼–ç¨‹å®æˆ˜ | `python-for-hydraulic` | ğŸ“‹ å¾…å¼€å‘ | P1 |
| 7 | 30å¤©è€ƒç ”å†²åˆºå®å…¸ | `30days-sprint` | ğŸ“‹ å¾…å¼€å‘ | P2 |
| 8 | æ°´å·¥å»ºç­‘ç‰©è®¾è®¡è€ƒç ”ä¸“é¢˜ | `hydraulic-structures-exam` | ğŸ“‹ å¾…å¼€å‘ | P2 |
| 9 | æ°´èµ„æºè§„åˆ’ä¸ç®¡ç†è€ƒç ”ä¸“é¢˜ | `water-resources-exam` | ğŸ“‹ å¾…å¼€å‘ | P2 |
| 10 | ç”Ÿæ€æ°´åŠ›å­¦è€ƒç ”ä¸“é¢˜ | `ecohydraulics-exam` | ğŸ“‹ å¾…å¼€å‘ | P2 |
| 11 | åœ°ä¸‹æ°´åŠ¨åŠ›å­¦è€ƒç ”ä¸“é¢˜ | `groundwater-exam` | ğŸ“‹ å¾…å¼€å‘ | P2 |
| 12 | æ°´ç¯å¢ƒæ¨¡æ‹Ÿè€ƒç ”ä¸“é¢˜ | `water-environment-exam` | ğŸ“‹ å¾…å¼€å‘ | P2 |
| 13 | æ°´åˆ©ç±»è€ƒç ”æ•°å€¼è®¡ç®—æ–¹æ³• | `numerical-methods-exam` | ğŸ“‹ å¾…å¼€å‘ | P2 |
| 14 | æ°´åˆ©ç±»è€ƒç ”å…¨çœŸæ¨¡æ‹Ÿè¯•å· | `mock-exams` | ğŸ“‹ å¾…å¼€å‘ | P3 |
| 15 | æ°´åˆ©è€ƒç ”é¢è¯•å®å…¸ | `interview-guide` | ğŸ“‹ å¾…å¼€å‘ | P3 |

---

## ğŸ¯ å…¸å‹å·¥ä½œæµç¨‹

### åœºæ™¯1ï¼šåˆ›å»ºæ–°ä¹¦

```bash
# Step 1: åˆ›å»ºç›®å½•ç»“æ„
cd platform/backend/scripts
python quick_add_book.py
# è¾“å…¥: hydrology-exam
# è¾“å…¥: æ°´æ–‡å­¦è€ƒç ”é«˜åˆ†çªç ´
# è¾“å…¥: 12

# Step 2: ç¼–å†™å†…å®¹
cd ../../../books/graduate-exam-prep/hydrology-exam/chapters
# ç¼–è¾‘å„ç« èŠ‚MDæ–‡ä»¶

# Step 3: å¯¼å…¥åˆ°æ•°æ®åº“
cd ../../../../platform/backend/scripts
python import_exam_books.py
```

### åœºæ™¯2ï¼šæ›´æ–°ç°æœ‰ä¹¦ç±

```bash
# Step 1: ä¿®æ”¹å†…å®¹
cd books/graduate-exam-prep/hydraulics-advanced/chapters
# ç¼–è¾‘æˆ–æ·»åŠ MDæ–‡ä»¶

# Step 2: é‡æ–°å¯¼å…¥ï¼ˆæ›´æ–°ï¼‰
cd ../../../../platform/backend/scripts
python import_exam_books.py --update
```

### åœºæ™¯3ï¼šè¡¥å……å·²å®Œæˆä¹¦ç±çš„å†…å®¹

```bash
# Step 1: æ·»åŠ æ–°ç« èŠ‚
cd books/graduate-exam-prep/hydraulics-core-100/chapters
# æ·»åŠ æ–°çš„MDæ–‡ä»¶

# Step 2: æ›´æ–°æ•°æ®åº“
cd ../../../../platform/backend/scripts
python import_exam_books.py --update --status completed
```

### åœºæ™¯4ï¼šåªå¯¼å…¥ä¼˜å…ˆçº§é«˜çš„ä¹¦

```bash
# å¯¼å…¥æ‰€æœ‰P0ä¼˜å…ˆçº§çš„ä¹¦
cd platform/backend/scripts
python import_exam_books.py --status completed
python import_exam_books.py --status in_progress
```

---

## ğŸ“ ç« èŠ‚æ–‡ä»¶å‘½åè§„èŒƒ

### æ¨èæ ¼å¼
```
ç¬¬01ç« _é™æ°´åŠ›å­¦.md
ç¬¬02ç« _æµä½“åŠ¨åŠ›å­¦åŸºç¡€.md
ç¬¬03ç« _ç®¡æµä¸æ˜æ¸ æµ.md
```

### å…¶ä»–æ”¯æŒçš„æ ¼å¼
```
chapter01_é™æ°´åŠ›å­¦.md
ch01_é™æ°´åŠ›å­¦.md
01_é™æ°´åŠ›å­¦.md
```

---

## ğŸ”§ ä¿®æ”¹ä¹¦ç±é…ç½®

ç¼–è¾‘ `import_exam_books.py` ä¸­çš„ `EXAM_BOOKS` åˆ—è¡¨ï¼š

```python
{
    "id": 3,
    "slug": "hydrology-exam",
    "title": "æ°´æ–‡å­¦è€ƒç ”é«˜åˆ†çªç ´",
    "subtitle": "äº§æ±‡æµ + æ°´æ–‡ç»Ÿè®¡",
    "description": "æ°´æ–‡å­¦ä¸“ä¸šè¯¾è€ƒç ”æ•™æ",
    "target_audience": "æ°´åˆ©ç±»è€ƒç ”å­¦ç”Ÿ",
    "status": "planned",  # completed/in_progress/planned
    "priority": "P0"      # P0/P1/P2/P3
}
```

**çŠ¶æ€è¯´æ˜**ï¼š
- `completed`: å·²å®Œæˆï¼Œå¯ä»¥å‘å¸ƒ
- `in_progress`: å¼€å‘ä¸­ï¼Œæ­£åœ¨è¡¥å……å†…å®¹
- `planned`: å·²è§„åˆ’ï¼Œå°šæœªå¼€å§‹

**ä¼˜å…ˆçº§è¯´æ˜**ï¼š
- `P0`: æ ¸å¿ƒæ•™æï¼Œå¿…é¡»å®Œæˆ
- `P1`: é‡è¦æ•™æï¼Œä¼˜å…ˆå¼€å‘
- `P2`: ä¸“é¢˜æ•™æï¼ŒæŒ‰éœ€å¼€å‘
- `P3`: è¾…åŠ©æ•™æï¼ŒåæœŸå¼€å‘

---

## ğŸ“Š æ•°æ®åº“æŸ¥è¯¢

### æŸ¥çœ‹å¯¼å…¥ç»“æœ

```bash
cd platform/backend
python -c "from services.textbook.database import SessionLocal; from services.textbook.models import Textbook; db = SessionLocal(); books = db.query(Textbook).filter(Textbook.target_audience.like('%è€ƒç ”%')).all(); [print(f'{b.title}: {b.total_chapters}ç« , {b.total_words}å­—') for b in books]; db.close()"
```

### ç»Ÿè®¡è€ƒç ”æ•™æ

```bash
cd platform/backend/scripts
python check_all_textbooks.py
```

---

## ğŸš€ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# æŸ¥çœ‹çŠ¶æ€
python import_exam_books.py --list

# åˆ›å»ºæ–°ä¹¦
python quick_add_book.py

# å¯¼å…¥æ‰€æœ‰ä¹¦
python import_exam_books.py

# æ›´æ–°æ‰€æœ‰ä¹¦
python import_exam_books.py --update

# åªå¯¼å…¥å·²å®Œæˆçš„ä¹¦
python import_exam_books.py --status completed

# æ£€æŸ¥æ‰€æœ‰æ•™æ
python check_all_textbooks.py

# æµ‹è¯•ç»Ÿä¸€æœç´¢
python test_unified_search.py
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç¼–ç é—®é¢˜**ï¼šæ‰€æœ‰MDæ–‡ä»¶å¿…é¡»ä½¿ç”¨UTF-8ç¼–ç 
2. **æ–‡ä»¶å‘½å**ï¼šç« èŠ‚æ–‡ä»¶åå»ºè®®ä½¿ç”¨ä¸­æ–‡ï¼Œä¾¿äºè¯†åˆ«
3. **æ›´æ–°æ¨¡å¼**ï¼šä½¿ç”¨`--update`ä¼šåˆ é™¤æ—§ç« èŠ‚å¹¶é‡æ–°å¯¼å…¥
4. **è·¯å¾„æ£€æŸ¥**ï¼šç¡®ä¿å·¥ä½œç›®å½•åœ¨`platform/backend/scripts`
5. **æ•°æ®åº“å¤‡ä»½**ï¼šæ›´æ–°å‰å»ºè®®å¤‡ä»½`platform/backend/data/textbooks.db`

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q1: å¯¼å…¥åæ‰¾ä¸åˆ°ç« èŠ‚ï¼Ÿ
**A**: ç¡®ä¿ç« èŠ‚æ–‡ä»¶åœ¨`chapters/`ç›®å½•ä¸‹ï¼Œä¸”ä¸º`.md`æ ¼å¼

### Q2: æ›´æ–°ä¸ç”Ÿæ•ˆï¼Ÿ
**A**: ä½¿ç”¨`--update`å‚æ•°å¼ºåˆ¶æ›´æ–°

### Q3: å¦‚ä½•ä¿®æ”¹ä¹¦ç±ä¿¡æ¯ï¼Ÿ
**A**: ç¼–è¾‘`import_exam_books.py`ä¸­çš„`EXAM_BOOKS`é…ç½®ï¼Œç„¶å`--update`

### Q4: å¦‚ä½•åˆ é™¤æŸæœ¬ä¹¦ï¼Ÿ
**A**: éœ€è¦æ‰‹åŠ¨åˆ é™¤æ•°æ®åº“è®°å½•æˆ–é‡æ–°åˆå§‹åŒ–æ•°æ®åº“

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æ›´æ–°æ—¥æœŸ**: 2025-11-10  
**ç»´æŠ¤è€…**: CHS-Booksé¡¹ç›®ç»„

