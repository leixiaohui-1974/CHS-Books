# å‰ç«¯åŠŸèƒ½æ¦‚è¿°ä¸æµ‹è¯•å»ºè®®

## ğŸ“‹ å‰ç«¯æ¶æ„æ¦‚è§ˆ

### æŠ€æœ¯æ ˆ

```
æ¡†æ¶:          React 18 + Next.js 14
è¯­è¨€:          TypeScript
UIåº“:          Ant Design 5 / è‡ªå®šä¹‰ç»„ä»¶
çŠ¶æ€ç®¡ç†:      TanStack Query
HTTPå®¢æˆ·ç«¯:    Axios
å›¾è¡¨åº“:        Chart.js
```

### ç›®å½•ç»“æ„

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ books/          # ä¹¦ç±é¡µé¢
â”‚   â”‚   â”œâ”€â”€ dashboard/      # ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ login/          # ç™»å½•é¡µé¢
â”‚   â”‚   â””â”€â”€ tools/          # å·¥å…·é¡µé¢
â”‚   â”œâ”€â”€ components/         # å…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ services/          # APIæœåŠ¡
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”œâ”€â”€ package.json
â””â”€â”€ next.config.js
```

---

## ğŸ” å‰ç«¯åŠŸèƒ½æ¸…å•

### 1. ç”¨æˆ·è®¤è¯

**åŠŸèƒ½**:
- [ ] ç”¨æˆ·ç™»å½•
- [ ] ç”¨æˆ·æ³¨å†Œ
- [ ] å¯†ç é‡ç½®
- [ ] JWT Tokenç®¡ç†
- [ ] è‡ªåŠ¨ç™»å½•
- [ ] é€€å‡ºç™»å½•

**APIç«¯ç‚¹**:
- `POST /api/v1/auth/login`
- `POST /api/v1/auth/register`
- `POST /api/v1/auth/refresh`

### 2. ä¹¦ç±æµè§ˆ

**åŠŸèƒ½**:
- [ ] ä¹¦ç±åˆ—è¡¨å±•ç¤º
- [ ] ä¹¦ç±è¯¦æƒ…æŸ¥çœ‹
- [ ] ç« èŠ‚å¯¼èˆª
- [ ] æ¡ˆä¾‹åˆ—è¡¨
- [ ] æœç´¢å’Œç­›é€‰
- [ ] æ”¶è—åŠŸèƒ½

**APIç«¯ç‚¹**:
- `GET /api/v1/books`
- `GET /api/v1/books/{id}`
- `GET /api/v1/chapters`
- `GET /api/v1/cases`

### 3. ä»£ç ç¼–è¾‘å™¨

**åŠŸèƒ½**:
- [ ] è¯­æ³•é«˜äº®
- [ ] ä»£ç è‡ªåŠ¨è¡¥å…¨
- [ ] å®æ—¶è¯­æ³•æ£€æŸ¥
- [ ] ä»£ç æ ¼å¼åŒ–
- [ ] å¤šæ–‡ä»¶ç¼–è¾‘
- [ ] æ’¤é”€/é‡åš

**æŠ€æœ¯é€‰å‹**:
- Monaco Editor (VS Codeç¼–è¾‘å™¨)
- CodeMirror
- Ace Editor

### 4. ä»£ç æ‰§è¡Œ

**åŠŸèƒ½**:
- [ ] æäº¤ä»£ç æ‰§è¡Œ
- [ ] å®æ—¶è¾“å‡ºæ˜¾ç¤º
- [ ] æ‰§è¡ŒçŠ¶æ€ç›‘æ§
- [ ] æ‰§è¡Œå†å²
- [ ] é”™è¯¯é«˜äº®
- [ ] æ€§èƒ½ç»Ÿè®¡

**APIç«¯ç‚¹**:
- `POST /api/v2/sessions/create`
- `POST /api/v2/execution/start`
- `GET /api/v2/execution/{id}`

### 5. AIåŠ©æ‰‹

**åŠŸèƒ½**:
- [ ] ä»£ç è®²è§£
- [ ] é”™è¯¯è¯Šæ–­
- [ ] æ™ºèƒ½é—®ç­”
- [ ] å¯¹è¯å†å²
- [ ] ä»£ç å»ºè®®
- [ ] å­¦ä¹ æç¤º

**APIç«¯ç‚¹**:
- `POST /api/v2/ai/explain-code`
- `POST /api/v2/ai/diagnose-error`
- `POST /api/v2/ai/ask`

### 6. ç»“æœå±•ç¤º

**åŠŸèƒ½**:
- [ ] æ§åˆ¶å°è¾“å‡º
- [ ] å›¾è¡¨å±•ç¤º
- [ ] æ•°æ®è¡¨æ ¼
- [ ] æ–‡ä»¶ä¸‹è½½
- [ ] ç»“æœå¯¹æ¯”
- [ ] å†å²è®°å½•

### 7. å­¦ä¹ è¿›åº¦

**åŠŸèƒ½**:
- [ ] è¿›åº¦è¿½è¸ª
- [ ] æˆå°±ç³»ç»Ÿ
- [ ] å­¦ä¹ ç»Ÿè®¡
- [ ] æ—¶é•¿è®°å½•
- [ ] æ’è¡Œæ¦œ
- [ ] å­¦ä¹ æŠ¥å‘Š

### 8. ç”¨æˆ·ä¸­å¿ƒ

**åŠŸèƒ½**:
- [ ] ä¸ªäººä¿¡æ¯
- [ ] å­¦ä¹ æ•°æ®
- [ ] è®¢å•ç®¡ç†
- [ ] ç§¯åˆ†å•†åŸ
- [ ] è®¾ç½®é€‰é¡¹
- [ ] æ¶ˆæ¯é€šçŸ¥

---

## ğŸ§ª æµ‹è¯•å»ºè®®

### 1. åŠŸèƒ½æµ‹è¯•

#### 1.1 é¡µé¢å¯¼èˆªæµ‹è¯•

**æµ‹è¯•åœºæ™¯**:
```javascript
describe('é¡µé¢å¯¼èˆª', () => {
  test('é¦–é¡µåŠ è½½æ­£å¸¸', async () => {
    // è®¿é—®é¦–é¡µ
    // æ£€æŸ¥å…³é”®å…ƒç´ æ˜¯å¦æ˜¾ç¤º
  });
  
  test('ä¹¦ç±åˆ—è¡¨åŠ è½½', async () => {
    // è®¿é—®ä¹¦ç±åˆ—è¡¨
    // æ£€æŸ¥ä¹¦ç±å¡ç‰‡æ˜¯å¦æ˜¾ç¤º
  });
  
  test('ç”¨æˆ·ç™»å½•æµç¨‹', async () => {
    // è®¿é—®ç™»å½•é¡µ
    // è¾“å…¥ç”¨æˆ·åå¯†ç 
    // æäº¤ç™»å½•
    // æ£€æŸ¥æ˜¯å¦è·³è½¬åˆ°dashboard
  });
});
```

#### 1.2 ä»£ç ç¼–è¾‘å™¨æµ‹è¯•

**æµ‹è¯•åœºæ™¯**:
```javascript
describe('ä»£ç ç¼–è¾‘å™¨', () => {
  test('ä»£ç è¾“å…¥å’Œæ˜¾ç¤º', async () => {
    // åœ¨ç¼–è¾‘å™¨ä¸­è¾“å…¥ä»£ç 
    // æ£€æŸ¥ä»£ç æ˜¯å¦æ­£ç¡®æ˜¾ç¤º
  });
  
  test('è¯­æ³•é«˜äº®', async () => {
    // è¾“å…¥Pythonä»£ç 
    // æ£€æŸ¥å…³é”®å­—æ˜¯å¦é«˜äº®
  });
  
  test('å®æ—¶è¯­æ³•æ£€æŸ¥', async () => {
    // è¾“å…¥é”™è¯¯ä»£ç 
    // æ£€æŸ¥æ˜¯å¦æ˜¾ç¤ºé”™è¯¯æç¤º
  });
});
```

#### 1.3 ä»£ç æ‰§è¡Œæµ‹è¯•

**æµ‹è¯•åœºæ™¯**:
```javascript
describe('ä»£ç æ‰§è¡Œ', () => {
  test('ç®€å•ä»£ç æ‰§è¡Œ', async () => {
    // è¾“å…¥print("Hello")
    // ç‚¹å‡»æ‰§è¡Œ
    // æ£€æŸ¥è¾“å‡ºæ˜¯å¦æ˜¾ç¤ºHello
  });
  
  test('æ‰§è¡ŒçŠ¶æ€æ˜¾ç¤º', async () => {
    // æäº¤ä»£ç æ‰§è¡Œ
    // æ£€æŸ¥æ˜¯å¦æ˜¾ç¤º"æ‰§è¡Œä¸­"çŠ¶æ€
    // æ£€æŸ¥æ˜¯å¦æ˜¾ç¤ºæ‰§è¡Œè¿›åº¦
  });
  
  test('é”™è¯¯å¤„ç†', async () => {
    // æäº¤æœ‰é”™è¯¯çš„ä»£ç 
    // æ£€æŸ¥æ˜¯å¦æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
    // æ£€æŸ¥é”™è¯¯é«˜äº®
  });
});
```

### 2. æ€§èƒ½æµ‹è¯•

#### 2.1 é¡µé¢åŠ è½½æ€§èƒ½

**æŒ‡æ ‡**:
- é¦–å±åŠ è½½æ—¶é—´ < 2s
- å®Œå…¨åŠ è½½æ—¶é—´ < 5s
- é¦–æ¬¡å†…å®¹ç»˜åˆ¶ (FCP) < 1.5s
- æœ€å¤§å†…å®¹ç»˜åˆ¶ (LCP) < 2.5s

**æµ‹è¯•å·¥å…·**:
- Lighthouse
- WebPageTest
- Chrome DevTools

#### 2.2 äº¤äº’å“åº”æ€§èƒ½

**æŒ‡æ ‡**:
- æŒ‰é’®ç‚¹å‡»å“åº” < 100ms
- ä»£ç æ‰§è¡Œæäº¤ < 500ms
- AIåŠ©æ‰‹å“åº” < 2s
- é¡µé¢åˆ‡æ¢ < 300ms

#### 2.3 èµ„æºåŠ è½½ä¼˜åŒ–

**æ£€æŸ¥é¡¹**:
- [ ] å›¾ç‰‡æ‡’åŠ è½½
- [ ] ä»£ç åˆ†å‰²
- [ ] è·¯ç”±æ‡’åŠ è½½
- [ ] èµ„æºå‹ç¼©
- [ ] CDNåŠ é€Ÿ
- [ ] ç¼“å­˜ç­–ç•¥

### 3. å…¼å®¹æ€§æµ‹è¯•

#### 3.1 æµè§ˆå™¨å…¼å®¹æ€§

**æµ‹è¯•æµè§ˆå™¨**:
- [ ] Chrome (æœ€æ–°ç‰ˆ)
- [ ] Firefox (æœ€æ–°ç‰ˆ)
- [ ] Safari (æœ€æ–°ç‰ˆ)
- [ ] Edge (æœ€æ–°ç‰ˆ)
- [ ] ç§»åŠ¨ç«¯æµè§ˆå™¨

#### 3.2 è®¾å¤‡é€‚é…

**æµ‹è¯•è®¾å¤‡**:
- [ ] æ¡Œé¢ç«¯ (1920x1080, 1366x768)
- [ ] å¹³æ¿ (iPad, Android Tablet)
- [ ] æ‰‹æœº (iPhone, Android)
- [ ] å°å±è®¾å¤‡ (< 768px)

#### 3.3 ç½‘ç»œç¯å¢ƒ

**æµ‹è¯•åœºæ™¯**:
- [ ] å¿«é€Ÿç½‘ç»œ (4G+, WiFi)
- [ ] æ…¢é€Ÿç½‘ç»œ (3G, 2G)
- [ ] ç¦»çº¿æ¨¡å¼
- [ ] ç½‘ç»œåˆ‡æ¢

### 4. ç”¨æˆ·ä½“éªŒæµ‹è¯•

#### 4.1 å¯è®¿é—®æ€§ (A11y)

**æ£€æŸ¥é¡¹**:
- [ ] é”®ç›˜å¯¼èˆª
- [ ] å±å¹•é˜…è¯»å™¨æ”¯æŒ
- [ ] é¢œè‰²å¯¹æ¯”åº¦
- [ ] ARIAæ ‡ç­¾
- [ ] ç„¦ç‚¹ç®¡ç†

#### 4.2 å›½é™…åŒ– (i18n)

**æ£€æŸ¥é¡¹**:
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] æ—¥æœŸæ ¼å¼
- [ ] è´§å¸æ ¼å¼
- [ ] æ—¶åŒºå¤„ç†

#### 4.3 é”™è¯¯å¤„ç†

**æ£€æŸ¥é¡¹**:
- [ ] ç½‘ç»œé”™è¯¯æç¤º
- [ ] è¡¨å•éªŒè¯æç¤º
- [ ] 404é¡µé¢
- [ ] 500é”™è¯¯é¡µé¢
- [ ] è¶…æ—¶å¤„ç†

### 5. å®‰å…¨æµ‹è¯•

#### 5.1 è®¤è¯æˆæƒ

**æ£€æŸ¥é¡¹**:
- [ ] XSSé˜²æŠ¤
- [ ] CSRFé˜²æŠ¤
- [ ] JWT Tokenå®‰å…¨
- [ ] æ•æ„Ÿä¿¡æ¯è„±æ•
- [ ] æƒé™æ§åˆ¶

#### 5.2 æ•°æ®å®‰å…¨

**æ£€æŸ¥é¡¹**:
- [ ] HTTPSè¿æ¥
- [ ] å¯†ç åŠ å¯†
- [ ] æœ¬åœ°å­˜å‚¨åŠ å¯†
- [ ] APIå¯†é’¥ä¿æŠ¤

---

## ğŸ¯ è‡ªåŠ¨åŒ–æµ‹è¯•å»ºè®®

### 1. å•å…ƒæµ‹è¯•

**å·¥å…·**: Jest + React Testing Library

**ç¤ºä¾‹**:
```javascript
// components/CodeEditor.test.tsx
import { render, fireEvent } from '@testing-library/react';
import CodeEditor from './CodeEditor';

describe('CodeEditor', () => {
  test('renders correctly', () => {
    const { getByTestId } = render(<CodeEditor />);
    expect(getByTestId('code-editor')).toBeInTheDocument();
  });
  
  test('handles input change', () => {
    const { getByTestId } = render(<CodeEditor />);
    const editor = getByTestId('code-editor');
    
    fireEvent.change(editor, { target: { value: 'print("test")' } });
    expect(editor).toHaveValue('print("test")');
  });
});
```

### 2. é›†æˆæµ‹è¯•

**å·¥å…·**: Jest + MSW (Mock Service Worker)

**ç¤ºä¾‹**:
```javascript
// integration/CodeExecution.test.tsx
import { render, waitFor } from '@testing-library/react';
import { rest } from 'msw';
import { setupServer } from 'msw/node';
import CodeExecutionPage from './CodeExecutionPage';

const server = setupServer(
  rest.post('/api/v2/execution/start', (req, res, ctx) => {
    return res(ctx.json({
      execution_id: 'test-id',
      status: 'running'
    }));
  })
);

beforeAll(() => server.listen());
afterEach(() => server.resetHandlers());
afterAll(() => server.close());

describe('CodeExecution Integration', () => {
  test('submits and displays result', async () => {
    const { getByText, getByTestId } = render(<CodeExecutionPage />);
    
    // æäº¤ä»£ç 
    fireEvent.click(getByText('æ‰§è¡Œ'));
    
    // ç­‰å¾…ç»“æœ
    await waitFor(() => {
      expect(getByTestId('execution-status')).toHaveTextContent('running');
    });
  });
});
```

### 3. E2Eæµ‹è¯•

**å·¥å…·**: Playwright / Cypress

**ç¤ºä¾‹**:
```javascript
// e2e/user-workflow.spec.ts
import { test, expect } from '@playwright/test';

test('complete user workflow', async ({ page }) => {
  // 1. è®¿é—®é¦–é¡µ
  await page.goto('http://localhost:3000');
  
  // 2. ç™»å½•
  await page.click('text=ç™»å½•');
  await page.fill('input[name="username"]', 'testuser');
  await page.fill('input[name="password"]', 'password123');
  await page.click('button[type="submit"]');
  
  // 3. é€‰æ‹©ä¹¦ç±
  await page.click('text=æ°´ç¯å¢ƒæ¨¡æ‹Ÿ');
  
  // 4. é€‰æ‹©æ¡ˆä¾‹
  await page.click('text=æ¡ˆä¾‹1');
  
  // 5. æ‰§è¡Œä»£ç 
  await page.click('text=æ‰§è¡Œ');
  
  // 6. æ£€æŸ¥ç»“æœ
  await expect(page.locator('.output')).toContainText('æ‰§è¡ŒæˆåŠŸ');
});
```

---

## ğŸ“Š æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

### æµ‹è¯•ç»“æœè®°å½•

| æµ‹è¯•é¡¹ | é¢„æœŸç»“æœ | å®é™…ç»“æœ | çŠ¶æ€ | å¤‡æ³¨ |
|-------|---------|---------|------|------|
| é¡µé¢åŠ è½½ | < 2s | 1.5s | âœ… | |
| ç™»å½•åŠŸèƒ½ | æˆåŠŸè·³è½¬ | æ­£å¸¸ | âœ… | |
| ä»£ç æ‰§è¡Œ | æ˜¾ç¤ºç»“æœ | æ­£å¸¸ | âœ… | |
| AIåŠ©æ‰‹ | ç”Ÿæˆå›ç­” | æ­£å¸¸ | âœ… | |

### Bugè®°å½•

| Bug ID | æè¿° | ä¸¥é‡ç¨‹åº¦ | çŠ¶æ€ | è´Ÿè´£äºº |
|--------|------|---------|------|-------|
| #001 | ç™»å½•é¡µé¢æ ·å¼é”™ä½ | ä½ | å·²ä¿®å¤ | - |
| #002 | æ‰§è¡Œè¶…æ—¶æœªæç¤º | ä¸­ | è¿›è¡Œä¸­ | - |

---

## ğŸš€ æµ‹è¯•æ‰§è¡Œè®¡åˆ’

### ç¬¬1å‘¨: åŸºç¡€åŠŸèƒ½æµ‹è¯•

- [ ] é¡µé¢å¯¼èˆªæµ‹è¯•
- [ ] ç”¨æˆ·è®¤è¯æµ‹è¯•
- [ ] ä¹¦ç±æµè§ˆæµ‹è¯•

### ç¬¬2å‘¨: æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•

- [ ] ä»£ç ç¼–è¾‘å™¨æµ‹è¯•
- [ ] ä»£ç æ‰§è¡Œæµ‹è¯•
- [ ] AIåŠ©æ‰‹æµ‹è¯•

### ç¬¬3å‘¨: æ€§èƒ½å’Œå…¼å®¹æ€§æµ‹è¯•

- [ ] é¡µé¢æ€§èƒ½æµ‹è¯•
- [ ] æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•
- [ ] è®¾å¤‡é€‚é…æµ‹è¯•

### ç¬¬4å‘¨: å®‰å…¨å’Œç”¨æˆ·ä½“éªŒæµ‹è¯•

- [ ] å®‰å…¨æµ‹è¯•
- [ ] å¯è®¿é—®æ€§æµ‹è¯•
- [ ] ç”¨æˆ·ä½“éªŒæµ‹è¯•

---

## ğŸ’¡ æµ‹è¯•æœ€ä½³å®è·µ

### 1. æµ‹è¯•é‡‘å­—å¡”

```
      /\
     /E2E\      10% - ç«¯åˆ°ç«¯æµ‹è¯•
    /------\
   /é›†æˆæµ‹è¯• \   20% - é›†æˆæµ‹è¯•
  /----------\
 /  å•å…ƒæµ‹è¯•   \ 70% - å•å…ƒæµ‹è¯•
/--------------\
```

### 2. æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡

| ç±»å‹ | ç›®æ ‡è¦†ç›–ç‡ |
|-----|-----------|
| è¯­å¥è¦†ç›–ç‡ | > 80% |
| åˆ†æ”¯è¦†ç›–ç‡ | > 75% |
| å‡½æ•°è¦†ç›–ç‡ | > 80% |
| è¡Œè¦†ç›–ç‡ | > 80% |

### 3. æµ‹è¯•åŸåˆ™

1. **Fast** - å¿«é€Ÿï¼šæµ‹è¯•åº”è¯¥å¿«é€Ÿæ‰§è¡Œ
2. **Independent** - ç‹¬ç«‹ï¼šæµ‹è¯•ä¹‹é—´ä¸åº”è¯¥æœ‰ä¾èµ–
3. **Repeatable** - å¯é‡å¤ï¼šæµ‹è¯•ç»“æœåº”è¯¥ä¸€è‡´
4. **Self-Validating** - è‡ªæˆ‘éªŒè¯ï¼šæµ‹è¯•åº”è¯¥æœ‰æ˜ç¡®çš„é€šè¿‡/å¤±è´¥ç»“æœ
5. **Timely** - åŠæ—¶ï¼šæµ‹è¯•åº”è¯¥åŠæ—¶ç¼–å†™

---

## ğŸ“ æ€»ç»“

ç”±äºæ²¡æœ‰è¿è¡Œå‰ç«¯æœåŠ¡å™¨ï¼Œæœ¬æ–‡æ¡£æä¾›äº†å…¨é¢çš„å‰ç«¯æµ‹è¯•å»ºè®®å’ŒæŒ‡å—ã€‚

**æ¨èä¸‹ä¸€æ­¥è¡ŒåŠ¨**:

1. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
2. æŒ‰ç…§æµ‹è¯•è®¡åˆ’æ‰§è¡ŒåŠŸèƒ½æµ‹è¯•
3. ä½¿ç”¨æµè§ˆå™¨å¼€å‘å·¥å…·æ£€æŸ¥æ€§èƒ½
4. ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹
5. ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

**ç›¸å…³å·¥å…·**:
- Chrome DevTools
- React DevTools
- Redux DevTools
- Lighthouse
- Playwright/Cypress

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**åˆ›å»ºæ—¶é—´**: 2025-11-09  
**çŠ¶æ€**: å¾…æµ‹è¯•

