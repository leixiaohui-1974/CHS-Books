# æ™ºèƒ½çŸ¥è¯†å¹³å° V2.0 - å¯åŠ¨æŒ‡å—

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### å¿…éœ€
- Docker 20.10+
- Docker Compose 2.0+
- 8GB+ å†…å­˜
- 20GB+ ç£ç›˜ç©ºé—´

### å¯é€‰ï¼ˆæœ¬åœ°å¼€å‘ï¼‰
- Python 3.11+
- Node.js 18+

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰

### æ–¹å¼1: ä½¿ç”¨Docker Composeï¼ˆä¸€é”®å¯åŠ¨ï¼‰

```bash
# 1. è¿›å…¥å¹³å°ç›®å½•
cd /workspace/platform

# 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose -f docker-compose.v2.yml up -d

# 3. æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose -f docker-compose.v2.yml ps

# 4. æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.v2.yml logs -f backend
```

**æœåŠ¡åœ°å€**:
- åç«¯API: http://localhost:8000
- APIæ–‡æ¡£: http://localhost:8000/docs
- PostgreSQL: localhost:5432
- Redis: localhost:6379
- MongoDB: localhost:27017

### æ–¹å¼2: æœ¬åœ°å¼€å‘æ¨¡å¼

```bash
# 1. å®‰è£…ä¾èµ–
cd /workspace/platform/backend
pip install -r requirements.txt

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ç­‰

# 3. åˆå§‹åŒ–æ•°æ®åº“
python3 -m app.core.init_db

# 4. å¯åŠ¨æœåŠ¡
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶:

```bash
# æ•°æ®åº“
DATABASE_URL=postgresql+asyncpg://platform_user:platform_pass_2024@localhost:5432/platform_db
REDIS_URL=redis://localhost:6379/0
MONGODB_URL=mongodb://admin:admin_pass_2024@localhost:27017/

# åº”ç”¨
APP_NAME="æ™ºèƒ½çŸ¥è¯†å¹³å° V2.0"
APP_VERSION="2.0.0"
APP_ENV=development
APP_DEBUG=true

# JWT
JWT_SECRET_KEY=your-secret-key-please-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440

# CORS
CORS_ORIGINS='["http://localhost:3000","http://localhost:8000"]'
```

---

## ğŸ“Š æ•°æ®åº“åˆå§‹åŒ–

### è‡ªåŠ¨åˆå§‹åŒ–

```bash
cd /workspace/platform/backend

# åˆå§‹åŒ–æ‰€æœ‰è¡¨
python3 -m app.core.init_db
```

### æ‰‹åŠ¨åˆå§‹åŒ–

```python
# åœ¨Pythonç¯å¢ƒä¸­æ‰§è¡Œ
from app.core.init_db import init_database, check_tables
import asyncio

# åˆ›å»ºè¡¨
asyncio.run(init_database())

# æ£€æŸ¥è¡¨
asyncio.run(check_tables())
```

---

## ğŸ§ª æµ‹è¯•

### è¿è¡Œå¿«é€Ÿæµ‹è¯•

```bash
cd /workspace/platform/backend

# ç®€åŒ–æµ‹è¯•ï¼ˆæ— éœ€ä¾èµ–ï¼‰
python3 simple_test.py

# å®Œæ•´æµ‹è¯•ï¼ˆéœ€è¦å®‰è£…ä¾èµ–ï¼‰
python3 test_case_example.py
```

### è¿è¡Œå•å…ƒæµ‹è¯•

```bash
# éœ€è¦å…ˆå®‰è£…pytest
pip install pytest pytest-asyncio

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest tests/ -v

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/test_enhanced_features.py -v
```

---

## ğŸ“– APIä½¿ç”¨

### 1. è®¿é—®APIæ–‡æ¡£

æµè§ˆå™¨æ‰“å¼€:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

### 2. å¥åº·æ£€æŸ¥

```bash
curl http://localhost:8000/health
```

å“åº”:
```json
{
  "status": "healthy",
  "version": "2.0.0",
  "environment": "development",
  "database": "connected",
  "cache": "redis"
}
```

### 3. ç³»ç»Ÿä¿¡æ¯

```bash
curl http://localhost:8000/info
```

å“åº”:
```json
{
  "project": "æ™ºèƒ½çŸ¥è¯†å¹³å° V2.0",
  "version": "2.0.0",
  "features": {
    "session_management": "âœ… V2.0",
    "code_execution": "âœ… V2.0",
    "code_intelligence": "âœ… V2.0",
    "ai_assistant": "âœ… V2.0",
    ...
  }
}
```

### 4. ä½¿ç”¨API

è¯¦ç»†ç¤ºä¾‹è¯·å‚è€ƒ: `API_USAGE_EXAMPLES.md`

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜1: Dockerå®¹å™¨æ— æ³•å¯åŠ¨

```bash
# æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.v2.yml logs backend

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tuln | grep 8000

# é‡æ–°æ„å»º
docker-compose -f docker-compose.v2.yml build --no-cache backend
```

### é—®é¢˜2: æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥æ•°æ®åº“æ˜¯å¦è¿è¡Œ
docker-compose -f docker-compose.v2.yml ps postgres

# æµ‹è¯•æ•°æ®åº“è¿æ¥
docker-compose -f docker-compose.v2.yml exec postgres psql -U platform_user -d platform_db
```

### é—®é¢˜3: Docker socketæƒé™é—®é¢˜

```bash
# æ·»åŠ å½“å‰ç”¨æˆ·åˆ°dockerç»„
sudo usermod -aG docker $USER

# é‡æ–°ç™»å½•ä½¿æ›´æ”¹ç”Ÿæ•ˆ
su - $USER
```

### é—®é¢˜4: æ¨¡å—å¯¼å…¥é”™è¯¯

```bash
# ç¡®ä¿Pythonè·¯å¾„æ­£ç¡®
export PYTHONPATH=/workspace/platform/backend:$PYTHONPATH

# æˆ–åœ¨ä»£ç ä¸­è®¾ç½®
import sys
sys.path.insert(0, '/workspace/platform/backend')
```

---

## ğŸ“š å¸¸ç”¨å‘½ä»¤

### Docker Composeç®¡ç†

```bash
# å¯åŠ¨æœåŠ¡
docker-compose -f docker-compose.v2.yml up -d

# åœæ­¢æœåŠ¡
docker-compose -f docker-compose.v2.yml down

# é‡å¯æœåŠ¡
docker-compose -f docker-compose.v2.yml restart backend

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.v2.yml logs -f backend

# è¿›å…¥å®¹å™¨
docker-compose -f docker-compose.v2.yml exec backend bash

# æ¸…ç†æ‰€æœ‰æ•°æ®
docker-compose -f docker-compose.v2.yml down -v
```

### æ•°æ®åº“ç®¡ç†

```bash
# è¿æ¥PostgreSQL
docker-compose -f docker-compose.v2.yml exec postgres psql -U platform_user -d platform_db

# å¤‡ä»½æ•°æ®åº“
docker-compose -f docker-compose.v2.yml exec postgres pg_dump -U platform_user platform_db > backup.sql

# æ¢å¤æ•°æ®åº“
docker-compose -f docker-compose.v2.yml exec -T postgres psql -U platform_user -d platform_db < backup.sql
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. âœ… å¯åŠ¨æœåŠ¡
2. âœ… è®¿é—®APIæ–‡æ¡£
3. âœ… æµ‹è¯•APIè°ƒç”¨
4. ğŸ“– é˜…è¯»å®Œæ•´æ–‡æ¡£
   - [è®¾è®¡æ–¹æ¡ˆ](æ™ºèƒ½çŸ¥è¯†å¹³å°å¢å¼ºæ–¹æ¡ˆ-V2.0.md)
   - [å¼€å‘æ€»ç»“](DEVELOPMENT_SUMMARY_V2.0.md)
   - [APIç¤ºä¾‹](API_USAGE_EXAMPLES.md)
5. ğŸš€ å¼€å§‹é›†æˆå¼€å‘

---

## ğŸ“ è·å–å¸®åŠ©

### æ–‡æ¡£
- ğŸ“– è®¾è®¡æ–¹æ¡ˆ: `æ™ºèƒ½çŸ¥è¯†å¹³å°å¢å¼ºæ–¹æ¡ˆ-V2.0.md`
- ğŸ“– å¼€å‘æ€»ç»“: `DEVELOPMENT_SUMMARY_V2.0.md`
- ğŸ“– APIç¤ºä¾‹: `API_USAGE_EXAMPLES.md`
- ğŸ“– å®ŒæˆæŠ¥å‘Š: `å¼€å‘å®ŒæˆæŠ¥å‘Š.md`

### åœ¨çº¿èµ„æº
- APIæ–‡æ¡£: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€

**ç‰ˆæœ¬**: V2.0  
**æ›´æ–°æ—¥æœŸ**: 2025-11-03
