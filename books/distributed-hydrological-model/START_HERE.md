# ğŸš€ å¿«é€Ÿå…¥é—¨æŒ‡å—

æ¬¢è¿ä½¿ç”¨ã€Šåˆ†å¸ƒå¼æ°´æ–‡æ¨¡å‹ã€‹æ•™æï¼

## ğŸ“‹ é¡¹ç›®çŠ¶æ€

**å½“å‰ç‰ˆæœ¬**: v0.1.0-alpha  
**å¼€å‘çŠ¶æ€**: ğŸš§ æ—©æœŸå¼€å‘é˜¶æ®µ  
**å®Œæˆåº¦**: çº¦20%

### âœ… å·²å®Œæˆæ¨¡å—

1. **é¡¹ç›®æ¡†æ¶** âœ…
   - å®Œæ•´çš„ç›®å½•ç»“æ„
   - æ¨¡å—åŒ–è®¾è®¡
   - æ–‡æ¡£æ¡†æ¶

2. **æ ¸å¿ƒå·¥å…·æ¨¡å—** âœ…
   - è¯„ä¼°æŒ‡æ ‡ï¼ˆNSE, RMSE, REç­‰ï¼‰
   - æ•°æ®è¾“å…¥è¾“å‡º
   - ç»˜å›¾å·¥å…·
   - æ—¶é—´åºåˆ—å¤„ç†

3. **ç©ºé—´æ’å€¼æ¨¡å—** âœ…
   - Thiessenå¤šè¾¹å½¢æ³•
   - åè·ç¦»æƒé‡æ³•ï¼ˆIDWï¼‰
   - å…‹é‡Œé‡‘æ’å€¼ï¼ˆKrigingï¼‰
   - äº¤å‰éªŒè¯

4. **äº§æµæ¨¡æ‹Ÿæ¨¡å—** âœ…
   - **æ–°å®‰æ±Ÿæ¨¡å‹**ï¼ˆå®Œæ•´å®ç°ï¼‰
     - ä¸‰å±‚è’¸æ•£å‘
     - è“„æ»¡äº§æµ
     - ä¸‰æ°´æºåˆ’åˆ†
     - è‡ªç”±æ°´è“„æ°´åº“
   - Green-Amptæ¨¡å‹ï¼ˆæ¥å£ï¼‰

5. **æµ‹è¯•ä»£ç ** âœ…
   - æ–°å®‰æ±Ÿæ¨¡å‹å•å…ƒæµ‹è¯•
   - è¯„ä¼°æŒ‡æ ‡æµ‹è¯•
   - æ°´é‡å¹³è¡¡éªŒè¯

6. **æ¡ˆä¾‹4ï¼šæ–°å®‰æ±Ÿæ¨¡å‹** âœ…
   - å®Œæ•´çš„æ¡ˆä¾‹ä»£ç 
   - å‚æ•°æ•æ„Ÿæ€§åˆ†æ
   - å¯è§†åŒ–ç»“æœ
   - è¯¦ç»†æ–‡æ¡£

### ğŸ”„ è¿›è¡Œä¸­

- æ¡ˆä¾‹1-3çš„å®ç°
- æµåŸŸåˆ†ææ¨¡å—
- æ›´å¤šæµ‹è¯•ç”¨ä¾‹

### â³ å¾…å¼€å‘

- æ¡ˆä¾‹5-25
- å¡é¢æ±‡æµæ¨¡å—
- æ²³é“æ±‡æµæ¨¡å—
- å‚æ•°ç‡å®šæ¨¡å—
- æ•°æ®åŒåŒ–æ¨¡å—

---

## ğŸ› ï¸ ç¯å¢ƒé…ç½®

### ç³»ç»Ÿè¦æ±‚
- Python 3.8+
- Linux/Mac/Windows

### å®‰è£…æ­¥éª¤

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /workspace/books/distributed-hydrological-model

# 2. å®‰è£…ä¾èµ–ï¼ˆéœ€è¦numpyã€scipyã€matplotlibç­‰ï¼‰
pip install numpy scipy matplotlib pandas

# æˆ–ä½¿ç”¨å®Œæ•´ä¾èµ–åˆ—è¡¨
pip install -r requirements.txt

# 3. éªŒè¯å®‰è£…
python3 -c "import numpy; print('NumPy version:', numpy.__version__)"
```

---

## ğŸ“– æ ¸å¿ƒæ¨¡å—ä½¿ç”¨ç¤ºä¾‹

### 1. æ–°å®‰æ±Ÿæ¨¡å‹

```python
from code.core.runoff_generation import XinAnJiangModel, create_default_xaj_params
import numpy as np

# åˆ›å»ºæ¨¡å‹
params = create_default_xaj_params('humid')  # æ¹¿æ¶¦åœ°åŒºå‚æ•°
model = XinAnJiangModel(params)

# å‡†å¤‡æ•°æ®
rainfall = np.array([10, 20, 15, 5, 0])  # é™é›¨ (mm)
evaporation = np.array([5, 5, 5, 5, 5])  # è’¸å‘ (mm)

# è¿è¡Œæ¨¡æ‹Ÿ
results = model.run(rainfall, evaporation)

# æŸ¥çœ‹ç»“æœ
print(f"æ€»å¾„æµ: {results['R'].sum():.2f} mm")
print(f"åœ°è¡¨å¾„æµ: {results['RS'].sum():.2f} mm")
print(f"å£¤ä¸­æµ: {results['RI'].sum():.2f} mm")
print(f"åœ°ä¸‹å¾„æµ: {results['RG'].sum():.2f} mm")
```

### 2. ç©ºé—´æ’å€¼

```python
from code.core.interpolation import inverse_distance_weighting
import numpy as np

# ç«™ç‚¹æ•°æ®
stations_xy = np.array([[0, 0], [1, 0], [0, 1], [1, 1]])
station_values = np.array([10, 20, 15, 25])

# ç›®æ ‡ç‚¹
target_points = np.array([[0.5, 0.5], [0.25, 0.75]])

# IDWæ’å€¼
interpolated = inverse_distance_weighting(
    stations_xy, station_values, target_points, power=2
)

print(f"æ’å€¼ç»“æœ: {interpolated}")
```

### 3. è¯„ä¼°æŒ‡æ ‡

```python
from code.core.utils.metrics import evaluate_model
import numpy as np

# è§‚æµ‹å€¼å’Œæ¨¡æ‹Ÿå€¼
observed = np.array([1.0, 2.0, 3.0, 4.0, 5.0])
simulated = np.array([1.1, 2.1, 2.9, 4.2, 4.8])

# è®¡ç®—æ‰€æœ‰æŒ‡æ ‡
results = evaluate_model(observed, simulated)

for metric, value in results.items():
    print(f"{metric}: {value:.4f}")
```

---

## ğŸ¯ æ¡ˆä¾‹å­¦ä¹ è·¯å¾„

### æ¨èå­¦ä¹ é¡ºåº

1. **æ¡ˆä¾‹4ï¼šæ–°å®‰æ±Ÿæ¨¡å‹äº§æµè®¡ç®—** âœ… ï¼ˆå·²å®Œæˆï¼‰
   ```bash
   cd code/examples/case_04_xaj_model
   python3 main.py
   ```
   - å­¦ä¹ ç›®æ ‡ï¼šç†è§£è“„æ»¡äº§æµæœºåˆ¶
   - éš¾åº¦ï¼šâ­â­
   - æ—¶é—´ï¼š2-3å°æ—¶

2. æ¡ˆä¾‹2ï¼šThiessenå¤šè¾¹å½¢é™é›¨æ’å€¼ï¼ˆå¾…å¼€å‘ï¼‰
3. æ¡ˆä¾‹3ï¼šIDWä¸Krigingç©ºé—´æ’å€¼ï¼ˆå¾…å¼€å‘ï¼‰
4. æ¡ˆä¾‹1ï¼šDEMåˆ†æä¸æ²³ç½‘æå–ï¼ˆå¾…å¼€å‘ï¼‰

---

## ğŸ“Š é¡¹ç›®ç»“æ„

```
distributed-hydrological-model/
â”œâ”€â”€ README.md                    # é¡¹ç›®æ€»è§ˆ âœ…
â”œâ”€â”€ START_HERE.md               # æœ¬æ–‡ä»¶ âœ…
â”œâ”€â”€ requirements.txt            # ä¾èµ–åˆ—è¡¨ âœ…
â”‚
â”œâ”€â”€ code/                       # ä»£ç 
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•° âœ…
â”‚   â”‚   â”œâ”€â”€ interpolation/     # ç©ºé—´æ’å€¼ âœ…
â”‚   â”‚   â”œâ”€â”€ runoff_generation/ # äº§æµæ¨¡æ‹Ÿ âœ…
â”‚   â”‚   â”œâ”€â”€ basin/             # æµåŸŸåˆ†æ â³
â”‚   â”‚   â”œâ”€â”€ slope_routing/     # å¡é¢æ±‡æµ â³
â”‚   â”‚   â”œâ”€â”€ channel_routing/   # æ²³é“æ±‡æµ â³
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                 # å®Œæ•´æ¨¡å‹ â³
â”‚   â”‚
â”‚   â””â”€â”€ examples/               # æ¡ˆä¾‹
â”‚       â”œâ”€â”€ case_04_xaj_model/ # æ¡ˆä¾‹4 âœ…
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ tests/                      # æµ‹è¯•ä»£ç  âœ…
â”‚   â”œâ”€â”€ test_xaj_model.py
â”‚   â””â”€â”€ test_metrics.py
â”‚
â”œâ”€â”€ docs/                       # æ–‡æ¡£ â³
â”‚
â””â”€â”€ data/                       # æ•°æ® â³
```

---

## ğŸ’¡ å¼€å‘å»ºè®®

### å¯¹äºåˆå­¦è€…
1. å…ˆé˜…è¯» README.md äº†è§£é¡¹ç›®å…¨è²Œ
2. å­¦ä¹ æ¡ˆä¾‹4ï¼ˆæ–°å®‰æ±Ÿæ¨¡å‹ï¼‰
3. æŸ¥çœ‹ `code/core/` ä¸­çš„æ ¸å¿ƒæ¨¡å—ä»£ç 
4. å°è¯•ä¿®æ”¹å‚æ•°ï¼Œè§‚å¯Ÿç»“æœå˜åŒ–

### å¯¹äºå¼€å‘è€…
1. æŸ¥çœ‹å¾…å¼€å‘çš„æ¨¡å—åˆ—è¡¨
2. å‚è€ƒå·²å®Œæˆçš„æ¨¡å—ç»“æ„
3. ç¼–å†™å•å…ƒæµ‹è¯•
4. æäº¤Pull Request

### å¯¹äºæ•™å¸ˆ
1. ä½¿ç”¨æ¡ˆä¾‹4ä½œä¸ºæ•™å­¦ç¤ºä¾‹
2. æ ¹æ®å­¦ç”Ÿæ°´å¹³è°ƒæ•´å‚æ•°
3. è®¾è®¡é¢å¤–çš„ç»ƒä¹ é¢˜
4. æ”¶é›†å­¦ç”Ÿåé¦ˆ

---

## ğŸ› å·²çŸ¥é—®é¢˜

1. éœ€è¦å®‰è£…numpyã€scipyç­‰ä¾èµ–åŒ…
2. æ¡ˆä¾‹1-3å°šæœªå®ç°
3. éƒ¨åˆ†æ¨¡å—æ¥å£å¾…å®Œå–„
4. æ–‡æ¡£éœ€è¦è¿›ä¸€æ­¥è¡¥å……

---

## ğŸ“ è·å–å¸®åŠ©

### å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆè¿è¡Œå‡ºé”™ï¼Ÿ**  
A: è¯·å…ˆç¡®ä¿å®‰è£…äº†æ‰€æœ‰ä¾èµ–ï¼š`pip install numpy scipy matplotlib`

**Q: å¦‚ä½•è´¡çŒ®ä»£ç ï¼Ÿ**  
A: æŸ¥çœ‹ GitHub Issuesï¼Œé€‰æ‹©æ„Ÿå…´è¶£çš„ä»»åŠ¡

**Q: åœ¨å“ªé‡Œæ‰¾åˆ°æ›´å¤šæ¡ˆä¾‹ï¼Ÿ**  
A: è¯·å…³æ³¨é¡¹ç›®æ›´æ–°ï¼Œæ›´å¤šæ¡ˆä¾‹æ­£åœ¨å¼€å‘ä¸­

### è”ç³»æ–¹å¼
- GitHub Issues: æäº¤é—®é¢˜
- é‚®ç®±: chs-books@example.com

---

## ğŸŒŸ ä¸‹ä¸€æ­¥

1. **å®Œæˆç¯å¢ƒé…ç½®**
   ```bash
   pip install numpy scipy matplotlib
   ```

2. **è¿è¡Œç¬¬ä¸€ä¸ªæ¡ˆä¾‹**
   ```bash
   cd code/examples/case_04_xaj_model
   python3 main.py
   ```

3. **æŸ¥çœ‹ç»“æœ**
   ```bash
   ls outputs/
   ```

4. **å­¦ä¹ ä»£ç **
   - é˜…è¯» `main.py`
   - æŸ¥çœ‹ `../../core/runoff_generation/xaj_model.py`
   - ç†è§£æ¨¡å‹åŸç†

5. **å°è¯•ä¿®æ”¹**
   - æ”¹å˜å‚æ•°å€¼
   - æ·»åŠ æ–°çš„åˆ†æ
   - ç»˜åˆ¶è‡ªå·±çš„å›¾è¡¨

---

**ç¥å­¦ä¹ æ„‰å¿«ï¼** ğŸ’§ğŸŒŠğŸ”ï¸

---

*æœ€åæ›´æ–°: 2025-11-02*  
*ç‰ˆæœ¬: v0.1.0-alpha*
