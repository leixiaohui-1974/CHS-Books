# 地下水动力学模型教材

> **从网格剖分到数字孪生：Python驱动的地下水建模完整教程**

[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/Status-90%25完成-brightgreen.svg)]()

---

## 📖 教材概述

本教材是水利工程系列的**第五本书**，专注于地下水动力学建模、仿真与智能管理。采用**案例驱动、代码实践、测试保证**的教学方法，通过20个递进式案例，构建从基础到前沿的完整知识体系。

### 🎯 核心内容
- **网格剖分**：结构化与非结构化网格生成
- **地下水模拟**：稳态/瞬态、2D/3D、有限差分/有限元
- **参数率定**：优化方法、PEST、贝叶斯推断、系统辨识
- **耦合模型**：地表地下水交互、河流-含水层、多层系统
- **人类活动影响**：开采优化、地面沉降、污染运移
- **智能化技术**：机器学习代理模型、数字孪生、智能决策

---

## ✨ 教材特色

| 特色 | 说明 |
|------|------|
| 🔥 **代码驱动** | 每个理论概念都有Python实现，即学即用 |
| 📚 **案例完整** | 20个递进式案例，从简单到复杂 |
| ✅ **测试保证** | 所有代码都有测试，覆盖率>80% |
| 🎨 **可视化丰富** | 精美图表和动画，直观理解复杂过程 |
| 🚀 **工程实践** | 可直接用于项目的`gwflow`工具包 |
| 🤖 **智能化** | 融入AI、数字孪生等前沿技术 |

---

## 📚 教材结构

### 第一篇：基础理论与数值方法（案例1-5）
掌握地下水流动基本理论和数值离散方法
- 案例1：一维稳态地下水流动
- 案例2：二维稳态流动与网格剖分 ⭐
- 案例3：非均质含水层模拟
- 案例4：瞬态地下水流动 ⭐
- 案例5：有限元方法基础

### 第二篇：参数率定与不确定性分析（案例6-10）
掌握地下水模型参数识别和不确定性量化方法
- 案例6：基于观测数据的参数率定 ⭐
- 案例7：PEST方法与自动率定
- 案例8：贝叶斯推断与不确定性量化
- 案例9：系统辨识方法
- 案例10：代理模型与机器学习加速 ⭐

### 第三篇：地表地下水耦合系统（案例11-15）✅ **已完成**
建立复杂的地表地下水耦合模型
- 案例11：河流-地下水耦合基础理论 ⭐
- 案例12：MODFLOW River包实现 ⭐
- 案例13：多层含水层系统与越流模拟
- 案例14：耦合模型参数率定 ⭐
- 案例15：耦合系统不确定性量化

### 第四篇：人类活动影响评估（案例16-18）✅ **已完成**
量化人类活动对地下水系统的影响
- 案例16：地下水开采优化（Theis解、叠加原理） ⭐
- 案例17：地面沉降模拟（Terzaghi固结理论）
- 案例18：地下水污染物运移模拟（对流-弥散方程） ⭐

### 第五篇：智能化与数字孪生（案例19-20）
应用先进的智能化技术构建地下水数字孪生系统
- 案例19：地下水数字孪生架构 ⭐⭐
- 案例20：智能决策支持系统综合应用 ⭐⭐

> ⭐ 核心案例，建议重点学习

---

## 🚀 快速开始

### 1. 环境准备
```bash
# 创建虚拟环境
conda create -n gwflow python=3.9
conda activate gwflow

# 安装依赖
pip install -r requirements.txt
```python

### 2. 运行第一个案例
```bash
cd code/examples/case_01
python case_01_1d_steady.py
```python

### 3. 查看Jupyter教程
```bash
jupyter notebook notebooks/case_01_tutorial.ipynb
```python

---

## 📂 项目结构

```
underground-water-dynamics/
├── README.md                    # 本文件
├── START_HERE.md               # 快速入门指南
├── 教程提纲-完整版.md           # 详细技术方案
├── requirements.txt            # Python依赖
├── gwflow/                     # 核心工具包
│   ├── grid/                  # 网格生成
│   ├── solvers/               # 求解器
│   ├── calibration/           # 参数率定
│   ├── coupling/              # 耦合模型
│   ├── transport/             # 运移模拟
│   ├── surrogate/             # 代理模型
│   ├── digital_twin/          # 数字孪生
│   ├── optimization/          # 优化管理
│   └── visualization/         # 可视化
├── code/
│   └── examples/
│       ├── case_01/           # 案例1代码
│       ├── case_02/           # 案例2代码
│       └── ...
├── notebooks/                  # Jupyter教程
│   ├── case_01_tutorial.ipynb
│   └── ...
├── tests/                      # 测试套件
│   ├── test_grid.py
│   ├── test_solvers.py
│   └── ...
├── data/                       # 数据集
│   ├── synthetic/             # 合成数据
│   └── real_world/            # 真实数据
└── docs/                       # 文档
    ├── api/                   # API文档
    ├── theory/                # 理论推导
    └── user_guide/            # 用户指南
```python

---

## 🎓 学习路径

### 👨‍🎓 本科生（8周）
```
Week 1-2: 案例1-4 (基础建模)
Week 3: 案例5-6 (有限元与参数率定)
Week 4: 案例11 (地表地下水交互)
Week 5-7: 综合项目
Week 8: 总结答辩
```python

### 👨‍🔬 研究生（16周）
```
Week 1-2: 案例1-5 (快速回顾)
Week 3-6: 案例6-10 (参数率定深入)
Week 7-10: 案例11-18 (耦合与应用)
Week 11-12: 案例19-20 (智能化技术)
Week 13-16: 研究项目 + 论文
```python

### 👷 工程师（8周）
```
Week 1: 案例2, 4 (二维瞬态)
Week 2-3: 案例6, 7, 14 (率定与MODFLOW)
Week 4: 案例15, 16 (3D与开采优化)
Week 5-8: 真实项目演练
```python

---

## 💻 技术栈

### 核心依赖
```
numpy >= 1.21.0          # 数值计算
scipy >= 1.7.0           # 科学计算
matplotlib >= 3.4.0      # 可视化
pandas >= 1.3.0          # 数据处理
```python

### 数值方法
```
meshpy >= 2022.1         # 网格生成
cvxpy >= 1.1.0           # 凸优化
```python

### 机器学习
```
scikit-learn >= 1.0.0    # 传统机器学习
torch >= 1.10.0          # 深度学习
```python

### 专业工具
```
flopy >= 3.3.5           # MODFLOW接口
emcee >= 3.1.0           # MCMC采样
pysindy >= 1.7.0         # 系统辨识
filterpy >= 1.4.5        # 卡尔曼滤波
```

---

## 📊 学习成果

完成本教材后，你将能够：

✅ 独立构建地下水数值模型（从概念到实现）  
✅ 进行参数率定和不确定性分析  
✅ 建立地表地下水耦合模型  
✅ 评估人类活动对地下水系统的影响  
✅ 应用机器学习和数字孪生技术  
✅ 开发完整的地下水决策支持系统

---

## 🔗 相关资源

### 系列教材
- 📖 [明渠水力学](../open-channel-hydraulics/) - 第1本
- 📖 [水系统控制论](../water-system-control/) - 第2本
- 📖 [运河与管道控制](../canal-pipeline-control/) - 第3本
- 📖 [智能水网设计](../intelligent-water-network-design/) - 第4本
- 📖 **地下水动力学模型** - 第5本（本书）

### 在线资源
- 📺 视频教程：[待发布]
- 💬 讨论论坛：[GitHub Discussions]
- 📧 Email支持：[待提供]

---

## 🤝 贡献指南

欢迎贡献！你可以通过以下方式参与：

1. **报告问题**：提交Issue描述bug或建议
2. **改进文档**：修正错误或补充说明
3. **提交代码**：添加新功能或优化现有代码
4. **分享案例**：贡献实际项目应用案例

详见 [CONTRIBUTING.md](CONTRIBUTING.md)

---

## 📜 开源协议

本项目采用 [MIT License](LICENSE)

---

## 👥 作者与致谢

### 作者
- **主要开发者**：[待填写]
- **技术顾问**：[待填写]

### 致谢
本教材的设计借鉴了：
- 前四本书的教学经验和代码框架
- MODFLOW、FEFLOW等成熟软件的设计思想
- 国内外优秀地下水教材的理论体系
- 开源社区的优秀工具和库

特别感谢所有为本项目提供建议和帮助的人！

---

## 📞 联系方式

- **GitHub Issues**: [提问或报告问题]
- **Email**: [待提供]
- **Website**: [待建立]

---

## 🗓️ 开发进度

- [x] 方案设计（2025-11-02完成）
- [x] 方案设计（2025-11-02完成）
- [x] 案例1-5开发（基础篇）✅ **已完成**
- [x] 案例6-10开发（参数率定篇）✅ **已完成**
- [x] 案例11-15开发（耦合篇）✅ **已完成**
- [x] 案例16-18开发（应用篇）✅ **已完成**
- [ ] 案例19-20开发（智能化篇）🔧 设计完成，待开发
- [ ] 测试与文档完善
- [ ] 正式发布v1.0

**当前版本**: v0.9.0  
**基础篇**: ✅ 100%完成（2025-11-02）  
**参数率定篇**: ✅ 100%完成（2025-11-02）  
**耦合篇**: ✅ 100%完成（2025-11-02）  
**应用篇**: ✅ 100%完成（2025-11-02）  
**整体进度**: 90% (18/20案例完成)  
**预计v1.0完成时间**：2025年11月底（3周开发周期）

---

## ⭐ Star History

如果本教材对你有帮助，请给我们一个Star⭐！

---

**开始你的地下水建模之旅吧！** 🚀

建议从 [START_HERE.md](START_HERE.md) 开始阅读。

**Happy Coding! 💻**
