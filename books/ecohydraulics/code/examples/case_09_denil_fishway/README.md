# 案例9：丹尼尔式鱼道设计

## 工程背景

丹尼尔式鱼道（Denil Fishway）是一种经典的鱼道类型，由比利时工程师G. Denil于1909年发明。其特点是通过槽底密集排列的倾斜挡板产生高度紊流，形成低速区供鱼类通过。相比竖缝式鱼道，丹尼尔鱼道结构更简单、造价更低，但水力条件较为复杂。

## 问题描述

为某拦河坝设计丹尼尔式鱼道：
- 坝高：5.0 m
- 设计流量：0.5 m³/s
- 目标鱼类：鲤科鱼类（青鱼、草鱼、鲢鱼、鳙鱼等）

要求优化底坡设计，确保：
1. 流速适宜鱼类上溯
2. 单位功率不超标
3. 水深满足要求
4. 挡板布置合理

## 涉及理论

### 1. 丹尼尔鱼道水力学

**基本原理**：
- 倾斜槽道 + 密集挡板
- 挡板产生紊流消能
- 形成高低速交替的复杂流场

**水深计算**（经验公式）：
```
h = C × Q^0.4 × B^(-0.3)
C = 0.5 + 0.05/S
```
其中：
- h：水深 (m)
- Q：流量 (m³/s)
- B：槽宽 (m)
- S：底坡 (1:n)

### 2. 能量耗散

**单位长度能量耗散**：
```
ε = (1/S) × (1 + 0.5×sin(θ))
```
其中：
- ε：耗散率 (m/m)
- θ：挡板倾角

### 3. 鱼类通过评价指标

**关键参数**：
1. **平均流速**：v < v_crit
   - 鲤科鱼类：v_crit ≈ 2.0 m/s
   - 鲑科鱼类：v_crit ≈ 3.0 m/s

2. **单位功率**：P_unit < P_crit
   - 鲤科鱼类：P_crit ≈ 200 W/m²
   - 鲑科鱼类：P_crit ≈ 300 W/m²

**单位功率计算**：
```
P_unit = ρgQΔH/(BL)
```

### 4. 挡板设计

**标准参数**：
- 挡板高度：0.15 m
- 挡板间距：0.4 m
- 挡板倾角：45°
- 布置方式：交错排列

## 学习目标

1. 理解丹尼尔鱼道的水力特性
2. 掌握鱼道底坡优化方法
3. 学会挡板配置设计
4. 评估鱼类通过能力

## 计算内容

### 1. 水力计算
- 不同底坡下的水深
- 平均流速分布
- 弗劳德数
- 单位功率

### 2. 底坡优化
- 尝试不同底坡（1:6, 1:8, 1:10, 1:12, 1:15）
- 评估各方案的适宜性
- 选择最优底坡

### 3. 挡板配置
- 确定挡板数量
- 布置挡板位置
- 检查间距合理性

### 4. 鱼类通过评估
- 计算流速与临界流速比
- 计算功率与临界功率比
- 给出适宜性评级

## 使用方法

```bash
cd code/examples/case_09_denil_fishway
python3 main.py
```

## 结果示例

```
工程条件:
  坝高: 5.0 m
  设计流量: 0.5 m³/s
  目标鱼类: 鲤科鱼类

推荐设计方案:
  槽道宽度: 1.00 m
  槽道长度: 50.00 m
  底坡: 1:10
  挡板数量: 125 个
  挡板间距: 0.40 m

水力条件:
  水深: 0.385 m
  流速: 1.30 m/s
  弗劳德数: 0.671
  单位功率: 98.1 W/m²

鱼类通过能力:
  实际流速: 1.30 m/s
  临界流速: 2.00 m/s
  实际功率: 98.1 W/m²
  临界功率: 200.0 W/m²
  适宜性评价: 优秀
  评分: 1.00
```

## 关键结果

### 优化结果

| 底坡 | 流速(m/s) | 单位功率(W/m²) | 适宜性 | 评分 |
|------|-----------|----------------|--------|------|
| 1:6  | 1.58      | 163.5          | 良好   | 0.80 |
| 1:8  | 1.41      | 122.6          | 优秀   | 1.00 |
| **1:10** | **1.30** | **98.1** | **优秀** | **1.00** |
| 1:12 | 1.23      | 81.8           | 优秀   | 1.00 |
| 1:15 | 1.15      | 65.4           | 优秀   | 1.00 |

**推荐方案**：底坡1:10
- 平衡了流速和长度
- 造价适中
- 鱼类通过性优秀

### 设计图纸

程序生成6张图表：

1. **纵剖面图**：展示鱼道坡度、水面线、挡板位置
2. **底坡-流速关系**：对比不同底坡的流速
3. **底坡-功率关系**：对比不同底坡的单位功率
4. **适宜性评分**：各方案的综合评分
5. **流量-水深-流速**：设计流量范围内的水力特性
6. **挡板布置图**：俯视图展示挡板交错排列方式

## 工程应用

### 适用条件

**优点**：
- 结构简单，造价低
- 维护方便
- 适应流量变化范围大
- 占地面积小

**缺点**：
- 水力条件复杂
- 不如竖缝式鱼道稳定
- 对弱游泳能力鱼类不太友好

### 适用场景

1. **中小型水坝**（落差2-8m）
2. **鲤科鱼类为主**的河流
3. **造价受限**的工程
4. **改造现有鱼道**

### 与竖缝式鱼道对比

| 特性 | 丹尼尔鱼道 | 竖缝式鱼道 |
|------|-----------|-----------|
| 结构 | 简单 | 复杂 |
| 造价 | 低 | 高 |
| 水力条件 | 复杂紊流 | 稳定可控 |
| 适应性 | 较好 | 优秀 |
| 维护 | 容易 | 较难 |
| 鱼类友好性 | 中等 | 优秀 |

## 设计要点

### 1. 底坡选择
- 一般1:8~1:12
- 坡度太陡：流速过大
- 坡度太缓：鱼道过长，造价高

### 2. 槽宽确定
- 标准宽度：0.8~1.2 m
- 根据目标鱼类体型调整
- 保证单条鱼通过空间

### 3. 挡板设计
- 间距：0.3~0.5 m
- 高度：0.10~0.20 m
- 倾角：30~60°
- 布置：交错排列

### 4. 流量控制
- 设置进口闸门
- 保持相对稳定流量
- 避免流量剧烈波动

## 参考文献

1. **Clay, C.H. (1995)**. *Design of Fishways and Other Fish Facilities*. 2nd Edition.
2. **Larinier, M. (2002)**. *Fish passage through culverts, rock weirs and estuaries*. Bulletin Français de la Pêche et de la Pisciculture, 364, 119-134.
3. **Rajaratnam, N., Katopodis, C., & Solanki, S. (1992)**. *New designs for vertical slot fishways*. Canadian Journal of Civil Engineering, 19(3), 402-414.
4. **中国水利水电科学研究院 (2009)**. 水电工程鱼道设计规范 DL/T 5127-2009.

## 扩展思考

1. **多鱼种适应**：如何设计适合多种鱼类的丹尼尔鱼道？
2. **挡板优化**：能否通过CFD模拟优化挡板形状和布置？
3. **智能控制**：如何根据实时流量自动调节进口闸门？
4. **生态友好**：如何在鱼道中增设休息池？
5. **监测评估**：如何评估鱼道的实际通过效率？

## 相关案例

- **案例7**：鱼类游泳能力与水流关系
- **案例8**：竖缝式鱼道水力设计
- **案例10**：鱼卵漂流与孵化场水力条件
- **案例12**：洄游通道水力连通性分析
