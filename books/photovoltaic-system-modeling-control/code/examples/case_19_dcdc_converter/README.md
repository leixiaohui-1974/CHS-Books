# æ¡ˆä¾‹19: DC/DCå˜æ¢å™¨å»ºæ¨¡

## ğŸ“– æ•™å­¦ç›®æ ‡

æŒæ¡DC/DCå˜æ¢å™¨çš„å·¥ä½œåŸç†å’Œæ•°å­¦æ¨¡å‹ï¼Œç†è§£ä¸åŒæ‹“æ‰‘çš„ç‰¹ç‚¹ï¼Œèƒ½å¤Ÿè¿›è¡Œä»¿çœŸåˆ†æã€‚

**æ ¸å¿ƒå†…å®¹**:
1. Boostå‡å‹å˜æ¢å™¨
2. Bucké™å‹å˜æ¢å™¨
3. Buck-Boostå‡é™å‹å˜æ¢å™¨
4. çŠ¶æ€ç©ºé—´å¹³å‡æ¨¡å‹

---

## ğŸ¯ æ ¸å¿ƒç†è®º

### 1. DC/DCå˜æ¢å™¨åŸºæœ¬åŸç†

#### åŠŸèƒ½
å°†ç›´æµç”µå‹ä»ä¸€ä¸ªç”µå¹³è½¬æ¢åˆ°å¦ä¸€ä¸ªç”µå¹³

**ä¸»è¦ç±»å‹**:
- **Boost (å‡å‹)**: \( V_{out} > V_{in} \)
- **Buck (é™å‹)**: \( V_{out} < V_{in} \)
- **Buck-Boost (å‡é™å‹)**: \( V_{out} \) å¯å¤§å¯å°ï¼Œä½†ææ€§åè½¬

#### å·¥ä½œæ–¹å¼
é€šè¿‡å¼€å…³ç®¡çš„å‘¨æœŸæ€§å¼€å…³ï¼Œé…åˆå‚¨èƒ½å…ƒä»¶ï¼ˆç”µæ„Ÿã€ç”µå®¹ï¼‰ï¼Œå®ç°ç”µå‹å˜æ¢

### 2. Boostå‡å‹å˜æ¢å™¨

#### ç”µè·¯æ‹“æ‰‘

```
Vin --L-- Diode --+-- Cout -- Rload
            |     |
           SW     âš
```

#### å·¥ä½œåŸç†

**å¼€å…³é—­åˆ (t = DÂ·Ts)**:
- ç”µæ„Ÿå‚¨èƒ½: \( v_L = V_{in} \)
- è¾“å‡ºç”±ç”µå®¹ç»´æŒ

**å¼€å…³æ–­å¼€ (t = (1-D)Â·Ts)**:
- ç”µæ„Ÿæ”¾èƒ½: \( v_L = V_{in} - V_{out} \)
- ç”µæ„Ÿç”µæµæµå‘è´Ÿè½½

#### çŠ¶æ€ç©ºé—´æ¨¡å‹

\[
\begin{cases}
\frac{di_L}{dt} = \frac{1}{L} [V_{in} - (1-d) \cdot v_C] \\
\frac{dv_C}{dt} = \frac{1}{C} [(1-d) \cdot i_L - \frac{v_C}{R}]
\end{cases}
\]

#### ç¨³æ€ç‰¹æ€§

\[
\frac{V_{out}}{V_{in}} = \frac{1}{1 - D}
\]

**ç‰¹ç‚¹**:
- å‡å‹æ¯” > 1
- è¾“å…¥ç”µæµè¿ç»­
- é€‚åˆä½å‹è¾“å…¥åœºæ™¯

### 3. Bucké™å‹å˜æ¢å™¨

#### ç”µè·¯æ‹“æ‰‘

```
Vin --SW--+-- L --+-- Cout -- Rload
          |       |
        Diode     âš
```

#### çŠ¶æ€ç©ºé—´æ¨¡å‹

\[
\begin{cases}
\frac{di_L}{dt} = \frac{1}{L} [d \cdot V_{in} - v_C] \\
\frac{dv_C}{dt} = \frac{1}{C} [i_L - \frac{v_C}{R}]
\end{cases}
\]

#### ç¨³æ€ç‰¹æ€§

\[
\frac{V_{out}}{V_{in}} = D
\]

**ç‰¹ç‚¹**:
- é™å‹æ¯” < 1
- è¾“å‡ºç”µæµè¿ç»­
- æ•ˆç‡é«˜

### 4. Buck-Boostå‡é™å‹å˜æ¢å™¨

#### ç”µè·¯æ‹“æ‰‘

```
Vin --SW--+
          |
          L
          |
     Diode--+-- Cout -- Rload
            |
            âš
```

#### çŠ¶æ€ç©ºé—´æ¨¡å‹

\[
\begin{cases}
\frac{di_L}{dt} = \frac{1}{L} [d \cdot V_{in} - (1-d) \cdot |v_C|] \\
\frac{dv_C}{dt} = \frac{1}{C} [-(1-d) \cdot i_L - \frac{v_C}{R}]
\end{cases}
\]

#### ç¨³æ€ç‰¹æ€§

\[
\frac{V_{out}}{V_{in}} = -\frac{D}{1 - D}
\]

**ç‰¹ç‚¹**:
- å‡é™å‹çµæ´»
- è¾“å‡ºææ€§åè½¬
- éš”ç¦»æ€§å¥½

---

## ğŸ’» ä»£ç å®ç°

### 1. Boostå˜æ¢å™¨

```python
from models.dcdc_converter import BoostConverter

# åˆ›å»ºBoostå˜æ¢å™¨
boost = BoostConverter(
    L=100e-6,   # 100uHç”µæ„Ÿ
    C=100e-6,   # 100uFç”µå®¹
    R=10.0      # 10Î©è´Ÿè½½
)

# ä»¿çœŸ
V_in = 12.0  # 12Vè¾“å…¥
d = 0.5      # 50%å ç©ºæ¯”
dt = 1e-6    # 1usæ—¶é—´æ­¥é•¿

for _ in range(10000):
    i_L, v_C = boost.update(V_in, d, dt)

print(f"è¾“å‡ºç”µå‹: {v_C:.2f}V")
print(f"ç†è®ºå€¼: {V_in/(1-d):.2f}V")
```

### 2. Buckå˜æ¢å™¨

```python
from models.dcdc_converter import BuckConverter

buck = BuckConverter(L=100e-6, C=100e-6, R=10.0)

V_in = 24.0
d = 0.5

for _ in range(10000):
    i_L, v_C = buck.update(V_in, d, dt)

print(f"è¾“å‡ºç”µå‹: {v_C:.2f}V")
print(f"ç†è®ºå€¼: {d*V_in:.2f}V")
```

### 3. Buck-Boostå˜æ¢å™¨

```python
from models.dcdc_converter import BuckBoostConverter

buck_boost = BuckBoostConverter(L=100e-6, C=100e-6, R=10.0)

V_in = 20.0
d = 0.5

for _ in range(10000):
    i_L, v_C = buck_boost.update(V_in, d, dt)

print(f"è¾“å‡ºç”µå‹: {abs(v_C):.2f}V (è´Ÿææ€§)")
print(f"ç†è®ºå€¼: {abs(d/(1-d)*V_in):.2f}V")
```

---

## ğŸ§ª å®éªŒå†…å®¹

### å®éªŒ1: Boostå‡å‹ç‰¹æ€§

**å®éªŒç›®çš„**: éªŒè¯Boostå˜æ¢å™¨çš„å‡å‹ç‰¹æ€§

**å®éªŒæ­¥éª¤**:
1. è®¾ç½®å‚æ•°: L=100uH, C=100uF, R=10Î©, Vin=12V
2. æµ‹è¯•ä¸åŒå ç©ºæ¯”: D = 0.3, 0.5, 0.7, 0.8
3. è®°å½•ç¨³æ€è¾“å‡ºç”µå‹
4. å¯¹æ¯”ç†è®ºå€¼

**é¢„æœŸç»“æœ**:
| å ç©ºæ¯” | ç†è®ºVout | å®é™…Vout | å‡å‹æ¯” |
|--------|----------|----------|--------|
| 0.3 | 17.1V | ~17V | 1.43 |
| 0.5 | 24.0V | ~24V | 2.00 |
| 0.7 | 40.0V | ~40V | 3.33 |
| 0.8 | 60.0V | ~60V | 5.00 |

### å®éªŒ2: Bucké™å‹ç‰¹æ€§

**å®éªŒç›®çš„**: éªŒè¯Buckå˜æ¢å™¨çš„é™å‹ç‰¹æ€§

**å®éªŒæ­¥éª¤**:
1. è®¾ç½®å‚æ•°: L=100uH, C=100uF, R=10Î©, Vin=24V
2. æµ‹è¯•ä¸åŒå ç©ºæ¯”: D = 0.2, 0.4, 0.6, 0.8
3. è®°å½•ç¨³æ€è¾“å‡ºç”µå‹
4. å¯¹æ¯”ç†è®ºå€¼

**é¢„æœŸç»“æœ**:
| å ç©ºæ¯” | ç†è®ºVout | å®é™…Vout | é™å‹æ¯” |
|--------|----------|----------|--------|
| 0.2 | 4.8V | ~4.8V | 0.20 |
| 0.4 | 9.6V | ~9.6V | 0.40 |
| 0.6 | 14.4V | ~14.4V | 0.60 |
| 0.8 | 19.2V | ~19.2V | 0.80 |

### å®éªŒ3: ä¸‰ç§æ‹“æ‰‘å¯¹æ¯”

**å®éªŒç›®çš„**: å¯¹æ¯”ä¸‰ç§æ‹“æ‰‘çš„æ€§èƒ½

**å®éªŒè®¾ç½®**: ç»Ÿä¸€æ¡ä»¶
- Vin = 20V
- D = 0.5
- L = 100uH, C = 100uF, R = 10Î©

**é¢„æœŸç»“æœ**:
| æ‹“æ‰‘ | è¾“å‡ºç”µå‹ | ç‰¹ç‚¹ |
|------|----------|------|
| Boost | 40V | å‡å‹ï¼Œ>Vin |
| Buck | 10V | é™å‹ï¼Œ<Vin |
| Buck-Boost | 20V | å‡é™å‹ï¼Œææ€§å |

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### 1. ç¨³æ€æ€§èƒ½

| æŒ‡æ ‡ | è¦æ±‚ | è¯´æ˜ |
|------|------|------|
| ç”µå‹ç²¾åº¦ | < 5% | ä¸ç†è®ºå€¼åå·® |
| çº¹æ³¢ç”µå‹ | < 2% | è¾“å‡ºç”µå‹æ³¢åŠ¨ |
| æ•ˆç‡ | > 90% | è€ƒè™‘æŸè€— |

### 2. åŠ¨æ€æ€§èƒ½

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | è¯´æ˜ |
|------|--------|------|
| å¯åŠ¨æ—¶é—´ | < 10ms | è¾¾åˆ°ç¨³æ€ |
| è´Ÿè½½å“åº” | < 5ms | è´Ÿè½½å˜åŒ– |
| å ç©ºæ¯”å˜åŒ–å“åº” | < 2ms | å‚è€ƒå˜åŒ– |

### 3. å‚æ•°è®¾è®¡

**ç”µæ„Ÿé€‰æ‹©**:
\[
L = \frac{V_{in} \cdot D}{f_s \cdot \Delta i_L}
\]

**ç”µå®¹é€‰æ‹©**:
\[
C = \frac{I_{out} \cdot D}{f_s \cdot \Delta v_C}
\]

å…¶ä¸­:
- \( f_s \): å¼€å…³é¢‘ç‡
- \( \Delta i_L \): ç”µæ„Ÿç”µæµçº¹æ³¢
- \( \Delta v_C \): ç”µå®¹ç”µå‹çº¹æ³¢

---

## âš™ï¸ å·¥ç¨‹åº”ç”¨

### 1. å…‰ä¼ç³»ç»Ÿä¸­çš„åº”ç”¨

**Boostå˜æ¢å™¨**:
- ä½å‹å…‰ä¼æ¿å‡å‹åˆ°é«˜å‹ç›´æµæ¯çº¿
- å…¸å‹: 30V â†’ 400V

**Buckå˜æ¢å™¨**:
- ç›´æµæ¯çº¿é™å‹ç»™ç”µæ± å……ç”µ
- å…¸å‹: 400V â†’ 48V

**Buck-Boost**:
- ç”µæ± ç”µå‹èŒƒå›´å®½ï¼Œéœ€å‡é™å‹
- å…¸å‹: 36-60V â†’ 48Vç¨³å®šè¾“å‡º

### 2. å‚æ•°è®¾è®¡ç¤ºä¾‹

```python
# å…‰ä¼Boostè®¾è®¡
V_pv = 30.0  # å…‰ä¼ç”µå‹
V_dc = 400.0  # ç›´æµæ¯çº¿ç”µå‹
P_rated = 3000.0  # é¢å®šåŠŸç‡3kW
f_s = 20e3  # 20kHzå¼€å…³é¢‘ç‡

# å ç©ºæ¯”
D = 1 - V_pv / V_dc  # = 0.925

# ç”µæ„Ÿè®¾è®¡ (çº¹æ³¢20%)
I_avg = P_rated / V_pv  # 100A
di_L = 0.2 * I_avg  # 20A
L = V_pv * D / (f_s * di_L)  # = 69uH

# ç”µå®¹è®¾è®¡ (çº¹æ³¢1%)
I_out = P_rated / V_dc  # 7.5A
dv_C = 0.01 * V_dc  # 4V
C = I_out * D / (f_s * dv_C)  # = 86uF

print(f"è®¾è®¡ç»“æœ: L={L*1e6:.0f}uH, C={C*1e6:.0f}uF")
```

### 3. æ§åˆ¶ç­–ç•¥

**ç”µå‹æ¨¡å¼æ§åˆ¶**:
```python
# PIæ§åˆ¶å™¨è°ƒèŠ‚å ç©ºæ¯”
V_ref = 400.0  # å‚è€ƒç”µå‹
V_out = measure_voltage()

error = V_ref - V_out
d = Kp * error + Ki * integral

d = np.clip(d, 0, 0.95)  # é™å¹…
```

---

## ğŸ“ ä½œä¸šç»ƒä¹ 

### ç»ƒä¹ 1: å‚æ•°è®¡ç®—
Boostå˜æ¢å™¨: Vin=15V, Vout=30V, P=100W
1. è®¡ç®—å ç©ºæ¯”
2. è‹¥fs=50kHzï¼Œçº¹æ³¢20%ï¼Œè®¡ç®—L
3. ç”µå®¹çº¹æ³¢1%ï¼Œè®¡ç®—C

### ç»ƒä¹ 2: æ‹“æ‰‘é€‰æ‹©
ä»¥ä¸‹åœºæ™¯é€‰æ‹©åˆé€‚æ‹“æ‰‘ï¼š
1. 12Vç”µæ±  â†’ 24Vè´Ÿè½½ (?)
2. 48Væ¯çº¿ â†’ 12Vè´Ÿè½½ (?)
3. 20-60Vè¾“å…¥ â†’ 48Vç¨³å®šè¾“å‡º (?)

### ç»ƒä¹ 3: æ€§èƒ½åˆ†æ
å¯¹æ¯”Boostå’ŒBuck-Boostå‡å‹:
- æ•ˆç‡å·®å¼‚
- ç”µæµåº”åŠ›
- æˆæœ¬è€ƒè™‘

### ç»ƒä¹ 4: ä»¿çœŸå®éªŒ
ä¿®æ”¹ä»£ç ï¼Œå¢åŠ ç”µæ„ŸESR (r_L=0.1Î©):
1. è§‚å¯Ÿæ•ˆç‡å˜åŒ–
2. è®¡ç®—åŠŸç‡æŸè€—
3. åˆ†ææ¸©å‡å½±å“

---

## ğŸ“š æ‰©å±•é˜…è¯»

### è¿›é˜¶æ‹“æ‰‘
- Cukå˜æ¢å™¨
- SEPICå˜æ¢å™¨
- Zetaå˜æ¢å™¨
- å…¨æ¡¥/åŠæ¡¥æ‹“æ‰‘

### æ§åˆ¶ç­–ç•¥
- ç”µæµæ¨¡å¼æ§åˆ¶
- æ»‘æ¨¡æ§åˆ¶
- æ•°å­—æ§åˆ¶æŠ€æœ¯

### è®¾è®¡ä¼˜åŒ–
- è½¯å¼€å…³æŠ€æœ¯ (ZVS/ZCS)
- åŒæ­¥æ•´æµ
- äº¤é”™å¹¶è”

---

## â“ å¸¸è§é—®é¢˜

**Q1: ä¸ºä»€ä¹ˆBoostå ç©ºæ¯”ä¸èƒ½æ¥è¿‘1ï¼Ÿ**
A: 
- Dâ†’1æ—¶ï¼Œå¢ç›Šâ†’âˆï¼Œå®é™…ä¸å¯èƒ½
- ç”µæ„Ÿç”µæµè¿‡å¤§
- æŸè€—å‰§å¢
- ä¸€èˆ¬é™åˆ¶D<0.9

**Q2: Buck-Boostä¸ºä»€ä¹ˆææ€§åè½¬ï¼Ÿ**
A:
- ç”µè·¯æ‹“æ‰‘å†³å®š
- å¼€å…³é—­åˆï¼šç”µæ„Ÿå‚¨èƒ½
- å¼€å…³æ–­å¼€ï¼šç”µæ„Ÿåå‘æ”¾ç”µ
- å¯é€šè¿‡å˜å‹å™¨å®ç°åŒææ€§

**Q3: å¦‚ä½•é€‰æ‹©å¼€å…³é¢‘ç‡ï¼Ÿ**
A: æƒè¡¡è€ƒè™‘ï¼š
- é¢‘ç‡é«˜ï¼šå…ƒä»¶å°ï¼Œå“åº”å¿«ï¼Œä½†æŸè€—å¤§
- é¢‘ç‡ä½ï¼šæŸè€—å°ï¼Œä½†å…ƒä»¶å¤§ï¼Œå“åº”æ…¢
- ä¸€èˆ¬é€‰æ‹©10-100kHz

**Q4: çŠ¶æ€ç©ºé—´æ¨¡å‹çš„å‡è®¾ï¼Ÿ**
A:
- å¼€å…³ç†æƒ³ï¼ˆæ— æŸè€—ï¼‰
- è¿ç»­å¯¼é€šæ¨¡å¼ï¼ˆCCMï¼‰
- å¹³å‡åŒ–å¤„ç†
- å°çº¹æ³¢å‡è®¾

**Q5: å¦‚ä½•æé«˜æ•ˆç‡ï¼Ÿ**
A:
- é€‰æ‹©ä½å¯¼é€šç”µé˜»å¼€å…³ç®¡
- å‡å°ESR (ç”µæ„Ÿ/ç”µå®¹)
- ä¼˜åŒ–å¼€å…³é¢‘ç‡
- é‡‡ç”¨åŒæ­¥æ•´æµ
- è½¯å¼€å…³æŠ€æœ¯

---

## ğŸ“– å‚è€ƒæ–‡çŒ®

1. Erickson, R.W., "Fundamentals of Power Electronics"
2. Mohan, N., "Power Electronics"
3. Hart, D.W., "Power Electronics"
4. IEEEæ ‡å‡†: IEEE 1547 (å¹¶ç½‘è¦æ±‚)

---

**å®éªŒæ—¶é—´**: 1.5-2å°æ—¶  
**éš¾åº¦ç­‰çº§**: â­â­  
**å‰ç½®çŸ¥è¯†**: ç”µåŠ›ç”µå­åŸºç¡€ã€çŠ¶æ€ç©ºé—´æ¨¡å‹

**ğŸŠ è¿›å…¥é˜¶æ®µå››ï¼šç›´æµä¾§æ§åˆ¶çš„ç¬¬ä¸€æ­¥ï¼**
