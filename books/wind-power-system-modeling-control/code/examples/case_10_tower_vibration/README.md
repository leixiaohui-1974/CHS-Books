# 案例10: 塔架振动

## 简介

本案例研究风力机塔架的振动特性与疲劳载荷分析，这是结构设计和载荷评估的核心内容。采用单自由度简化模型描述塔架的前后振动，演示塔架的模态分析(固有频率、阻尼比)、风载荷激励下的振动响应以及疲劳分析的基本方法。塔架振动不仅影响结构安全和疲劳寿命，还会与风轮、传动系统形成耦合振动，影响整机性能。理解塔架动力学特性对于优化结构设计、载荷控制和疲劳寿命预测具有重要价值。

## 理论背景

风力机塔架通常简化为悬臂梁模型，前后(FA)方向的第一阶模态是主导振动模式。单自由度模型的运动方程为：m·ẍ + c·ẋ + k·x = F(t)，其中m为等效质量(约300吨)，k为等效刚度(约5 MN/m)，c为阻尼系数。固有频率f_n = (1/2π)√(k/m)，典型值为0.2-0.5 Hz。阻尼比ζ通常为1-3%。风载荷包括平均风载、湍流脉动和叶片通过频率(1P, 3P)成分。当1P或3P频率接近塔架固有频率时，可能发生共振。疲劳分析采用雨流计数法统计应力循环，结合S-N曲线(Wöhler曲线)计算累积损伤。S-N关系为N = C/S^m，其中m=3为钢结构疲劳指数，C为材料常数。

## 代码说明

### 主要类

**TowerModel**: 塔架单自由度模型类
- `__init__(m, k, c)`: 初始化塔架参数
  - m: 等效质量 (kg)
  - k: 等效刚度 (N/m)
  - c: 阻尼系数 (N·s/m)

- 属性:
  - `omega_n`: 固有角频率 (rad/s)
  - `f_n`: 固有频率 (Hz)
  - `zeta`: 阻尼比

- `response(t, F)`: 计算振动响应
  - 输入: 时间序列t、载荷F(t)
  - 输出: 位移响应x(t)

### 演示函数

- `demo_modal_analysis()`: 塔架模态分析
  - 自由衰减振动
  - 频率响应函数(FRF)
  - 固有频率和阻尼比识别

- `demo_wind_excitation()`: 风载荷激励响应
  - 模拟脉动风载荷
  - 1P和3P频率成分
  - 时域和频域响应分析

- `demo_fatigue_analysis()`: 疲劳分析
  - 应力时程统计
  - 应力范围分布(雨流计数简化)
  - S-N疲劳曲线

## 运行方法

```bash
# 进入案例目录
cd /home/user/CHS-Books/books/wind-power-system-modeling-control/code/examples/case_10_tower_vibration

# 运行案例
python main.py
```

## 参数说明

### 塔架参数
- **m**: 等效质量 = 300吨 (包括机舱、风轮)
- **k**: 等效刚度 = 5 MN/m
- **c**: 阻尼系数 = 100 kN·s/m
- **固有频率**: f_n ≈ 0.2-0.5 Hz
- **阻尼比**: ζ ≈ 1-3%

### 风载荷参数
- **平均风载**: 100 kN
- **湍流脉动**: ±20 kN (随机)
- **1P频率**: 风轮转速 (约0.15 Hz)
- **3P频率**: 叶片通过频率 (约0.45 Hz)

### 疲劳参数
- **疲劳指数**: m = 3 (钢结构)
- **材料常数**: C = 10^12 (示例值)
- **应力范围**: 10-100 MPa

## 预期结果说明

运行本案例后将生成3张图表：

1. **case10_modal_analysis.png** (两图):
   - 自由衰减振动:
     - 初始位移0.5 m
     - 指数衰减包络线
     - 振荡周期约2-5秒

   - 频率响应函数(FRF):
     - 谐振峰值位于固有频率f_n
     - 峰值锐度反映阻尼大小
     - 阻尼越小，峰值越尖锐

2. **case10_wind_excitation.png** (四图):
   - 风载荷时程:
     - 平均值100 kN
     - 叠加湍流、1P、3P成分

   - 位移响应:
     - 典型RMS位移0.1-0.5 m
     - 最大位移约1 m

   - 载荷频谱:
     - 1P峰值(约0.15 Hz)
     - 3P峰值(约0.45 Hz)
     - 塔架固有频率标注

   - 响应频谱:
     - 固有频率处放大
     - 如3P≈f_n，可能共振

3. **case10_fatigue_analysis.png** (三图):
   - 应力时程:
     - 随机波动，模拟实际载荷

   - 应力范围分布:
     - 直方图统计
     - 大部分循环在20-50 MPa

   - S-N曲线:
     - 对数坐标
     - N = C/S^m
     - 高应力→低循环寿命

### 控制台输出
- 塔架模态参数(f_n, ζ)
- 振动响应统计(最大值, RMS)
- 应力范围统计
- 疲劳分析参数

## 工程应用

塔架振动分析的实际应用：

### 设计阶段
1. **共振避免**: 1P、3P远离f_n
2. **刚度优化**: 调整固有频率
3. **阻尼设计**: TMD(调谐质量阻尼器)

### 载荷评估
1. **极限载荷**: 50年重现期风速
2. **疲劳载荷**: 20年累积损伤
3. **IEC 61400-1标准**: 设计载荷工况(DLC)

### 监测与维护
1. **SCADA监测**: 振动加速度
2. **应变监测**: 塔底应力
3. **模态识别**: OMA(运行模态分析)

### 典型固有频率
- **80m塔架**: 0.25-0.35 Hz
- **100m塔架**: 0.20-0.30 Hz
- **海上单桩**: 0.25-0.35 Hz

## 振动控制技术
1. **单桨控制**: 减少1P载荷
2. **TMD**: 被动阻尼器
3. **主动阻尼**: 变桨阻尼控制

## 参考文献

1. IEC 61400-1: Wind Turbines - Part 1: Design Requirements
2. Hau, E. (2013). *Wind Turbines: Fundamentals, Technologies, Application, Economics*. Springer.
3. Murtagh, P. J., et al. (2005). Along-wind response of a wind turbine tower with blade coupling subjected to rotationally sampled wind loading. *Engineering Structures*, 27(8), 1209-1219.
