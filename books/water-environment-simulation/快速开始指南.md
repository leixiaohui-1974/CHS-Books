# 🚀 水环境模拟教材 - 快速开始指南

**5分钟上手，立即开始学习！**

---

## 📋 前置要求

```bash
✅ Python 3.8+
✅ pip包管理器
✅ 10 MB磁盘空间
```

---

## ⚡ 快速安装（3步骤）

### 步骤1：克隆/下载项目

```bash
# 如果使用git
cd /workspace/books/water-environment-simulation

# 或者下载ZIP并解压
```

### 步骤2：安装依赖（1分钟）

```bash
pip install -r requirements.txt
```

**依赖列表**:
- numpy - 数值计算
- scipy - 科学计算
- matplotlib - 绘图
- pandas - 数据处理
- pytest - 测试框架

### 步骤3：运行测试验证

```bash
python3 -m pytest tests/ -v
```

**预期输出**: ✅ `33 passed in 0.80s`

---

## 🎯 运行你的第一个案例

### 案例1：污染物扩散（最简单）⭐☆☆☆☆

```bash
cd code/examples/case_01_diffusion
python3 main.py
```

**会发生什么？**
1. ✅ 模拟污染物在静水中的扩散
2. ✅ 对比3种数值格式（显式、隐式、C-N）
3. ✅ 生成3张精美图表
4. ✅ 输出详细的分析结果

**输出图表**:
- `diffusion_explicit_evolution.png` - 扩散演化
- `diffusion_validation.png` - 格式验证
- `diffusion_scheme_comparison.png` - 格式对比

**学习时间**: 2-4小时

---

### 案例2：对流-扩散（稍难）⭐⭐☆☆☆

```bash
cd code/examples/case_02_advection_diffusion
python3 main.py
```

**会学到什么？**
1. ✅ 4种数值格式对比
2. ✅ 数值耗散分析
3. ✅ 数值振荡分析
4. ✅ 无量纲数应用

**输出图表**: 3张

**学习时间**: 4-6小时

---

### 案例3：反应动力学（中等）⭐⭐☆☆☆

```bash
cd code/examples/case_03_reaction
python3 main.py
```

**会学到什么？**
1. ✅ 5种反应类型
2. ✅ 参数率定方法
3. ✅ 温度影响分析
4. ✅ 反应-迁移耦合

**输出图表**: 4张

**学习时间**: 4-6小时

---

## 📚 学习路径

### 初学者路径（10-16学时）

```
第1天 (4小时)
├─ 阅读案例1 README (1小时)
├─ 运行案例1主程序 (1小时)
├─ 修改参数重新运行 (1小时)
└─ 完成练习题 (1小时)

第2天 (6小时)
├─ 阅读案例2 README (1.5小时)
├─ 运行案例2主程序 (1.5小时)
├─ 对比不同格式 (2小时)
└─ 完成练习题 (1小时)

第3天 (6小时)
├─ 阅读案例3 README (1.5小时)
├─ 运行案例3主程序 (1.5小时)
├─ 参数拟合实践 (2小时)
└─ 完成练习题 (1小时)
```

### 进阶路径（额外8-12学时）

```
第4天 (4小时)
├─ 修改核心模型代码
├─ 增加新的数值格式
├─ 实现自己的边界条件
└─ 编写测试用例

第5天 (4小时)
├─ 应用到自己的数据
├─ 调整模型参数
├─ 进行敏感性分析
└─ 生成研究报告

第6天 (4小时)
├─ 学习高级主题
├─ 耦合多个过程
├─ 优化计算性能
└─ 发布研究成果
```

---

## 🎓 按角色使用

### 👨‍🎓 学生

**目标**: 学习理论和编程

```bash
# 1. 先阅读理论
cat code/examples/case_01_diffusion/README.md

# 2. 运行案例
python3 code/examples/case_01_diffusion/main.py

# 3. 修改参数实验
# 编辑 main.py，改变 D, nx, nt 等参数

# 4. 运行测试
python3 -m pytest tests/test_diffusion.py -v
```

**推荐顺序**: 案例1 → 案例2 → 案例3

---

### 👨‍🏫 教师

**目标**: 教学和演示

```bash
# 1. 查看所有案例
ls code/examples/

# 2. 准备课堂演示
# 可以直接使用生成的图表

# 3. 布置作业
# 每个案例都有扩展实验

# 4. 批改作业
# 使用测试框架自动检查
python3 -m pytest tests/ -v
```

**教学建议**:
- 每个案例2-6学时
- 理论+实践结合
- 鼓励修改参数

---

### 👨‍💻 开发者

**目标**: 扩展和定制

```bash
# 1. 查看代码结构
tree code/

# 2. 阅读核心模型
cat code/models/diffusion.py

# 3. 添加新功能
# 在 code/models/ 中添加新模块

# 4. 编写测试
# 在 tests/ 中添加测试

# 5. 运行测试验证
python3 -m pytest tests/ -v
```

**API文档**: 见各模块的文档字符串

---

### 👨‍🏭 工程师

**目标**: 应用到实际问题

```bash
# 1. 准备数据
# 将实测数据放入 data/ 目录

# 2. 修改参数
# 根据实际工程修改案例参数

# 3. 运行模拟
python3 code/examples/case_03_reaction/main.py

# 4. 参数率定
# 使用 fit_first_order() 等函数

# 5. 生成报告
# 使用生成的图表和数据
```

**工程案例**: 见各案例的"工程意义"章节

---

## 🔧 常见问题

### Q1: 依赖安装失败？

**解决**:
```bash
# 使用国内镜像
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### Q2: 运行报错 "No module named ..."？

**解决**:
```bash
# 确保在正确的目录
cd /workspace/books/water-environment-simulation

# 重新安装依赖
pip install -r requirements.txt
```

### Q3: 图表不显示？

**解决**:
```bash
# 在代码中注释掉 plt.show()
# 图表会自动保存为PNG文件
```

### Q4: 如何修改参数？

**解决**:
```python
# 编辑 main.py
L = 10.0      # 改为你想要的长度
nx = 100      # 改为你想要的网格数
D = 0.1       # 改为你想要的扩散系数
```

### Q5: 如何使用自己的数据？

**解决**:
```python
# 读取CSV文件
import pandas as pd
data = pd.read_csv('your_data.csv')
t_data = data['time'].values
C_data = data['concentration'].values

# 使用参数拟合
k_fitted, C0, R2 = model.fit_first_order(t_data, C_data)
```

---

## 📖 进阶学习资源

### 理论基础

📚 **推荐教材**:
1. Chapra, S.C. - Surface Water-Quality Modeling
2. Zheng, C. - Applied Contaminant Transport Modeling
3. Schnoor, J.L. - Environmental Modeling

### 数值方法

📚 **推荐书籍**:
1. Hirsch, C. - Numerical Computation of Flows
2. Fletcher, C.A.J. - Computational Techniques for Fluid Dynamics

### 编程技能

💻 **推荐课程**:
1. Python科学计算 - NumPy/SciPy
2. 数据可视化 - Matplotlib
3. 软件测试 - pytest

---

## 🎯 学习目标检查

### 完成案例1后，你应该能够：

- [ ] 理解Fick扩散定律
- [ ] 编写简单的扩散模拟程序
- [ ] 使用3种数值格式
- [ ] 分析稳定性条件
- [ ] 验证数值结果

### 完成案例2后，你应该能够：

- [ ] 理解对流-扩散过程
- [ ] 选择合适的数值格式
- [ ] 分析数值耗散和振荡
- [ ] 计算无量纲数
- [ ] 评估格式性能

### 完成案例3后，你应该能够：

- [ ] 理解反应动力学
- [ ] 进行参数率定
- [ ] 分析温度影响
- [ ] 建立耦合模型
- [ ] 应用到实际问题

### 完成全部案例后，你应该能够：

- [ ] 建立完整的水质模型
- [ ] 选择合适的数值方法
- [ ] 验证和分析结果
- [ ] 应用到工程实践
- [ ] 独立开发新模型

---

## 💡 学习建议

### ✅ 推荐做法

1. **循序渐进** - 按案例1→2→3的顺序学习
2. **动手实践** - 运行代码，修改参数
3. **理解原理** - 不要只运行代码，要理解为什么
4. **做笔记** - 记录重要概念和发现
5. **提问讨论** - 遇到问题及时交流

### ❌ 避免做法

1. ❌ 跳过理论直接看代码
2. ❌ 只看不练
3. ❌ 不理解就照搬代码
4. ❌ 遇到问题就放弃
5. ❌ 孤军奋战不交流

---

## 🆘 获取帮助

### 问题报告

如果发现bug或有改进建议：

1. 检查是否已有人报告
2. 提供详细的错误信息
3. 说明运行环境
4. 提供复现步骤

### 学习交流

- 📧 Email: [待补充]
- 💬 讨论组: [待补充]
- 📱 微信群: [待补充]

---

## ✅ 准备好了吗？

现在你已经了解了如何开始！

**立即行动**:

```bash
# 1. 进入案例1目录
cd /workspace/books/water-environment-simulation/code/examples/case_01_diffusion

# 2. 运行你的第一个模拟
python3 main.py

# 3. 查看生成的图表
ls *.png

# 4. 开始学习之旅！
```

---

<div align="center">

# 🎓 开始你的水环境模拟学习之旅！

**从案例1开始，循序渐进，动手实践**

**预计学习时间**: 10-16学时  
**难度等级**: ⭐⭐☆☆☆ (中等)  
**推荐人群**: 本科生、研究生、工程师  

---

**编写日期**: 2025-11-02  
**版本**: v0.2-dev  
**状态**: Phase 1 完成 ✅  

**祝学习顺利！有问题随时交流！** 🌟

</div>
