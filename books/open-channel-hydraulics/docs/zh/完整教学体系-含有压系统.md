# 水力学计算完整教学体系
## 明渠流与有压流统一框架 - 30案例体系

**版本：** v3.0-complete
**制定日期：** 2025-10-29
**教学理念：** 案例驱动学习（Case-Based Learning）
**适用对象：** 高中毕业生及以上，完整水力学体系学习

---

## 📚 教材整体架构

### 三大部分体系

```
┌──────────────────────────────────────┐
│   第一部分：明渠系统（案例1-20）      │
│   ├─ 恒定流（案例1-12）              │
│   └─ 非恒定流（案例13-20）           │
└──────────────────────────────────────┘
                  ↓
┌──────────────────────────────────────┐
│   第二部分：有压系统（案例21-28）🆕   │
│   ├─ 管流稳态（案例21-24）           │
│   └─ 管流瞬态（案例25-28）           │
└──────────────────────────────────────┘
                  ↓
┌──────────────────────────────────────┐
│   第三部分：混合系统（案例29-30）🆕   │
│   └─ 管道-明渠耦合系统               │
└──────────────────────────────────────┘
```

### 为什么要增加有压系统？

1. **完整性**：明渠流和管流是水力学的两大基础
2. **实用性**：供水、排水系统大量使用管道
3. **耦合性**：实际工程常有管道-明渠混合系统
4. **特殊性**：有压流有独特的水锤、共振等现象
5. **系统性**：管网计算是重要的工程技能

---

## 🎯 完整30案例体系

### 【第一部分：明渠系统】案例1-20（保持不变）

#### 恒定流基础（案例1-12）✓
详见《扩展教学体系-非恒定流与算法.md》

#### 非恒定流进阶（案例13-20）✓
详见《扩展教学体系-非恒定流与算法.md》

---

### 【第二部分：有压系统】案例21-28 🆕

## 第八阶段：有压流稳态（案例21-24）

---

### 【案例21】城市供水管道水力计算 ⭐⭐
**难度等级：** 基础
**工程背景：** 城市供水管网设计

#### 问题描述
某城市供水干管，长度 L=2000 m，管径 D=400 mm，流量 Q=0.1 m³/s，材料为铸铁管（粗糙度 ε=0.25 mm）。计算沿程水头损失和所需水压。

#### 涉及理论
- **达西-魏斯巴赫公式**：h_f = λ(L/D)(v²/2g)
- **雷诺数**：Re = vD/ν
- **摩阻系数λ的确定**
  - 层流：λ = 64/Re
  - 紊流：Colebrook-White公式、Moody图
  - 光滑管：Blasius公式 λ = 0.3164/Re^0.25
- **局部损失**：h_j = ζ(v²/2g)

#### 学习目标
1. 理解管流与明渠流的区别
2. 掌握摩阻系数的计算方法
3. 学会Colebrook-White方程迭代求解
4. 理解管道沿程和局部损失

#### 实验内容
- **计算实验21.1**：不同雷诺数下的摩阻系数
- **计算实验21.2**：管径对水头损失的影响
- **计算实验21.3**：绘制管道特性曲线

#### 关键公式

**Colebrook-White方程（隐式）：**
$$
\frac{1}{\sqrt{\lambda}} = -2\log_{10}\left(\frac{\varepsilon/D}{3.7} + \frac{2.51}{Re\sqrt{\lambda}}\right)
$$

**Swamee-Jain显式近似：**
$$
\lambda = \frac{0.25}{\left[\log_{10}\left(\frac{\varepsilon/D}{3.7} + \frac{5.74}{Re^{0.9}}\right)\right]^2}
$$

#### 代码结构
```python
# case_21_pipe_flow/
├── pipe_hydraulics.py       # 管流水力计算
├── friction_factor.py       # 摩阻系数计算
├── colebrook_solver.py      # Colebrook方程求解
├── demo_pipe_flow.py
└── notebook_21.ipynb
```

---

### 【案例22】管网平差计算 ⭐⭐⭐⭐
**难度等级：** 较难
**工程背景：** 城市供水管网设计

#### 问题描述
某城市供水管网有5个节点、7条管道，已知各节点流量需求和水源点水位，计算各管段流量分配和节点水压。

#### 涉及理论
- **管网基本方程**
  - 节点流量平衡：ΣQ_in = ΣQ_out（连续性）
  - 环路水头平衡：Σh_f = 0（能量守恒）
- **Hardy-Cross法**（逐次逼近法）
- **Newton-Raphson法**（牛顿法）
- **线性理论法**

#### 学习目标
1. 理解管网计算的基本原理
2. 掌握Hardy-Cross平差方法
3. 学会编程实现管网求解
4. 理解收敛性和精度

#### 实验内容
- **计算实验22.1**：简单环状管网计算
- **计算实验22.2**：树状管网计算
- **计算实验22.3**：不同初值对收敛速度的影响

#### Hardy-Cross法

**环路校正流量：**
$$
\Delta Q = -\frac{\sum h_f}{\sum (n \cdot h_f / Q)}
$$

其中 $h_f = KQ^n$，$n$通常取1.85-2.0

**迭代过程：**
1. 假设各管段初始流量（满足节点平衡）
2. 计算各环路的水头损失代数和
3. 计算校正流量ΔQ
4. 更新管段流量：Q_new = Q_old + ΔQ
5. 重复直到收敛

#### 代码结构
```python
# case_22_pipe_network/
├── network_topology.py      # 管网拓扑
├── hardy_cross.py          # Hardy-Cross法
├── newton_method.py        # Newton-Raphson法
├── visualization.py        # 管网可视化
├── demo_network.py
└── notebook_22.ipynb
```

---

### 【案例23】长距离输水管道设计 ⭐⭐⭐
**难度等级：** 中等
**工程背景：** 跨流域调水工程

#### 问题描述
某跨流域调水工程，输水管道长度 L=50 km，设计流量 Q=5 m³/s，起点高程 z_1=100 m，终点高程 z_2=80 m。设计管径，确定中间增压泵站位置和数量。

#### 涉及理论
- **经济管径**：投资成本与运行成本的权衡
- **泵站设置**：扬程、功率、位置
- **管道分段**：不同管径组合
- **优化设计**：最小化总成本

#### 学习目标
1. 理解长距离输水的特点
2. 掌握经济管径计算
3. 学会泵站布置优化
4. 理解全寿命周期成本

#### 实验内容
- **计算实验23.1**：经济管径计算
- **计算实验23.2**：泵站数量优化
- **计算实验23.3**：变管径方案对比

#### 经济管径公式

**Bresse公式：**
$$
D_{经济} = K \sqrt{Q}
$$

其中K与材料、能源价格相关，一般取0.9-1.4

#### 代码结构
```python
# case_23_long_pipeline/
├── economic_diameter.py     # 经济管径
├── pump_station_layout.py   # 泵站布置
├── cost_analysis.py         # 成本分析
├── optimization.py          # 优化设计
├── demo_long_pipeline.py
└── notebook_23.ipynb
```

---

### 【案例24】虹吸管与倒虹吸设计 ⭐⭐⭐
**难度等级：** 中等
**工程背景：** 越障输水

#### 问题描述
某渠道需跨越河谷，采用倒虹吸方案。上游渠底高程 z_1=120 m，下游渠底高程 z_2=118 m，河谷最低点高程 z_min=80 m，设计流量 Q=3 m³/s。设计倒虹吸管道，验算水力条件。

#### 涉及理论
- **虹吸管原理**：利用大气压差输水
- **空化与空蚀**：最小压强限制
- **真空度**：绝对压强不得小于临界值
- **进出口条件**：渐变连接

#### 学习目标
1. 理解虹吸管的工作原理
2. 掌握空化的判别和预防
3. 学会倒虹吸的水力设计
4. 理解压强分布规律

#### 实验内容
- **计算实验24.1**：虹吸管最大高度
- **计算实验24.2**：倒虹吸压强分布
- **计算实验24.3**：不同方案对比

#### 空化判别

**最小允许压强：**
$$
p_{min} \geq p_v + \Delta p_{安全}
$$

其中 $p_v$ 为饱和蒸汽压，$\Delta p_{安全}$ 通常取 2-3 mH₂O

#### 代码结构
```python
# case_24_siphon/
├── siphon_hydraulics.py     # 虹吸水力学
├── cavitation_check.py      # 空化验算
├── pressure_profile.py      # 压强分布
├── demo_siphon.py
└── notebook_24.ipynb
```

---

## 第九阶段：有压流瞬态（案例25-28）

---

### 【案例25】管道水锤基础分析 ⭐⭐⭐⭐
**难度等级：** 较难
**工程背景：** 管道安全设计

#### 问题描述
某供水管道，长度 L=1000 m，管径 D=500 mm，流速 v=2 m/s，水锤波速 c=1000 m/s。阀门在 t=2秒内关闭，计算水锤压强升高。

#### 涉及理论
- **Joukowsky公式**：Δp = ρcΔv
- **水锤波速**：c = K/√(ρ(1 + KD/(Eδ)))
- **特征线法求解**：MOC in pipes
- **边界条件**
  - 阀门：Q = f(H, 开度)
  - 水泵：Q-H特性曲线
  - 气罐：气体定律

#### 学习目标
1. 理解水锤的形成机理
2. 掌握Joukowsky公式的应用
3. 学会水锤压强计算
4. 理解阀门启闭速度的影响

#### 实验内容
- **计算实验25.1**：阀门关闭时间对水锤的影响
- **计算实验25.2**：管道长度对水锤的影响
- **计算实验25.3**：不同材料的波速对比

#### 基本公式

**Joukowsky公式（刚性水锤）：**
$$
\Delta H = \frac{c \Delta v}{g}
$$

**水锤波速（弹性管道）：**
$$
c = \sqrt{\frac{K}{\rho\left(1 + \frac{KD}{E\delta}\right)}}
$$

其中：
- K = 水的体积弹性模量 ≈ 2.1×10⁹ Pa
- E = 管材弹性模量
- δ = 管壁厚度

#### 代码结构
```python
# case_25_water_hammer/
├── water_hammer.py          # 水锤计算
├── joukowsky.py            # Joukowsky公式
├── wave_speed.py           # 波速计算
├── demo_water_hammer.py
└── notebook_25.ipynb
```

---

### 【案例26】管道水锤特征线法求解 ⭐⭐⭐⭐⭐
**难度等级：** 高级
**工程背景：** 复杂管道系统瞬变流

#### 问题描述
使用特征线法（MOC）求解案例25的水锤问题，对比与Joukowsky公式的差异，考虑摩阻、阀门特性等因素。

#### 涉及理论
- **基本方程**
  - 连续性方程：∂H/∂t + (c²/gA)∂Q/∂x = 0
  - 动量方程：∂Q/∂t + gA∂H/∂x + (f/2D)Q|Q| = 0
- **特征方程**
  - C⁺: dx/dt = c
  - C⁻: dx/dt = -c
- **相容方程**
  - 沿C⁺: dH + (c/gA)dQ + (fc/2gDA)Q|Q|dx = 0
  - 沿C⁻: dH - (c/gA)dQ + (fc/2gDA)Q|Q|dx = 0

#### 学习目标
1. 掌握管道瞬变流的MOC求解
2. 理解特征线在管道中的应用
3. 学会复杂边界条件的处理
4. 理解数值解与理论解的差异

#### 实验内容
- **计算实验26.1**：MOC与Joukowsky对比
- **计算实验26.2**：摩阻对水锤的影响
- **计算实验26.3**：不同阀门关闭规律

#### 离散格式

**特征线方程离散：**

沿C⁺（从点P到点A）：
$$
H_P = H_A - \frac{c}{gA}(Q_P - Q_A) - R_A|Q_A|
$$

沿C⁻（从点P到点B）：
$$
H_P = H_B + \frac{c}{gA}(Q_P - Q_B) - R_B|Q_B|
$$

其中摩阻项：
$$
R = \frac{fc\Delta t}{2gDA}
$$

#### 代码结构
```python
# case_26_moc_pipes/
├── pipe_moc.py              # 管道MOC
├── pipe_characteristics.py  # 特征线
├── boundary_conditions.py   # 边界条件（阀门、泵、气罐）
├── friction_damping.py      # 摩阻阻尼
├── demo_moc_pipes.py
└── notebook_26.ipynb
```

---

### 【案例27】水泵机组启停水锤 ⭐⭐⭐⭐⭐
**难度等级：** 高级
**工程背景：** 泵站安全运行

#### 问题描述
某水泵站，水泵突然停机（断电），计算压力管道的水锤过程。水泵惯性常数 GD²=50 kg·m²，考虑水泵反转、单向阀等保护措施。

#### 涉及理论
- **水泵四象限特性**
  - 正常泵送（第一象限）
  - 能量耗散区（第二象限）
  - 反向泵送（第三象限）
  - 水轮机区（第四象限）
- **水泵转速变化**：惯性方程
  - $\frac{GD^2}{4g}\frac{d\omega}{dt} = M_水 - M_摩$
- **单向阀动作**
- **气罐保护**

#### 学习目标
1. 理解水泵停机的危险性
2. 掌握水泵四象限特性
3. 学会水锤防护措施设计
4. 理解转速变化与水锤的耦合

#### 实验内容
- **计算实验27.1**：水泵停机过程模拟
- **计算实验27.2**：单向阀保护效果
- **计算实验27.3**：气罐参数优化

#### 水泵特性

**无量纲表示：**
$$
h = \frac{gH}{n^2D^2}, \quad q = \frac{Q}{nD^3}, \quad \beta = \frac{M}{\rho n^2D^5}
$$

四象限内 $h$、$q$、$\beta$ 是 $(v, \alpha)$ 的函数，其中：
- $v = n/n_0$ （相对转速）
- $\alpha$ （相对流量方向）

#### 代码结构
```python
# case_27_pump_transient/
├── pump_characteristics.py  # 水泵特性
├── pump_runaway.py         # 水泵飞逸
├── check_valve.py          # 单向阀
├── air_vessel.py           # 气罐
├── demo_pump_transient.py
└── notebook_27.ipynb
```

---

### 【案例28】调压室设计与振荡分析 ⭐⭐⭐⭐⭐
**难度等级：** 高级
**工程背景：** 水电站、长距离输水

#### 问题描述
某水电站引水系统，压力管道长 L=2000 m，流量 Q=50 m³/s，设计调压室以减小水锤。分析调压室水位振荡过程，确定调压室尺寸。

#### 涉及理论
- **调压室作用**：隔离水锤波、稳定机组
- **水位振荡微分方程**
  - $A_{调}\frac{dz}{dt} + Q_{隧} = Q_0$
  - $\rho g(H_0 - z - h_f) = \rho L_{隧}\frac{dv}{dt}$
- **稳定性判别**：Thoma条件
- **阻抗式调压室**：增加阻抗孔

#### 学习目标
1. 理解调压室的工作原理
2. 掌握水位振荡的计算
3. 学会稳定性判别
4. 理解阻抗孔的作用

#### 实验内容
- **计算实验28.1**：简单调压室水位振荡
- **计算实验28.2**：稳定性判别（Thoma临界断面）
- **计算实验28.3**：阻抗式调压室优化

#### Thoma稳定条件

**临界断面积：**
$$
F_{临界} = \frac{L_{隧}Q_0}{2g(H_0 - H_r)}
$$

调压室断面积 $A_{调} > F_{临界}$ 时系统稳定

#### 代码结构
```python
# case_28_surge_tank/
├── surge_tank.py            # 调压室
├── oscillation.py          # 水位振荡
├── thoma_criterion.py      # Thoma判别
├── impedance_surge_tank.py # 阻抗式调压室
├── demo_surge_tank.py
└── notebook_28.ipynb
```

---

### 【第三部分：混合系统】案例29-30 🆕

## 第十阶段：管道-明渠耦合系统

---

### 【案例29】管道-明渠联合输水系统 ⭐⭐⭐⭐⭐
**难度等级：** 高级
**工程背景：** 长距离调水工程

#### 问题描述
某调水工程由压力管道和明渠组成：上游水库 → 压力隧洞（5 km）→ 调压井 → 明渠（10 km）→ 下游水库。建立耦合模型，分析系统动态特性。

#### 涉及理论
- **系统耦合**
  - 管道段：弹性水锤理论
  - 明渠段：圣维南方程
  - 衔接点：水位-流量关系
- **联合求解**
  - 隐式耦合
  - 显式耦合
  - 迭代法

#### 学习目标
1. 理解混合系统的复杂性
2. 掌握管道-明渠耦合方法
3. 学会系统动态模拟
4. 理解不同工况的响应

#### 实验内容
- **计算实验29.1**：正常运行工况
- **计算实验29.2**：事故工况（阀门关闭）
- **计算实验29.3**：优化调度策略

#### 耦合条件

**衔接点（从管道到明渠）：**
- 流量连续：$Q_{管} = Q_{渠}$
- 能量守恒：$H_{管} = z_{渠} + h_{渠} + h_{损失}$

#### 代码结构
```python
# case_29_hybrid_system/
├── hybrid_model.py          # 混合系统模型
├── coupling.py             # 耦合接口
├── pipe_section.py         # 管道段
├── canal_section.py        # 明渠段
├── demo_hybrid.py
└── notebook_29.ipynb
```

---

### 【案例30】泵站-渠道-管网综合系统 ⭐⭐⭐⭐⭐
**难度等级：** 高级
**工程背景：** 城市供水系统

#### 问题描述
综合案例：取水泵站 → 明渠输水 → 水厂 → 配水管网。建立完整系统模型，优化调度方案，确保供水安全和经济运行。

#### 涉及理论
- **多尺度耦合**
  - 泵站：水泵特性、控制策略
  - 明渠：水面线计算、闸门调节
  - 管网：平差计算、压力控制
- **系统优化**
  - 目标函数：能耗最小、供水可靠
  - 约束条件：水位、压力、流量
- **实时调度**
  - 预测控制
  - 滚动优化

#### 学习目标
1. 理解复杂供水系统
2. 掌握多尺度系统建模
3. 学会系统优化方法
4. 培养工程综合能力

#### 实验内容
- **计算实验30.1**：全系统稳态模拟
- **计算实验30.2**：全系统动态模拟
- **计算实验30.3**：优化调度方案
- **计算实验30.4**：故障模拟与应急响应

#### 代码结构
```python
# case_30_comprehensive/
├── comprehensive_model.py   # 综合模型
├── pump_station_module.py   # 泵站模块
├── canal_module.py          # 渠道模块
├── network_module.py        # 管网模块
├── system_optimization.py   # 系统优化
├── demo_comprehensive.py
└── notebook_30.ipynb
```

---

## 📊 扩展后的完整章节结构

### 教材总体结构（11章，168学时）

```
【明渠系统部分】66+48=114学时
第1章：明渠水力学基础（6学时）
第2章：均匀流与临界流（12学时）
第3章：水工建筑物水力计算（16学时）
第4章：非均匀流与水面线（12学时）
第5章：复杂系统与网络计算（20学时）
第6章：非恒定流基础理论（12学时）
第7章：数值算法详解（16学时）
第8章：高级应用案例（20学时）

【有压系统部分】36学时 🆕
第9章：有压流基础理论（8学时）
第10章：管网计算方法（12学时）
第11章：管道瞬变流与水锤（16学时）

【混合系统部分】18学时 🆕
第12章：管道-明渠耦合系统（12学时）
第13章：综合系统建模与优化（6学时）
```

---

## 📖 新增章节详细内容

### 第9章：有压流基础理论（8学时）

**9.1 管流基础（2学时）**
- 管流与明渠流的区别
- 压强与测压管水头
- 能量方程与伯努利方程

**9.2 沿程水头损失（2学时）**
- 达西-魏斯巴赫公式
- 摩阻系数λ
- Colebrook-White方程
- Moody图

**9.3 局部水头损失（1学时）**
- 局部损失系数
- 常见管件的损失
- 等效长度法

**9.4 管道特性曲线（1学时）**
- 管道阻力特性
- 水泵特性
- 工况点

**9.5 经济管径（1学时）**
- 投资成本与运行成本
- Bresse公式
- 优化方法

**9.6 空化与空蚀（1学时）**
- 空化机理
- 空蚀危害
- 防护措施

**案例21：城市供水管道水力计算** ⭐⭐

---

### 第10章：管网计算方法（12学时）

**10.1 管网基本概念（2学时）**
- 管网分类：树状、环状、混合
- 管网拓扑：节点、管段、环路
- 基本方程：节点法、环路法

**10.2 线性理论法（2学时）**
- 线性化处理
- 矩阵形式
- 适用范围

**10.3 Hardy-Cross法（4学时）**
- 环路平差原理
- 校正流量计算
- 收敛准则
- 编程实现

**10.4 Newton-Raphson法（2学时）**
- Jacobian矩阵
- 稀疏矩阵求解
- 收敛性分析

**10.5 管网优化设计（2学时）**
- 优化目标
- 约束条件
- 遗传算法应用

**案例22：管网平差计算** ⭐⭐⭐⭐
**案例23：长距离输水管道设计** ⭐⭐⭐
**案例24：虹吸管与倒虹吸设计** ⭐⭐⭐

---

### 第11章：管道瞬变流与水锤（16学时）

**11.1 水锤现象（2学时）**
- 水锤的形成
- 水锤的危害
- 防护措施

**11.2 刚性水锤理论（2学时）**
- Joukowsky公式
- 波速计算
- 直接水锤、间接水锤

**11.3 弹性水锤基本方程（2学时）**
- 连续性方程
- 动量方程
- 初始条件与边界条件

**11.4 特征线法求解（4学时）**
- 特征方程
- 相容方程
- 网格划分
- 边界条件处理

**11.5 水泵机组水锤（2学时）**
- 水泵四象限特性
- 停机水锤
- 反转与飞逸

**11.6 调压设施（2学时）**
- 调压室
- 单向阀
- 气罐、气阀
- 缓闭止回阀

**11.7 水锤防护（2学时）**
- 两阶段关阀
- 旁通管
- 泄压阀
- 综合防护方案

**案例25：管道水锤基础分析** ⭐⭐⭐⭐
**案例26：管道水锤特征线法求解** ⭐⭐⭐⭐⭐
**案例27：水泵机组启停水锤** ⭐⭐⭐⭐⭐
**案例28：调压室设计与振荡分析** ⭐⭐⭐⭐⭐

---

### 第12章：管道-明渠耦合系统（12学时）

**12.1 混合系统概述（2学时）**
- 工程实例
- 系统特点
- 建模难点

**12.2 耦合机理（2学时）**
- 质量守恒
- 能量守恒
- 动量传递

**12.3 数值耦合方法（4学时）**
- 显式耦合
- 隐式耦合
- 迭代法
- 收敛性

**12.4 稳态耦合（2学时）**
- 水位-流量关系
- 系统曲线
- 工况点

**12.5 瞬态耦合（2学时）**
- 水锤波传播
- 界面处理
- 稳定性

**案例29：管道-明渠联合输水系统** ⭐⭐⭐⭐⭐

---

### 第13章：综合系统建模与优化（6学时）

**13.1 系统分析方法（2学时）**
- 系统分解
- 模块化建模
- 接口设计

**13.2 多尺度模拟（2学时）**
- 时间尺度
- 空间尺度
- 尺度耦合

**13.3 系统优化（2学时）**
- 多目标优化
- 约束处理
- 智能算法

**案例30：泵站-渠道-管网综合系统** ⭐⭐⭐⭐⭐

---

## 📊 完整教材统计

### 总体规模
| 项目 | 数量 |
|------|------|
| **总案例数** | **30个** |
| - 明渠恒定流 | 12个 |
| - 明渠非恒定流 | 8个 |
| - 管流稳态 | 4个 |
| - 管流瞬态 | 4个 |
| - 混合系统 | 2个 |
| **总章节数** | **13章** |
| **总学时** | **168学时** |

### 学时分配
| 部分 | 学时 | 占比 |
|------|------|------|
| 明渠系统（1-8章） | 114 | 68% |
| 有压系统（9-11章） | 36 | 21% |
| 混合系统（12-13章） | 18 | 11% |

### 难度分布
| 难度 | 明渠 | 管流 | 混合 | 合计 | 百分比 |
|------|------|------|------|------|--------|
| ⭐ | 1 | 0 | 0 | 1 | 3% |
| ⭐⭐ | 3 | 1 | 0 | 4 | 13% |
| ⭐⭐⭐ | 7 | 3 | 0 | 10 | 33% |
| ⭐⭐⭐⭐ | 4 | 1 | 0 | 5 | 17% |
| ⭐⭐⭐⭐⭐ | 5 | 3 | 2 | 10 | 33% |

---

## 🎓 学习路径

### 路径1：基础水力学（一学期）
- **内容**：案例1-12（明渠恒定流）+ 案例21-24（管流稳态）
- **学时**：66 + 24 = 90学时
- **适合**：本科生、初学者
- **目标**：掌握恒定流计算

### 路径2：进阶计算（一学期）
- **内容**：案例13-20（明渠非恒定流）+ 案例25-28（管流瞬态）
- **学时**：48 + 24 = 72学时
- **适合**：研究生、工程师
- **前提**：完成路径1
- **目标**：掌握瞬态分析

### 路径3：完整体系（两学期）
- **内容**：全部30案例
- **学时**：168学时
- **适合**：水利工程专业
- **目标**：成为水力学专家

### 路径4：专题学习（灵活安排）
- **明渠专题**：案例1-20
- **管流专题**：案例21-28
- **系统专题**：案例10-12, 22-23, 29-30

---

## 💻 代码库架构

```python
code/
├── models/
│   ├── channel/              # 明渠模型
│   │   ├── steady_flow.py
│   │   └── unsteady_flow.py
│   ├── pipe/                 # 管道模型 🆕
│   │   ├── steady_flow.py
│   │   └── transient_flow.py
│   ├── structures/           # 建筑物
│   ├── pump/                 # 水泵 🆕
│   └── hybrid/               # 混合系统 🆕
│
├── solvers/
│   ├── steady/
│   │   ├── canal/
│   │   └── pipe/             🆕
│   └── unsteady/
│       ├── canal/
│       └── pipe/             🆕
│           ├── moc.py
│           └── water_hammer.py
│
├── network/                  🆕
│   ├── topology.py
│   ├── hardy_cross.py
│   └── optimization.py
│
├── utils/
│   ├── hydraulics.py
│   ├── numerical.py
│   ├── friction.py           🆕
│   ├── plotting.py
│   └── optimization.py
│
└── examples/
    ├── case_01_to_20/        # 明渠
    ├── case_21_to_28/        # 管流 🆕
    └── case_29_to_30/        # 混合 🆕
```

---

## 🔗 与其他课程关系

```
┌─────────────────────┐
│ 水系统控制论        │ → 控制理论
└──────────┬──────────┘
           │
           ↓
┌─────────────────────┐
│ 水力学计算          │ → 被控对象模型
│ (30案例, 本课程)   │   ├─明渠流
│                     │   ├─管流
└──────────┬──────────┘   └─混合
           │
           ↓
┌─────────────────────┐
│ 明渠控制            │ → 综合应用
│ (未来规划)         │   ├─明渠自动化
│                     │   ├─管网优化
└─────────────────────┘   └─智能调度
```

---

**教材版本：** v3.0-complete
**最后更新：** 2025-10-29
**开发团队：** CHS-Books 教材开发组
**总案例数：** 30个
**总学时：** 168学时
