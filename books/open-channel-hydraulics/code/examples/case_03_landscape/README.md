# 案例3：景观水渠水流状态分析

## 案例背景

某公园设计景观水渠，既要保证水流流动顺畅，又要形成美观的水流景观。设计师提出了几种方案，需要分析不同水深下的流动状态。

渠道参数：
- 矩形断面，宽度 b = 2.0 m
- 渠底坡度 S0 = 0.002
- 曼宁糙率 n = 0.015（砌石表面）
- 设计流量范围 Q = 0.5-2.0 m³/s

分析目标：
1. 不同流量下的水深和流态
2. 比能曲线的绘制和分析
3. 最佳景观效果的水力条件

## 学习目标

1. 深入理解弗劳德数的物理意义
2. 掌握比能（specific energy）的概念
3. 学会绘制和分析比能曲线
4. 理解缓流、急流和临界流的转换
5. 了解水跃现象的成因

## 核心理论

### 1. 弗劳德数的物理意义

**定义：**
```python
Fr = v / sqrt(g * hm)
```

**物理意义：**
- Fr 表示惯性力与重力的比值
- Fr < 1：重力占主导，水流稳定（缓流）
- Fr = 1：惯性力与重力平衡（临界流）
- Fr > 1：惯性力占主导，水流湍急（急流）

**水流特性：**
- 缓流（Fr < 1）：
  - 水深较大，流速较小
  - 水面平稳，波动向上游传播
  - 受下游条件控制
  - 稳定性好

- 急流（Fr > 1）：
  - 水深较小，流速较大
  - 水面波动向下游传播
  - 受上游条件控制
  - 可能出现水跃

- 临界流（Fr = 1）：
  - 不稳定，应避免
  - 比能最小
  - 流态转换的临界点

### 2. 比能（Specific Energy）

**定义：**
```python
E = h + v²/(2g) = h + Q²/(2gA²)
```

**物理意义：**
- 单位重量水流相对于渠底的总机械能
- 包括位能（h）和动能（v²/2g）

**比能曲线特点：**
- 给定流量Q，E是水深h的函数
- 存在最小比能点，对应临界水深
- E-h曲线呈"U"型
- 同一比能可能对应两个水深（共轭水深）
  - 较大的为缓流水深
  - 较小的为急流水深

### 3. 临界水深的意义

**三个等价定义：**
1. Fr = 1
2. 比能 E 最小
3. dE/dh = 0

**矩形断面临界水深：**
```python
hc = (q²/g)^(1/3)
Ec = 1.5 * hc
```

### 4. 水跃现象

当急流遇到障碍或进入缓流区，会发生水跃：
- 水深突然增加
- 大量能量消耗
- 水面剧烈翻滚
- 可用于消能

## 计算任务

### 任务1：不同流量的水流分析

计算 Q = 0.5, 1.0, 1.5, 2.0 m³/s 时的水流状态。

### 任务2：比能曲线绘制

给定流量 Q = 1.0 m³/s，绘制 E-h 曲线。

### 任务3：共轭水深计算

给定比能，计算对应的两个可能水深。

### 任务4：景观设计建议

根据水力分析，提出景观设计建议。

## 使用方法

```python
# 运行主程序
python main.py

# 运行实验
python experiments.py
```

## 预期结果

- 理解比能曲线的形状和意义
- 掌握临界流的判别方法
- 了解水跃的形成条件
- 提出合理的景观设计方案

## 工程意义

本案例展示了：
1. 比能曲线在水力分析中的应用
2. 弗劳德数的实际物理意义
3. 临界流的特殊性和避免方法
4. 景观设计中的水力学考虑
5. 水跃在消能中的应用

## 景观设计要点

1. **平稳流动**: Fr < 0.5，水面平静，适合倒影
2. **动态景观**: 0.5 < Fr < 0.8，水流生动但不湍急
3. **跌水景观**: 利用水跃制造动态效果
4. **安全考虑**: 避免临界流，防止水深突变
5. **生态友好**: 流速适中，有利于水生生物

## 设计思路

- **静态水景**: 缓流，Fr < 0.3，水深较大
- **动态水景**: 0.5 < Fr < 0.8，水流活泼
- **跌水瀑布**: 急流转缓流，形成水跃
- **涉水平台**: Fr < 0.5，水深 < 0.3m，安全舒适
