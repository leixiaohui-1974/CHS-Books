# 案例2：城市雨水排水渠设计

## 案例背景

某城市新建居民小区，需要设计雨水排水系统。根据暴雨强度公式和汇水面积，确定设计流量为 1.2 m³/s。

排水渠采用矩形断面混凝土渠道：
- 渠宽 b = 1.5 m
- 渠底坡度 S0 = 0.003（较陡，利于排水）
- 曼宁糙率 n = 0.013（混凝土光滑表面）

设计要求：
1. 流速应控制在 0.6-3.0 m/s 范围内（防止淤积和冲刷）
2. 避免临界流和急流（不稳定）
3. 留有足够的安全超高

## 学习目标

1. 理解矩形断面的特点
2. 掌握临界流的判别方法
3. 学会流速控制设计
4. 理解缓流、急流和临界流的区别

## 核心理论

### 1. 矩形断面特点

矩形断面是城市排水最常用的断面形式：
- 施工简单，成本较低
- 便于预制和标准化
- 水力性能良好
- 易于清淤维护

**水力要素：**
```python
A = b * h               # 面积
χ = b + 2*h            # 湿周
R = A / χ = b*h/(b+2*h) # 水力半径
B = b                   # 水面宽（矩形不变）
hm = A / B = h          # 水力深度（矩形等于水深）
```

### 2. 临界流概念

**临界流定义：**
- 弗劳德数 Fr = 1
- 比能 E 最小
- 流态转变的分界点

**临界水深（矩形断面）：**
```python
hc = (q²/g)^(1/3)
其中 q = Q/b 为单宽流量 (m²/s)
```

**流态判别：**
- h > hc, Fr < 1 → 缓流（亚临界流）
- h = hc, Fr = 1 → 临界流
- h < hc, Fr > 1 → 急流（超临界流）

### 3. 流速控制

**最小流速（防淤积）：**
- 一般不小于 0.6 m/s
- 含沙水流不小于 0.75 m/s

**最大流速（防冲刷）：**
- 土质渠道：< 1.0 m/s
- 砌石渠道：< 3.0 m/s
- 混凝土渠道：< 5.0 m/s

## 计算任务

### 任务1：设计水深计算

已知设计流量 Q = 1.2 m³/s，求正常水深和流速。

### 任务2：流态判别

计算临界水深，判断水流状态。

### 任务3：流速校核

检验流速是否满足 0.6-3.0 m/s 的要求。

### 任务4：断面优化

如果流速不满足要求，调整渠宽或坡度。

## 使用方法

```python
# 运行主程序
python main.py

# 运行实验
python experiments.py
```

## 预期结果

- 正常水深约 h0 ≈ 0.6-0.7 m
- 流速约 v ≈ 1.2-1.5 m/s
- 流态为缓流（Fr < 1）
- 满足流速控制要求

## 工程意义

本案例展示了：
1. 城市排水渠道的设计方法
2. 矩形断面的应用
3. 流速控制的重要性
4. 临界流的判别和避免
5. 安全超高的确定

## 设计要点

1. **断面选择**: 矩形断面便于施工和维护
2. **坡度选择**: 较大坡度利于排水，但要防止流速过大
3. **糙率选择**: 混凝土渠道糙率小，输水能力强
4. **流态控制**: 避免临界流和急流，保持稳定的缓流
5. **超高设计**: 一般取水深的 20-30%
