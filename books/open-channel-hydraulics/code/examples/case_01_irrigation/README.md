# 案例1：农村灌溉渠流量计算

## 案例背景

某农村灌区需要设计一条灌溉渠道，为1000亩农田供水。根据农业用水定额，设计流量为0.5 m³/s。

渠道采用梯形断面，设计参数如下：
- 渠底宽度 b = 1.0 m
- 边坡系数 m = 1.5（边坡为1.5:1，即水平:垂直）
- 渠底坡度 S0 = 0.0002（相对平缓）
- 渠道材料：土质渠道，曼宁糙率 n = 0.025

## 学习目标

1. 理解均匀流的基本概念
2. 掌握梯形断面水力要素计算
3. 学会使用曼宁公式计算正常水深
4. 分析流动状态（缓流/急流）

## 核心理论

### 1. 均匀流定义

均匀流是指：
- 水深沿程不变（∂h/∂x = 0）
- 流速沿程不变（∂v/∂x = 0）
- 水面线平行于渠底
- 能量坡度 J = 渠底坡度 S0

### 2. 曼宁公式

```
v = (1/n) * R^(2/3) * S0^(1/2)
Q = A * v
```

其中：
- v: 断面平均流速 (m/s)
- n: 曼宁糙率系数 (s/m^(1/3))
- R: 水力半径 (m)
- S0: 渠底坡度 (无量纲)
- Q: 流量 (m³/s)
- A: 过水断面面积 (m²)

### 3. 梯形断面水力要素

```
A = (b + m*h) * h           # 面积
χ = b + 2*h*sqrt(1 + m²)   # 湿周
R = A / χ                   # 水力半径
B = b + 2*m*h               # 水面宽度
```

## 计算任务

### 任务1：计算正常水深

已知设计流量 Q = 0.5 m³/s，求正常水深 h0。

### 任务2：验证流动状态

计算弗劳德数 Fr，判断水流是缓流还是急流。

### 任务3：敏感性分析

分析糙率系数 n 对正常水深的影响。

## 使用方法

```python
# 运行主程序
python main.py

# 运行实验
python experiments.py
```

## 文件说明

- `main.py` - 主计算程序
- `experiments.py` - 计算实验
- `README.md` - 本文件
- `results/` - 计算结果输出目录

## 预期结果

- 正常水深约 h0 ≈ 0.8-0.9 m
- 弗劳德数 Fr < 1，为缓流
- 流速约 v ≈ 0.5-0.6 m/s

## 工程意义

本案例展示了：
1. 如何设计农村灌溉渠道
2. 均匀流计算的基本方法
3. 梯形断面的优势（稳定性好，施工方便）
4. 糙率系数对水深的影响
