# 🤝 贡献指南

感谢您对本教材的关注！我们欢迎各种形式的贡献。

---

## 📋 目录

- [如何贡献](#如何贡献)
- [报告问题](#报告问题)
- [提交改进](#提交改进)
- [代码规范](#代码规范)
- [文档规范](#文档规范)
- [提交信息](#提交信息)

---

## 如何贡献

您可以通过以下方式贡献：

### 1. 报告Bug
发现问题？请告诉我们！

### 2. 提出改进建议
有好的想法？欢迎分享！

### 3. 改进文档
发现文档不清楚？帮助改进！

### 4. 贡献代码
- 修复bug
- 添加新功能
- 优化性能
- 添加新案例

### 5. 分享经验
- 编写教程
- 分享应用案例
- 提供反馈

---

## 报告问题

### 问题类型

**Bug报告**：
- 详细描述问题
- 提供复现步骤
- 贴出错误信息
- 说明运行环境

**功能建议**：
- 说明需求背景
- 描述期望功能
- 提出实现思路

### 报告模板

```markdown
## 问题描述
简要描述问题

## 复现步骤
1. 第一步
2. 第二步
3. ...

## 预期结果
应该得到什么

## 实际结果
实际得到什么

## 环境信息
- Python版本：
- 操作系统：
- 依赖版本：

## 补充说明
其他相关信息
```

---

## 提交改进

### 提交流程

1. **Fork仓库**（如果使用GitHub）

2. **创建分支**
```bash
git checkout -b feature/your-feature-name
# 或
git checkout -b fix/your-bug-fix
```

3. **进行修改**
- 遵循代码规范
- 添加必要注释
- 编写测试（如果需要）

4. **提交更改**
```bash
git add .
git commit -m "描述你的更改"
```

5. **推送分支**
```bash
git push origin feature/your-feature-name
```

6. **创建Pull Request**
- 描述改动内容
- 关联相关Issue
- 等待审核

---

## 代码规范

### Python代码规范

遵循 [PEP 8](https://www.python.org/dev/peps/pep-0008/)：

**命名规范**：
```python
# 变量和函数：小写+下划线
water_level = 100
def calculate_flow():
    pass

# 类：大驼峰
class WaterReservoir:
    pass

# 常量：大写+下划线
MAX_CAPACITY = 1000
```

**代码格式**：
```python
# 缩进：4个空格
def function():
    if condition:
        do_something()

# 每行不超过79字符
# 长行使用反斜杠或括号换行
```

**注释规范**：
```python
def function(param1, param2):
    """
    函数简要说明
    
    详细说明（如果需要）
    
    Parameters
    ----------
    param1 : type
        参数说明
    param2 : type
        参数说明
    
    Returns
    -------
    type
        返回值说明
    """
    pass
```

### 文件组织

**新增核心模块**：
```
code/core/new_module/
├── __init__.py         # 导出接口
├── algorithm1.py       # 算法1
├── algorithm2.py       # 算法2
└── utils.py           # 辅助函数
```

**新增案例**：
```
code/examples/new_case/
├── README.md          # 案例说明
├── main.py           # 主程序
├── data/             # 数据
│   └── config.yaml
└── src/              # 辅助模块（如需要）
    └── helper.py
```

---

## 文档规范

### README格式

每个案例必须包含README.md：

```markdown
# 案例名称

## 工程背景
...

## 案例目标
...

## 技术路线
...

## 核心算法
...

## 运行方法
```bash
...
```

## 预期结果
...

## 思考题
...

## 参考文献
...
```

### 代码注释

**模块级注释**：
```python
"""
模块名称

模块功能简要说明
"""
```

**函数注释**：
使用NumPy风格的docstring

**行内注释**：
解释复杂逻辑，避免自明代码

---

## 提交信息

### 提交信息格式

```
类型(范围): 简短描述

详细描述（可选）

相关Issue（可选）
```

### 提交类型

- `feat`: 新功能
- `fix`: Bug修复
- `docs`: 文档更新
- `style`: 代码格式（不影响功能）
- `refactor`: 重构（不改变功能）
- `test`: 测试相关
- `chore`: 构建/工具相关

### 示例

```bash
# 好的提交信息
git commit -m "feat(optimization): 添加蚁群算法实现"
git commit -m "fix(case01): 修复频率分析中的除零错误"
git commit -m "docs(README): 更新安装说明"

# 不好的提交信息
git commit -m "更新"
git commit -m "fix bug"
```

---

## 贡献类型

### 代码贡献

**添加新算法**：
1. 在对应核心模块添加实现
2. 编写完整docstring
3. 添加使用示例
4. 更新模块README

**添加新案例**：
1. 创建案例目录
2. 编写README
3. 实现main.py
4. 准备示例数据
5. 添加可视化
6. 更新项目索引

**修复Bug**：
1. 定位问题
2. 编写修复代码
3. 添加测试（避免回归）
4. 更新CHANGELOG

### 文档贡献

**改进文档**：
- 修正错别字
- 完善说明
- 添加示例
- 翻译文档

**编写教程**：
- 应用案例
- 最佳实践
- 常见问题

---

## 审核标准

### 代码审核

- [ ] 符合代码规范
- [ ] 有完整注释
- [ ] 通过测试
- [ ] 不破坏现有功能

### 文档审核

- [ ] 表达清晰
- [ ] 格式正确
- [ ] 信息准确
- [ ] 示例可运行

---

## 版权说明

贡献的代码将采用MIT许可证。

提交代码即表示您同意：
- 代码使用MIT许可证
- 可以被自由使用和修改
- 保留原作者署名

---

## 行为准则

### 我们承诺

- 尊重所有贡献者
- 欢迎多样化的观点
- 专注于建设性讨论
- 维护友好的社区

### 不可接受的行为

- 骚扰或攻击
- 发布他人隐私
- 不当言论
- 其他不专业行为

---

## 联系方式

如有疑问，请联系：
- 📧 邮箱：（待补充）
- 💬 论坛：（待补充）
- 🐙 GitHub：（待补充）

---

## 致谢

感谢所有贡献者！

特别感谢：
- 提出宝贵建议的用户
- 报告bug的用户
- 改进文档的贡献者
- 分享经验的实践者

---

**贡献指南版本**: v1.0  
**更新日期**: 2025-11-02

---

🙏 **感谢您的贡献！让我们一起让这个项目更好！**
