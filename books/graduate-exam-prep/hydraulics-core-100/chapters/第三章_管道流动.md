# 第三章：管道流动（20题）⭐⭐⭐⭐

**知识点覆盖**: 层流与紊流、沿程损失、局部损失、长管短管、管网计算
**分值占比**: 考研占25-30分 ⭐⭐⭐⭐
**难度分布**: 基础10题 + 强化8题 + 综合2题

> **重要提示**：本章是工程实践的核心，管道水力计算是设计的基础，务必掌握计算方法！

---

## 本章核心公式速查

### 1. 雷诺数与流态判别

**雷诺数**:
```
Re = vd/ν = ρvd/μ

其中：
v - 平均流速 (m/s)
d - 管道直径 (m)
ν - 运动粘度 (m²/s)
μ - 动力粘度 (Pa·s)
ρ - 流体密度 (kg/m³)
```

**流态判别（圆管）**:
```
Re < 2000      → 层流
2000 ≤ Re ≤ 4000  → 过渡流（不稳定）
Re > 4000      → 紊流
```

### 2. 层流运动规律

**圆管层流（哈根-泊肃叶定律）**:
```
速度分布：u(r) = (Δp/(4μl)) · (R² - r²)

最大流速：u_max = ΔpR²/(4μl) = 2v̄

平均流速：v̄ = ΔpR²/(8μl) = ΔpD²/(32μl)

流量：Q = πR⁴Δp/(8μl)

沿程损失：h_f = 32μlv/(ρgD²) = 64/(Re) · (l/D) · (v²/2g)

摩阻系数：λ = 64/Re
```

### 3. 紊流运动规律

**莫迪图（Moody）**:
```
光滑管区：λ = f(Re)
过渡区：λ = f(Re, Δ/D)
粗糙管区：λ = f(Δ/D)

其中 Δ - 绝对粗糙度 (mm)
     Δ/D - 相对粗糙度
```

**尼古拉兹公式（光滑管）**:
```
λ = 0.316/Re^0.25   (Re < 10⁵)
λ = 0.0032 + 0.221/Re^0.237  (Re ≥ 10⁵)
```

**柯列勃洛克公式（过渡区，隐式）**:
```
1/√λ = -2lg(Δ/(3.7D) + 2.51/(Re√λ))
```

**谢才公式**:
```
v = C√(Ri)

C = 1/n · R^(1/6)  (曼宁公式)

其中：
C - 谢才系数
R - 水力半径 (m)，圆管R = D/4
i - 水力坡度
n - 糙率
```

### 4. 沿程损失与局部损失

**沿程损失（达西-魏斯巴赫公式）**:
```
h_f = λ · (l/D) · (v²/2g)

其中：
λ - 沿程阻力系数
l - 管道长度 (m)
D - 管道直径 (m)
v - 平均流速 (m/s)
```

**局部损失**:
```
h_j = ξ · (v²/2g)

其中：
ξ - 局部阻力系数

常用ξ值：
- 突然扩大：ξ = (1 - A₁/A₂)² = (1 - d₁²/d₂²)²
- 突然缩小：ξ ≈ 0.5(1 - A₂/A₁)
- 进口：ξ = 0.5（直角进口）
- 出口：ξ = 1.0
- 90°弯头：ξ = 0.3-1.5（取决于R/D）
- 闸阀全开：ξ ≈ 0.2
```

### 5. 长管与短管

**长管**（沿程损失占主导，h_f >> h_j）:
```
简化公式：H = h_f = λ(l/D) · (v²/2g)

设计公式：Q = μ · A · √(2gH)

其中：μ = 1/√(λl/D) - 流量系数
```

**短管**（局部损失不可忽略）:
```
完整公式：H = (λl/D + Σξ) · (v²/2g)

自由出流：p_出口 = p_a（大气压）
淹没出流：出口在水下
```

### 6. 串联与并联管道

**串联**:
```
Q = Q₁ = Q₂ = Q₃  （流量相同）
H = h₁ + h₂ + h₃  （水头损失相加）
```

**并联**:
```
Q = Q₁ + Q₂ + Q₃  （流量相加）
h = h₁ = h₂ = h₃  （水头损失相同）
```

---

## 第一节：层流与紊流（3题）

---

## 【基础题41】雷诺数计算与流态判别

**题目来源**: 河海大学2019年真题（改编）

**题目描述**:
20°C的水在直径d=50mm的圆管中流动，流量Q=0.5 L/s。已知20°C时水的运动粘度ν=1.0×10⁻⁶ m²/s。

求：
1. 计算雷诺数Re
2. 判别流态（层流/紊流）
3. 若要保持层流状态，最大允许流量Q_max是多少？

**已知条件**:
- 管道直径：d = 50 mm = 0.05 m
- 流量：Q = 0.5 L/s = 0.5×10⁻³ m³/s
- 运动粘度：ν = 1.0×10⁻⁶ m²/s

**知识点**: 雷诺数、流态判别
**考频**: ★★★★☆
**分值**: 10分
**难度**: 基础
**历年出题**: 河海2019、武大2018、清华2017
**配套代码**: ✅ `reynolds_number.py`

---

### 标准解答

**解题思路**:
1. 根据Q和A计算平均流速v
2. 用v、d、ν计算雷诺数Re
3. 根据Re判别流态
4. 用临界Re反算最大流量

**详细步骤**:

**(1) 计算管道过水断面积**:
```
A = πd²/4 = π × 0.05²/4 = 1.963×10⁻³ m²
```

**(2) 计算平均流速**:
```
v = Q/A = 0.5×10⁻³ / 1.963×10⁻³ = 0.255 m/s
```

**(3) 计算雷诺数**:
```
Re = vd/ν = (0.255 × 0.05) / (1.0×10⁻⁶)
   = 12,750
```

**(4) 判别流态**:
```
∵ Re = 12,750 > 4000
∴ 流态为紊流
```

**(5) 最大允许流量（层流临界）**:
```
Re_临界 = 2000（保守取值）

v_max = Re_临界 · ν / d = 2000 × 1.0×10⁻⁶ / 0.05 = 0.04 m/s

Q_max = A · v_max = 1.963×10⁻³ × 0.04 = 7.85×10⁻⁵ m³/s
      = 0.0785 L/s
```

**最终答案**:
- Re = 12,750
- 流态：紊流
- Q_max = 0.0785 L/s

---

### 评分标准（10分）

- 计算断面积A（1分）
- 计算流速v（2分）
- 雷诺数公式正确（2分）
- Re计算正确（2分）
- 流态判别正确（1分）
- Q_max计算正确（2分）

---

### 易错点

⚠️ **单位统一**：Q的单位要转换为m³/s，d转换为m

⚠️ **流态判别标准**：
- Re < 2000 → 层流
- Re > 4000 → 紊流
- 2000~4000 → 过渡流（不稳定）

⚠️ **临界Re选择**：保守设计取Re_临界=2000，不是2300或4000

⚠️ **运动粘度与温度**：ν随温度变化，20°C水ν≈1.0×10⁻⁶ m²/s

---

### 拓展知识

**工程意义**：
- 给水管网设计时，流态影响摩阻系数λ的选择
- 层流λ=64/Re（明确公式），紊流需查图或用经验公式
- 实际工程管道几乎都是紊流（Re通常10⁴~10⁶）

**其他流态判别**:
- 明渠流：用Fr（弗劳德数）判别缓流/急流
- 边界层流动：用Re_x判别层流/紊流边界层

---

## 【基础题42】圆管层流流速分布与压降

**题目来源**: 同济大学2020年真题（改编）

**题目描述**:
机油（动力粘度μ=0.1 Pa·s，密度ρ=900 kg/m³）在水平圆管中作层流流动。管道直径D=40mm，长度l=10m，平均流速v̄=0.2 m/s。

求：
1. 计算雷诺数，验证是否为层流
2. 计算管轴处最大流速u_max
3. 计算沿程压降Δp
4. 计算沿程水头损失h_f

**已知条件**:
- 动力粘度：μ = 0.1 Pa·s
- 密度：ρ = 900 kg/m³
- 管径：D = 40 mm = 0.04 m
- 长度：l = 10 m
- 平均流速：v̄ = 0.2 m/s

**知识点**: 层流流速分布、哈根-泊肃叶定律
**考频**: ★★★★☆
**分值**: 12分
**难度**: 基础
**历年出题**: 同济2020、东南2019
**配套代码**: ✅ `laminar_velocity_profile.py`

---

### 标准解答

**解题思路**:
1. 计算Re验证层流
2. 用层流关系u_max=2v̄
3. 用哈根-泊肃叶定律计算Δp
4. 用达西公式计算h_f

**详细步骤**:

**(1) 计算运动粘度**:
```
ν = μ/ρ = 0.1/900 = 1.111×10⁻⁴ m²/s
```

**(2) 验证流态**:
```
Re = v̄D/ν = (0.2 × 0.04)/(1.111×10⁻⁴) = 72

∵ Re = 72 < 2000
∴ 确为层流 ✓
```

**(3) 最大流速（层流抛物线分布）**:
```
u_max = 2v̄ = 2 × 0.2 = 0.4 m/s
```

**(4) 沿程压降（哈根-泊肃叶定律）**:
```
Δp = 32μlv̄/D²
   = (32 × 0.1 × 10 × 0.2) / 0.04²
   = 64 / 0.0016
   = 40,000 Pa = 40 kPa
```

**(5) 沿程水头损失**:

方法一（用压降）:
```
h_f = Δp/(ρg) = 40,000/(900 × 9.81) = 4.53 m
```

方法二（用达西公式）:
```
λ = 64/Re = 64/72 = 0.889

h_f = λ(l/D)(v̄²/2g) = 0.889 × (10/0.04) × (0.2²/(2×9.81))
    = 0.889 × 250 × 0.00204
    = 4.53 m  ✓ （两种方法结果一致）
```

**最终答案**:
- Re = 72（层流）
- u_max = 0.4 m/s
- Δp = 40 kPa
- h_f = 4.53 m

---

### 评分标准（12分）

- 计算ν正确（1分）
- 计算Re正确（2分）
- 验证层流（1分）
- u_max公式和计算（2分）
- Δp公式正确（2分）
- Δp计算正确（2分）
- h_f计算正确（2分）

---

### 易错点

⚠️ **层流特征**：u_max = 2v̄（抛物线分布），紊流u_max ≈ 1.2v̄（对数分布）

⚠️ **哈根-泊肃叶公式**：Δp = 32μlv̄/D²，注意是D²不是D

⚠️ **压降与水头损失**：h_f = Δp/(ρg)，要用流体密度ρ不是水的密度

⚠️ **层流摩阻系数**：λ = 64/Re（与粗糙度无关）

---

### 拓展知识

**层流工程应用**:
- 高粘度流体（润滑油、糖浆、血液）
- 微流控芯片（Re极小）
- 精密仪器中的阻尼器

**层流速度分布推导**:
```
从N-S方程出发，圆管层流：
dp/dx = μ/r · d/dr(r·du/dr)

积分两次，边界条件u(R)=0，得：
u(r) = (1/4μ)(dp/dx)(R² - r²)
```

---

## 【强化题43】紊流摩阻系数计算（莫迪图）

**题目来源**: 清华大学2018年真题（改编）

**题目描述**:
某输水管道，直径D=300mm，长度l=500m，流量Q=80 L/s，水温20°C（ν=1.0×10⁻⁶ m²/s）。管壁绝对粗糙度Δ=0.3mm。

求：
1. 计算雷诺数Re和相对粗糙度Δ/D
2. 判断流态和粗糙区类型
3. 用柯列勃洛克公式计算摩阻系数λ（迭代法）
4. 计算沿程水头损失h_f
5. 若忽略粗糙度按光滑管计算，误差有多大？

**已知条件**:
- 直径：D = 300 mm = 0.3 m
- 长度：l = 500 m
- 流量：Q = 80 L/s = 0.08 m³/s
- 粗糙度：Δ = 0.3 mm = 0.0003 m
- 运动粘度：ν = 1.0×10⁻⁶ m²/s

**知识点**: 雷诺数、莫迪图、柯列勃洛克公式、紊流阻力
**考频**: ★★★★★
**分值**: 15分
**难度**: 强化
**历年出题**: 清华2018、浙大2019、天大2020
**配套代码**: ✅ `moody_friction_factor.py`

---

### 标准解答

**解题思路**:
1. 计算Re和Δ/D判别区域
2. 用柯列勃洛克隐式公式迭代求λ
3. 用达西公式计算h_f
4. 对比光滑管和粗糙管的差异

**详细步骤**:

**(1) 计算流速和雷诺数**:
```
A = πD²/4 = π × 0.3²/4 = 0.0707 m²

v = Q/A = 0.08/0.0707 = 1.131 m/s

Re = vD/ν = (1.131 × 0.3)/(1.0×10⁻⁶) = 339,300
```

**(2) 计算相对粗糙度**:
```
Δ/D = 0.0003/0.3 = 0.001 = 1/1000
```

**(3) 判别粗糙区类型**:
```
∵ Re = 3.39×10⁵ > 4000  → 紊流

判别粗糙区（经验判据）：
Re·(Δ/D) = 339,300 × 0.001 = 339.3

∵ 10 < Re·(Δ/D) < 1000
∴ 属于过渡粗糙区（λ与Re和Δ/D都相关）
```

**(4) 柯列勃洛克公式（迭代法）**:

公式：
```
1/√λ = -2lg[Δ/(3.7D) + 2.51/(Re√λ)]
```

代入数值：
```
1/√λ = -2lg[0.001/3.7 + 2.51/(339300√λ)]
     = -2lg[0.000270 + 7.40×10⁻⁶/√λ]
```

**迭代过程**:

初值：λ₀ = 0.02（经验值）

第1次迭代：
```
1/√0.02 = 7.071
-2lg[0.000270 + 7.40×10⁻⁶ × 7.071] = -2lg[0.000322] = 6.982
λ₁ = 1/6.982² = 0.0205
```

第2次迭代：
```
1/√0.0205 = 6.983
-2lg[0.000270 + 7.40×10⁻⁶ × 6.983] = -2lg[0.000322] = 6.982
λ₂ = 0.0205  （收敛）
```

**∴ λ = 0.0205**

**(5) 沿程水头损失**:
```
h_f = λ(l/D)(v²/2g)
    = 0.0205 × (500/0.3) × (1.131²/(2×9.81))
    = 0.0205 × 1666.7 × 0.0652
    = 2.23 m
```

**(6) 光滑管计算（尼古拉兹公式）**:
```
λ_光滑 = 0.316/Re^0.25 = 0.316/(339300)^0.25 = 0.0131

h_f_光滑 = 0.0131 × 1666.7 × 0.0652 = 1.42 m

误差 = (2.23 - 1.42)/2.23 × 100% = 36.3%
```

**结论**：若忽略粗糙度，水头损失会**低估36.3%**，设计偏于危险！

---

### 评分标准（15分）

- 计算Re正确（2分）
- 计算Δ/D正确（1分）
- 判别粗糙区（2分）
- 柯列勃洛克公式正确（3分）
- λ迭代计算正确（3分）
- h_f计算正确（2分）
- 误差分析（2分）

---

### 易错点

⚠️ **柯列勃洛克公式**：是隐式方程，需要迭代求解（2-3次即收敛）

⚠️ **粗糙区判别**：
- 光滑管区：Re·(Δ/D) < 10
- 过渡区：10 < Re·(Δ/D) < 1000
- 完全粗糙区：Re·(Δ/D) > 1000

⚠️ **迭代初值**：可取λ₀=0.02或用尼古拉兹公式粗算

⚠️ **工程意义**：老旧管道粗糙度增大，λ显著增加，输水能力下降

---

### 拓展知识

**莫迪图（Moody Diagram）**：
- 横轴：Re（对数坐标）
- 纵轴：λ（对数坐标）
- 曲线族：不同Δ/D的曲线

**常用管材粗糙度**:
| 管材 | 绝对粗糙度Δ (mm) |
|------|------------------|
| 玻璃、塑料 | 0.0015-0.01 |
| 新铸铁管 | 0.25-0.30 |
| 钢管 | 0.02-0.10 |
| 混凝土管 | 0.3-3.0 |
| 旧铸铁管 | 1.0-1.5 |

---

## 第二节：沿程损失与局部损失（7题）

---

## 【基础题44】达西公式应用

**题目来源**: 武汉大学2019年真题（改编）

**题目描述**:
水平管道，直径d=100mm，长度l=50m，流速v=1.5 m/s，沿程阻力系数λ=0.025。

求：
1. 沿程水头损失h_f
2. 沿程压降Δp（ρ=1000 kg/m³）
3. 每千米管道的水头损失

**已知条件**:
- 直径：d = 100 mm = 0.1 m
- 长度：l = 50 m
- 流速：v = 1.5 m/s
- 摩阻系数：λ = 0.025

**知识点**: 达西-魏斯巴赫公式
**考频**: ★★★★★
**分值**: 8分
**难度**: 基础
**历年出题**: 武大2019、华中科大2018
**配套代码**: ❌

---

### 标准解答

**(1) 沿程水头损失（达西公式）**:
```
h_f = λ(l/d)(v²/2g)
    = 0.025 × (50/0.1) × (1.5²/(2×9.81))
    = 0.025 × 500 × 0.1147
    = 1.43 m
```

**(2) 沿程压降**:
```
Δp = ρg·h_f = 1000 × 9.81 × 1.43
   = 14,029 Pa ≈ 14.0 kPa
```

**(3) 单位长度水头损失**:
```
i = h_f/l = 1.43/50 = 0.0286 m/m = 28.6 m/km
```

**最终答案**:
- h_f = 1.43 m
- Δp = 14.0 kPa
- 单位水头损失 = 28.6 m/km

---

### 评分标准（8分）

- 达西公式正确（2分）
- h_f计算（2分）
- Δp公式和计算（2分）
- 单位水头损失（2分）

---

### 易错点

⚠️ **达西公式**：h_f = λ(l/d)(v²/2g)，不要忘记2g

⚠️ **单位统一**：d要用米，不要用毫米

⚠️ **水力坡度**：i = h_f/l = Δp/(ρgl)，表示单位长度能量损失

---

## 【基础题45】局部损失计算

**题目来源**: 天津大学2018年真题（改编）

**题目描述**:
水在管道中流动，流速v=2 m/s。管路上有以下局部构件：
- 直角进口（ξ₁=0.5）
- 90°标准弯头2个（ξ₂=0.5，共2个）
- 闸阀全开（ξ₃=0.2）
- 出口（ξ₄=1.0）

求：
1. 各局部损失
2. 总局部损失Σh_j
3. 若沿程损失h_f=3m，局部损失占总损失的百分比

**已知条件**:
- 流速：v = 2 m/s
- 各局部阻力系数如题所示

**知识点**: 局部阻力系数、局部损失
**考频**: ★★★★☆
**分值**: 10分
**难度**: 基础
**历年出题**: 天大2018、北航2019
**配套代码**: ✅ `local_head_loss.py`

---

### 标准解答

**局部损失公式**:
```
h_j = ξ(v²/2g)

速度水头：v²/2g = 2²/(2×9.81) = 0.204 m
```

**(1) 各局部损失**:

**进口损失**:
```
h_j1 = ξ₁(v²/2g) = 0.5 × 0.204 = 0.102 m
```

**两个弯头损失**:
```
h_j2 = 2 × ξ₂(v²/2g) = 2 × 0.5 × 0.204 = 0.204 m
```

**闸阀损失**:
```
h_j3 = ξ₃(v²/2g) = 0.2 × 0.204 = 0.041 m
```

**出口损失**:
```
h_j4 = ξ₄(v²/2g) = 1.0 × 0.204 = 0.204 m
```

**(2) 总局部损失**:
```
Σh_j = h_j1 + h_j2 + h_j3 + h_j4
     = 0.102 + 0.204 + 0.041 + 0.204
     = 0.551 m

或：Σξ = 0.5 + 2×0.5 + 0.2 + 1.0 = 2.7
   Σh_j = 2.7 × 0.204 = 0.551 m ✓
```

**(3) 局部损失占比**:
```
总损失：H_总 = h_f + Σh_j = 3 + 0.551 = 3.551 m

占比：Σh_j/H_总 × 100% = 0.551/3.551 × 100% = 15.5%
```

**最终答案**:
- 各局部损失：0.102m, 0.204m, 0.041m, 0.204m
- 总局部损失：0.551 m
- 占比：15.5%

---

### 评分标准（10分）

- v²/2g计算（1分）
- 各局部损失公式（2分）
- 各局部损失计算（4分）
- 总局部损失（2分）
- 占比计算（1分）

---

### 易错点

⚠️ **局部损失叠加**：多个局部阻力直接相加Σξ = ξ₁+ξ₂+...

⚠️ **出口损失**：ξ=1.0（速度水头完全损失）

⚠️ **长管vs短管**：
- 长管：h_j << h_f（局部损失可忽略）
- 短管：h_j不可忽略

⚠️ **闸阀开度**：全开ξ≈0.2，半开ξ≈5-10，几乎全关ξ可达100+

---

### 拓展知识

**常用局部阻力系数ξ**:

| 构件 | ξ值 |
|------|-----|
| 直角进口 | 0.5 |
| 圆滑进口 | 0.05-0.1 |
| 出口 | 1.0 |
| 90°标准弯头 | 0.3-1.5 |
| 45°弯头 | 0.2 |
| 突然扩大 | (1-A₁/A₂)² |
| 突然缩小 | 0.5(1-A₂/A₁) |
| 渐扩管 | 0.1-0.3 |
| 渐缩管 | 0.05-0.1 |
| 闸阀全开 | 0.2 |
| 截止阀全开 | 5-10 |

---

## 【强化题46】突然扩大与突然缩小

**题目来源**: 哈工大2020年真题（改编）

**题目描述**:
管道突然扩大，上游管径d₁=50mm，下游管径d₂=100mm，上游流速v₁=4 m/s，上游压强p₁=100 kPa。

求：
1. 下游流速v₂（用连续性方程）
2. 突然扩大局部损失h_j
3. 下游压强p₂（用能量方程，忽略沿程损失）
4. 用动量方程验证p₂

**已知条件**:
- 上游管径：d₁ = 50 mm = 0.05 m
- 下游管径：d₂ = 100 mm = 0.1 m
- 上游流速：v₁ = 4 m/s
- 上游压强：p₁ = 100 kPa

**知识点**: 突然扩大、连续性方程、能量方程、动量方程
**考频**: ★★★★☆
**分值**: 15分
**难度**: 强化
**历年出题**: 哈工大2020、大连理工2019
**配套代码**: ✅ `sudden_expansion.py`

---

### 标准解答

**(1) 下游流速（连续性方程）**:
```
A₁v₁ = A₂v₂

v₂ = v₁(A₁/A₂) = v₁(d₁/d₂)²
   = 4 × (50/100)²
   = 4 × 0.25 = 1 m/s
```

**(2) 突然扩大局部损失**:

**公式**（博尔达-卡诺公式）:
```
h_j = (v₁ - v₂)²/(2g) = (1 - A₁/A₂)² · (v₁²/2g)

ξ = (1 - A₁/A₂)² = (1 - 0.25)² = 0.5625
```

**计算**:
```
h_j = (4 - 1)²/(2×9.81) = 9/(19.62) = 0.459 m
```

或：
```
h_j = ξ(v₁²/2g) = 0.5625 × (16/(2×9.81)) = 0.459 m ✓
```

**(3) 下游压强（能量方程）**:

**水平管，z₁=z₂**:
```
p₁/(ρg) + v₁²/(2g) = p₂/(ρg) + v₂²/(2g) + h_j

p₂/(ρg) = p₁/(ρg) + (v₁²-v₂²)/(2g) - h_j
        = 100000/(1000×9.81) + (16-1)/(2×9.81) - 0.459
        = 10.19 + 0.764 - 0.459
        = 10.50 m

p₂ = 10.50 × 1000 × 9.81 = 103,005 Pa ≈ 103 kPa
```

**(4) 动量方程验证**:

**取1-2段为控制体，水平方向动量方程**:
```
p₁A₁ + p₁(A₂-A₁) - p₂A₂ = ρQ(v₂ - v₁)

简化（假设扩大断面处压强近似为p₁）:
p₁A₂ - p₂A₂ = ρQ(v₂ - v₁)

p₂ = p₁ - ρQ(v₂-v₁)/A₂
   = p₁ - ρv₁A₁(v₂-v₁)/A₂
```

代入：
```
Q = A₁v₁ = π×0.05²/4 × 4 = 7.854×10⁻³ m³/s

p₂ = 100000 - 1000 × 7.854×10⁻³ × (1-4) / (π×0.1²/4)
   = 100000 - 1000 × 7.854×10⁻³ × (-3) / 7.854×10⁻³
   = 100000 + 3000
   = 103,000 Pa = 103 kPa  ✓ （与能量方程结果一致）
```

**最终答案**:
- v₂ = 1 m/s
- h_j = 0.459 m
- p₂ = 103 kPa（两种方法验证一致）

---

### 评分标准（15分）

- 连续性方程求v₂（2分）
- 突然扩大公式（3分）
- h_j计算（2分）
- 能量方程列式（3分）
- p₂计算（3分）
- 动量方程验证（2分）

---

### 易错点

⚠️ **博尔达-卡诺公式**：h_j = (v₁-v₂)²/(2g)，不是v₁²或v₂²

⚠️ **压强恢复**：突然扩大后p₂>p₁（动能转化为压能，但有损失）

⚠️ **动量方程边界条件**：扩大断面处压强分布复杂，简化假设p≈p₁

⚠️ **突然缩小**：h_j = 0.5(1-A₂/A₁)(v₂²/2g)，公式不同！

---

### 拓展知识

**突然扩大的物理本质**：
- 边界层分离 → 涡旋产生 → 机械能转化为热能
- 能量损失h_j = (v₁-v₂)²/(2g)与扩大比A₂/A₁有关
- 扩大比越大，损失越大

**工程应用**：
- 扩散管设计：采用渐扩（锥角α<8°）减小损失
- 泵出口：突然扩大 → 能量损失 → 效率降低
- 通风管道：合理设计扩大段

---

## 【基础题47】渐扩管与渐缩管

**题目来源**: 东南大学2019年真题（改编）

**题目描述**:
渐扩管，上游d₁=100mm, v₁=3 m/s，下游d₂=200mm。锥角α=10°。

求：
1. 下游流速v₂
2. 若为突然扩大，局部损失h_j1
3. 渐扩管局部损失h_j2（ξ≈0.15）
4. 渐扩管比突然扩大节省的水头损失

**知识点**: 渐扩管、突然扩大对比
**考频**: ★★★☆☆
**分值**: 10分
**难度**: 基础
**配套代码**: ❌

---

### 标准解答

**(1) 下游流速**:
```
v₂ = v₁(d₁/d₂)² = 3 × (100/200)² = 0.75 m/s
```

**(2) 突然扩大损失**:
```
ξ₁ = (1 - A₁/A₂)² = (1 - 0.25)² = 0.5625

h_j1 = ξ₁(v₁²/2g) = 0.5625 × (9/(2×9.81)) = 0.258 m
```

**(3) 渐扩管损失**:
```
h_j2 = ξ₂(v₁²/2g) = 0.15 × (9/(19.62)) = 0.069 m
```

**(4) 节省的水头损失**:
```
Δh = h_j1 - h_j2 = 0.258 - 0.069 = 0.189 m

节省比例：Δh/h_j1 × 100% = 0.189/0.258 × 100% = 73.3%
```

**结论**：渐扩管可节省**73.3%**的局部损失！

---

### 评分标准（10分）

- v₂计算（2分）
- 突然扩大h_j1（3分）
- 渐扩管h_j2（2分）
- 节省分析（3分）

---

### 易错点

⚠️ **渐扩管优势**：锥角α适当（6°-8°最佳），ξ可降至0.1以下

⚠️ **锥角选择**：
- α < 6°：扩散缓慢，管长过长
- 6° < α < 8°：最佳
- α > 10°：易分离，损失增大

---

## 【强化题48】管道串联系统水力计算

**题目来源**: 河海大学2020年真题

**题目描述**:
三段管道串联，如图所示：
- AB段：l₁=100m, d₁=200mm, λ₁=0.025
- BC段：l₂=150m, d₂=150mm, λ₂=0.028
- CD段：l₃=200m, d₃=100mm, λ₃=0.030

已知总流量Q=30 L/s，忽略局部损失。

求：
1. 各段流速v₁, v₂, v₃
2. 各段沿程损失h_f1, h_f2, h_f3
3. 总水头损失H
4. 若要求H不超过10m，最大允许流量Q_max

**知识点**: 串联管道、水力计算
**考频**: ★★★★★
**分值**: 15分
**难度**: 强化
**配套代码**: ✅ `series_pipe_system.py`

---

### 标准解答

**(1) 各段流速**:

**串联特点**：Q = Q₁ = Q₂ = Q₃ = 30 L/s = 0.03 m³/s

AB段：
```
A₁ = πd₁²/4 = π×0.2²/4 = 0.0314 m²
v₁ = Q/A₁ = 0.03/0.0314 = 0.955 m/s
```

BC段：
```
A₂ = π×0.15²/4 = 0.0177 m²
v₂ = 0.03/0.0177 = 1.695 m/s
```

CD段：
```
A₃ = π×0.1²/4 = 0.00785 m²
v₃ = 0.03/0.00785 = 3.822 m/s
```

**(2) 各段沿程损失**:

AB段：
```
h_f1 = λ₁(l₁/d₁)(v₁²/2g)
     = 0.025 × (100/0.2) × (0.955²/(2×9.81))
     = 0.025 × 500 × 0.0465
     = 0.581 m
```

BC段：
```
h_f2 = 0.028 × (150/0.15) × (1.695²/(2×9.81))
     = 0.028 × 1000 × 0.146
     = 4.09 m
```

CD段：
```
h_f3 = 0.030 × (200/0.1) × (3.822²/(2×9.81))
     = 0.030 × 2000 × 0.744
     = 44.64 m
```

**(3) 总水头损失**:
```
H = h_f1 + h_f2 + h_f3
  = 0.581 + 4.09 + 44.64
  = 49.31 m
```

**(4) 最大允许流量**:

**关键**：H与Q²成正比（h_f ∝ v² ∝ Q²）

```
H/H_max = (Q/Q_max)²

Q_max = Q · √(H_max/H) = 0.03 × √(10/49.31)
      = 0.03 × 0.451
      = 0.0135 m³/s = 13.5 L/s
```

**最终答案**:
- v₁=0.955 m/s, v₂=1.695 m/s, v₃=3.822 m/s
- h_f1=0.581 m, h_f2=4.09 m, h_f3=44.64 m
- H = 49.31 m
- Q_max = 13.5 L/s

---

### 评分标准（15分）

- 各段断面积（2分）
- 各段流速（3分）
- 各段h_f公式（3分）
- 各段h_f计算（3分）
- 总损失（2分）
- Q_max计算（2分）

---

### 易错点

⚠️ **串联管道特点**：
- 流量相同：Q₁ = Q₂ = Q₃
- 损失相加：H = h_f1 + h_f2 + h_f3
- 管径小、流速大、损失大

⚠️ **"瓶颈效应"**：CD段管径最小(100mm)，损失占90.6%！

⚠️ **H ∝ Q²关系**：流量减半，损失降为1/4

⚠️ **工程启示**：局部细管严重影响系统性能，需重点改造

---

## 【强化题49】管道并联系统水力计算

**题目来源**: 浙江大学2019年真题

**题目描述**:
两管并联，从A到B：
- 管1：l₁=200m, d₁=150mm, λ₁=0.025
- 管2：l₂=300m, d₂=200mm, λ₂=0.028

已知总流量Q=50 L/s。求：
1. 两管分配流量Q₁, Q₂
2. 两管水头损失h₁, h₂（验证相等）
3. 若改为串联，总水头损失H_串

**知识点**: 并联管道、流量分配
**考频**: ★★★★☆
**分值**: 15分
**难度**: 强化
**配套代码**: ✅ `parallel_pipe_system.py`

---

### 标准解答

**(1) 流量分配**:

**并联特点**：
```
Q = Q₁ + Q₂        ... (1)
h₁ = h₂           ... (2)
```

**水头损失相等**:
```
λ₁(l₁/d₁)(v₁²/2g) = λ₂(l₂/d₂)(v₂²/2g)

λ₁(l₁/d₁)(Q₁/A₁)² = λ₂(l₂/d₂)(Q₂/A₂)²

λ₁(l₁/d₁)(Q₁/(πd₁²/4))² = λ₂(l₂/d₂)(Q₂/(πd₂²/4))²
```

简化：
```
λ₁l₁Q₁²/d₁⁵ = λ₂l₂Q₂²/d₂⁵

Q₁/Q₂ = √[(λ₂l₂d₁⁵)/(λ₁l₁d₂⁵)]
```

代入数据：
```
Q₁/Q₂ = √[(0.028×300×0.15⁵)/(0.025×200×0.2⁵)]
      = √[(0.028×300×0.000759)/(0.025×200×0.0032)]
      = √[0.00638/0.016]
      = √0.399 = 0.632

Q₁ = 0.632Q₂
```

结合Q₁+Q₂ = 0.05:
```
0.632Q₂ + Q₂ = 0.05
Q₂ = 0.05/1.632 = 0.0306 m³/s = 30.6 L/s
Q₁ = 0.05 - 0.0306 = 0.0194 m³/s = 19.4 L/s
```

**(2) 验证水头损失相等**:

管1：
```
A₁ = π×0.15²/4 = 0.0177 m²
v₁ = 0.0194/0.0177 = 1.096 m/s

h₁ = 0.025 × (200/0.15) × (1.096²/(2×9.81))
   = 0.025 × 1333.3 × 0.0612
   = 2.04 m
```

管2：
```
A₂ = π×0.2²/4 = 0.0314 m²
v₂ = 0.0306/0.0314 = 0.975 m/s

h₂ = 0.028 × (300/0.2) × (0.975²/(2×9.81))
   = 0.028 × 1500 × 0.0484
   = 2.03 m ≈ 2.04 m  ✓ （相等）
```

**(3) 改为串联**:

```
Q = 0.05 m³/s流过两管

管1：v₁ = 0.05/0.0177 = 2.825 m/s
h_f1 = 0.025 × (200/0.15) × (2.825²/(2×9.81)) = 13.58 m

管2：v₂ = 0.05/0.0314 = 1.592 m/s
h_f2 = 0.028 × (300/0.2) × (1.592²/(2×9.81)) = 5.44 m

H_串 = h_f1 + h_f2 = 13.58 + 5.44 = 19.02 m
```

**对比**：
- 并联：h = 2.04 m
- 串联：H = 19.02 m（约为并联的9.3倍！）

---

### 评分标准（15分）

- 并联条件列式（2分）
- 流量分配公式（4分）
- Q₁、Q₂计算（3分）
- h₁、h₂验证（3分）
- 串联计算（3分）

---

### 易错点

⚠️ **并联管道特点**：
- 损失相等：h₁ = h₂ = h₃
- 流量相加：Q = Q₁ + Q₂ + Q₃
- 小管流量小，大管流量大

⚠️ **流量分配规律**：d大的管分到的Q大

⚠️ **并联优势**：同样Q，并联损失远小于串联

---

## 【基础题50】局部阻力的等效长度

**题目来源**: 北京理工2018年真题

**题目描述**:
管道d=100mm，λ=0.025，有一个90°弯头（ξ=0.5）。

求：
1. 该弯头的等效长度l_e
2. 物理含义
3. 若有10个这样的弯头，等效总长度

**知识点**: 等效长度
**考频**: ★★★☆☆
**分值**: 8分
**难度**: 基础
**配套代码**: ❌

---

### 标准解答

**(1) 等效长度**:

**概念**：使h_j = h_f_等效

```
ξ(v²/2g) = λ(l_e/d)(v²/2g)

l_e = ξd/λ = 0.5 × 0.1 / 0.025 = 2 m
```

**(2) 物理含义**:

该弯头产生的局部损失，相当于**2米**同直径直管的沿程损失。

**(3) 10个弯头**:
```
L_e = 10 × l_e = 10 × 2 = 20 m
```

---

### 评分标准（8分）

- 等效长度公式（3分）
- l_e计算（2分）
- 物理含义（2分）
- 总等效长度（1分）

---

## 第三节：长管与短管计算（7题）

---

## 【基础题51】长管水力计算（自由出流）

**题目来源**: 四川大学2019年真题

**题目描述**:
水从水库经管道自由出流到大气。已知：
- 水库水面高程：Z₀ = 50 m
- 出口高程：Z_出 = 20 m
- 管长：l = 500 m
- 管径：d = 150 mm
- λ = 0.028

忽略局部损失，求：
1. 出口流速v
2. 流量Q

**知识点**: 长管、自由出流
**考频**: ★★★★★
**分值**: 10分
**难度**: 基础
**配套代码**: ✅ `long_pipe_free_discharge.py`

---

### 标准解答

**能量方程（水库水面0到出口2）**:

```
Z₀ + p₀/(ρg) + v₀²/(2g) = Z₂ + p₂/(ρg) + v₂²/(2g) + h_f

条件：
- p₀ = p₂ = p_a（大气压）
- v₀ ≈ 0（水库面积大）
- h_f = λ(l/d)(v²/2g)（长管，忽略局部）
```

简化：
```
Z₀ = Z₂ + v²/(2g) + λ(l/d)(v²/2g)

Z₀ - Z₂ = [1 + λ(l/d)] · (v²/2g)

H = 50 - 20 = 30 m
```

**(1) 出口流速**:
```
v = √[2gH / (1 + λl/d)]
  = √[2×9.81×30 / (1 + 0.028×500/0.15)]
  = √[588.6 / (1 + 93.33)]
  = √[588.6 / 94.33]
  = √6.24 = 2.50 m/s
```

**(2) 流量**:
```
A = πd²/4 = π×0.15²/4 = 0.0177 m²

Q = Av = 0.0177 × 2.50 = 0.0442 m³/s = 44.2 L/s
```

---

### 评分标准（10分）

- 能量方程列式（3分）
- 简化条件（2分）
- v公式推导（2分）
- v计算（2分）
- Q计算（1分）

---

### 易错点

⚠️ **长管特征**：局部损失忽略（h_j << h_f）

⚠️ **自由出流**：出口压强p=p_a（大气压）

⚠️ **1项不能忽略**：即使λl/d >> 1，分母中的"1"也不能省略

---

## 【强化题52】长管水力计算（淹没出流）

**题目来源**: 华中科技大学2020年真题

**题目描述**:
上游水库水面高程H₁=100m，下游水池水面高程H₂=40m，管道l=1000m, d=200mm, λ=0.025。

求：
1. 流量Q（淹没出流）
2. 管道中点处的压强p_中
3. 若出口抬高至H₂'=80m，流量Q'变化

**知识点**: 长管、淹没出流
**考频**: ★★★★☆
**分值**: 15分
**难度**: 强化
**配套代码**: ✅ `long_pipe_submerged_discharge.py`

---

### 标准解答

**(1) 流量（淹没出流）**:

**能量方程**:
```
H₁ = H₂ + λ(l/d)(v²/2g)

H₁ - H₂ = λ(l/d)(v²/2g)

v = √[2g(H₁-H₂)d/(λl)]
  = √[2×9.81×(100-40)×0.2/(0.025×1000)]
  = √[1177.2/25]
  = √47.09 = 6.86 m/s

Q = A·v = (π×0.2²/4) × 6.86 = 0.216 m³/s = 216 L/s
```

**(2) 中点压强**:

**能量方程（上游水面到中点）**:
```
设中点高程Z_中 = (H₁+H₂)/2 = 70 m（假设管道均匀坡度）

H₁ = Z_中 + p_中/(ρg) + v²/(2g) + h_f_半程

h_f_半程 = λ(l/2/d)(v²/2g) = 0.025 × (500/0.2) × (6.86²/(2×9.81))
        = 0.025 × 2500 × 2.40 = 150 m

p_中/(ρg) = H₁ - Z_中 - v²/(2g) - h_f_半程
          = 100 - 70 - 2.40 - 150
          = -122.4 m

p_中 = -122.4 × 1000 × 9.81 = -1,200,744 Pa
```

**结果**：p_中 = -1200 kPa（**负压！**真空度1200kPa）

⚠️ **问题**：真空度过大（绝对压强接近0），会发生**汽蚀**！

**(3) 出口抬高**:
```
H₁ - H₂' = 100 - 80 = 20 m

v' = √[2×9.81×20×0.2/(0.025×1000)]
   = √[78.48/25] = √3.14 = 1.77 m/s

Q' = 0.0314 × 1.77 = 0.056 m³/s = 56 L/s

变化：Q'/Q = √[(H₁-H₂')/(H₁-H₂)] = √(20/60) = 0.577

流量降为原来的57.7%
```

---

### 评分标准（15分）

- 淹没出流能量方程（3分）
- v和Q计算（3分）
- 中点能量方程（3分）
- p_中计算（3分）
- 汽蚀判断（1分）
- Q'计算（2分）

---

### 易错点

⚠️ **淹没出流**：出口在水下，出口压强p₂≠p_a

⚠️ **负压问题**：长管、大流速、高程差大 → 易产生负压 → 汽蚀风险

⚠️ **Q ∝ √ΔH**：水位差变化，流量按平方根变化

---

## 【综合题53】长管设计（给定流量求管径）

**题目来源**: 西安交大2019年真题

**题目描述**:
某输水工程，要求输送Q=100 L/s，水头H=25m，管长l=800m，λ=0.025。允许流速v≤2.5 m/s（防冲刷）。

求：
1. 按流速限制计算最小管径d_min
2. 按水头损失计算所需管径d
3. 选择标准管径（100, 150, 200, 250, 300mm）
4. 校核选定管径的实际流速和水头损失

**知识点**: 长管设计、管径选择
**考频**: ★★★★★
**分值**: 18分
**难度**: 综合
**配套代码**: ✅ `pipe_diameter_design.py`

---

### 标准解答

**(1) 流速限制**:
```
Q = Av = (πd²/4)v

d_min = √(4Q/(πv_max))
      = √(4×0.1/(π×2.5))
      = √(0.4/(π×2.5))
      = √0.0509 = 0.226 m = 226 mm
```

**(2) 水头损失计算管径**:

**长管公式**:
```
H = λ(l/d)(v²/2g) = λ(l/d)((Q/A)²/2g)
  = λ(l/d)(Q²/(πd²/4)²/2g)
  = λl·16Q²/(2gπ²d⁵)

d⁵ = λl·16Q²/(2gπ²H)
```

代入：
```
d⁵ = 0.025×800×16×0.1²/(2×9.81×π²×25)
   = 0.025×800×16×0.01/(2×9.81×9.87×25)
   = 3.2/(4859)
   = 0.000658

d = (0.000658)^(1/5) = 0.226 m = 226 mm
```

巧合：两种方法算出的管径相同！

**(3) 选择标准管径**:

d_需要 = 226 mm

**标准管径**：100, 150, 200, **250**, 300mm

选择：**d = 250 mm**（略大于需求，偏安全）

**(4) 校核**:

**实际流速**:
```
A = π×0.25²/4 = 0.0491 m²
v_实际 = Q/A = 0.1/0.0491 = 2.04 m/s < 2.5 m/s  ✓
```

**实际水头损失**:
```
h_f = 0.025 × (800/0.25) × (2.04²/(2×9.81))
    = 0.025 × 3200 × 0.212
    = 16.96 m < 25 m  ✓
```

**裕度**：
```
水头裕度 = 25 - 16.96 = 8.04 m（32.2%）
流速裕度 = 2.5 - 2.04 = 0.46 m/s（18.4%）
```

---

### 评分标准（18分）

- 流速限制d_min（3分）
- 水头损失公式推导（4分）
- d计算（3分）
- 标准管径选择（2分）
- 实际流速校核（3分）
- 实际h_f校核（3分）

---

### 易错点

⚠️ **管径选择原则**：
- 从标准系列中选（不是任意值）
- 偏大一档（留裕度）
- 综合考虑：造价、流速、水头

⚠️ **d⁵关系**：h_f ∝ 1/d⁵，管径增大10%，损失降约40%

⚠️ **流速限制**：
- 防冲刷：v ≤ 2-3 m/s（泥沙水）
- 防淤积：v ≥ 0.6-0.8 m/s（排水管）

---

## 【强化题54】短管水力计算（考虑局部损失）

**题目来源**: 大连理工2018年真题

**题目描述**:
水从水箱经短管自由出流，H=5m，管长l=10m，d=100mm，λ=0.025。
局部构件：
- 进口：ξ₁=0.5
- 90°弯头1个：ξ₂=0.5
- 闸阀全开：ξ₃=0.2
- 出口：ξ₄=1.0

求：
1. 总阻力系数Σξ_总
2. 出口流速v
3. 流量Q
4. 若忽略局部损失，流速v'和误差

**知识点**: 短管、局部损失
**考频**: ★★★★☆
**分值**: 15分
**难度**: 强化
**配套代码**: ✅ `short_pipe_calculation.py`

---

### 标准解答

**(1) 总阻力系数**:

**沿程阻力等效ξ**:
```
λ(l/d) = 0.025 × (10/0.1) = 2.5
```

**局部阻力**:
```
Σξ_局部 = ξ₁ + ξ₂ + ξ₃ + ξ₄
        = 0.5 + 0.5 + 0.2 + 1.0 = 2.2
```

**总阻力**:
```
Σξ_总 = λ(l/d) + Σξ_局部 = 2.5 + 2.2 = 4.7
```

**(2) 出口流速**:

**能量方程**:
```
H = [1 + λ(l/d) + Σξ] · (v²/2g)

v = √[2gH / (1 + Σξ_总)]
  = √[2×9.81×5 / (1 + 4.7)]
  = √[98.1 / 5.7]
  = √17.21 = 4.15 m/s
```

**(3) 流量**:
```
Q = A·v = (π×0.1²/4) × 4.15
  = 0.00785 × 4.15 = 0.0326 m³/s = 32.6 L/s
```

**(4) 忽略局部损失**:

```
v' = √[2gH / (1 + λl/d)]
   = √[98.1 / (1 + 2.5)]
   = √[98.1 / 3.5]
   = √28.03 = 5.29 m/s

误差 = (v' - v)/v × 100% = (5.29 - 4.15)/4.15 × 100% = 27.5%
```

**结论**：忽略局部损失会**高估流速27.5%**，设计偏于危险！

---

### 评分标准（15分）

- λ(l/d)计算（2分）
- Σξ_局部（2分）
- Σξ_总（1分）
- v公式（3分）
- v计算（2分）
- Q计算（2分）
- v'和误差分析（3分）

---

### 易错点

⚠️ **短管定义**：l/d较小（通常<500），局部损失不可忽略

⚠️ **阻力系数叠加**：Σξ_总 = λ(l/d) + Σξ_局部

⚠️ **出口损失**：ξ=1.0（动能完全耗散），不能忽略

⚠️ **长管vs短管判据**：
- 短管：Σξ_局部 / [λ(l/d)] > 0.1（局部占10%以上）
- 本题：2.2/2.5 = 0.88（88%），典型短管

---

## 【基础题55】虹吸管水力计算

**题目来源**: 兰州大学2020年真题

**题目描述**:
虹吸管从水库取水，如图：
- 上游水面：Z₁ = 100 m
- 虹吸管顶：Z_顶 = 105 m
- 出口：Z₂ = 90 m
- 管径：d = 150 mm
- 总长：l = 50 m（1→顶20m，顶→2共30m）
- λ = 0.028
- 忽略局部损失

求：
1. 出口流速v和流量Q
2. 虹吸管顶部压强p_顶
3. 若p_顶真空度不超过7m水柱，允许的最大高度Z_顶_max

**知识点**: 虹吸管、真空高度
**考频**: ★★★★★
**分值**: 15分
**难度**: 强化
**配套代码**: ✅ `siphon_pipe.py`

---

### 标准解答

**(1) 出口流速和流量**:

**能量方程（1→2）**:
```
Z₁ = Z₂ + v²/(2g) + λ(l_总/d)(v²/2g)

Z₁ - Z₂ = [1 + λ(l/d)] · (v²/2g)

v = √[2g(Z₁-Z₂) / (1 + λl/d)]
  = √[2×9.81×10 / (1 + 0.028×50/0.15)]
  = √[196.2 / (1 + 9.33)]
  = √[196.2 / 10.33]
  = √19.0 = 4.36 m/s

Q = (π×0.15²/4) × 4.36 = 0.0771 m³/s = 77.1 L/s
```

**(2) 顶部压强**:

**能量方程（1→顶）**:
```
Z₁ + p₁/(ρg) = Z_顶 + p_顶/(ρg) + v²/(2g) + h_f_1→顶

p₁ = p_a（水库水面）

h_f_1→顶 = λ(l_1→顶/d)(v²/2g)
         = 0.028 × (20/0.15) × (4.36²/(2×9.81))
         = 0.028 × 133.3 × 0.969
         = 3.62 m

p_顶/(ρg) = Z₁ - Z_顶 - v²/(2g) - h_f_1→顶
          = 100 - 105 - 0.969 - 3.62
          = -9.59 m

p_顶 = -9.59 × 1000 × 9.81 = -94,088 Pa ≈ -94 kPa
```

**真空度**：h_v = 9.59 m水柱

**(3) 允许最大高度**:

**限制条件**：h_v_max = 7 m

```
Z₁ - Z_顶_max - v²/(2g) - h_f_1→顶 = -7

Z_顶_max = Z₁ + 7 - v²/(2g) - h_f_1→顶
```

**迭代**（因v受Z_顶影响较小，近似用原v）:
```
Z_顶_max ≈ 100 + 7 - 0.969 - 3.62
        = 102.4 m
```

**结论**：虹吸管顶不能超过上游水面**2.4m**

---

### 评分标准（15分）

- v和Q计算（4分）
- 顶部能量方程（3分）
- h_f_1→顶计算（2分）
- p_顶计算（3分）
- 真空度判断（1分）
- Z_顶_max计算（2分）

---

### 易错点

⚠️ **虹吸管工作条件**：
1. 管顶高于上游水面
2. 管顶压强p_顶 > p_汽化（否则断流）
3. 真空度h_v < 7-8m（工程安全）

⚠️ **虹吸管失效**：
- p_顶降至p_汽化 → 水汽化 → 气泡 → 断流
- 20°C水p_汽化≈2.3kPa，对应h_v_理论≈10m

⚠️ **能量损失**：h_f增大 → p_顶降低 → 允许高度减小

---

## 【强化题56】泵装置扬程计算

**题目来源**: 中国农大2019年真题

**题目描述**:
水泵从下游水池抽水送至上游水池：
- 下游水面：Z₁ = 10 m
- 上游水面：Z₂ = 50 m
- 吸水管：l_吸=5m, d_吸=200mm, λ₁=0.025, Σξ_吸=2.5
- 压水管：l_压=100m, d_压=150mm, λ₂=0.028, Σξ_压=5.0
- 流量：Q = 60 L/s

求：
1. 吸水管和压水管流速
2. 吸水管和压水管水头损失
3. 泵的扬程H_泵
4. 泵的轴功率（η_泵=0.75）

**知识点**: 泵扬程、能量方程
**考频**: ★★★★★
**分值**: 18分
**难度**: 强化
**配套代码**: ✅ `pump_head_calculation.py`

---

### 标准解答

**(1) 流速**:

**吸水管**:
```
A_吸 = π×0.2²/4 = 0.0314 m²
v_吸 = Q/A_吸 = 0.06/0.0314 = 1.91 m/s
```

**压水管**:
```
A_压 = π×0.15²/4 = 0.0177 m²
v_压 = 0.06/0.0177 = 3.39 m/s
```

**(2) 水头损失**:

**吸水管总损失**:
```
h_w_吸 = [λ₁(l_吸/d_吸) + Σξ_吸] · (v_吸²/2g)
       = [0.025×(5/0.2) + 2.5] · (1.91²/(2×9.81))
       = [0.625 + 2.5] · 0.186
       = 3.125 × 0.186 = 0.58 m
```

**压水管总损失**:
```
h_w_压 = [λ₂(l_压/d_压) + Σξ_压] · (v_压²/2g)
       = [0.028×(100/0.15) + 5.0] · (3.39²/(2×9.81))
       = [18.67 + 5.0] · 0.586
       = 23.67 × 0.586 = 13.87 m
```

**(3) 泵扬程**:

**能量方程（下游水面→上游水面）**:
```
Z₁ + H_泵 = Z₂ + h_w_吸 + h_w_压

H_泵 = (Z₂ - Z₁) + h_w_吸 + h_w_压
     = (50 - 10) + 0.58 + 13.87
     = 40 + 14.45
     = 54.45 m
```

**分析**：
- 几何扬程：H_几何 = 40 m（73.5%）
- 损失扬程：h_w = 14.45 m（26.5%）

**(4) 轴功率**:

```
P_水 = ρgQH_泵 = 1000 × 9.81 × 0.06 × 54.45
     = 32,054 W = 32.05 kW

P_轴 = P_水/η_泵 = 32.05/0.75 = 42.7 kW
```

---

### 评分标准（18分）

- 吸、压管流速（2分）
- 吸水管损失（3分）
- 压水管损失（3分）
- 泵扬程公式（4分）
- H_泵计算（3分）
- 轴功率计算（3分）

---

### 易错点

⚠️ **泵扬程≠几何扬程**：H_泵 = H_几何 + Σh_w

⚠️ **吸、压管都有损失**：不要只算压水管

⚠️ **泵的能量方程**：
```
下游水面 + H_泵 = 上游水面 + 总损失
```

⚠️ **功率关系**：
- 水功率：P_水 = ρgQH_泵
- 轴功率：P_轴 = P_水/η_泵
- 电机功率：P_电 = P_轴/η_传动

---

## 【基础题57】管道经济流速

**题目来源**: 华南理工2018年真题

**题目描述**:
某给水管道设计流量Q=100 L/s。已知：
- 管材单价：C_管 = 200d（元/m），d为管径(m)
- 水泵运行成本：C_泵 = 0.5元/(kW·h)
- 年运行时间：T = 5000 h
- 电价考虑期：n = 20年
- 折现率：i = 5%
- λ = 0.025

求经济管径（使总费用最小）。

**知识点**: 经济流速、工程经济
**考频**: ★★☆☆☆
**分值**: 12分（拔高）
**难度**: 综合
**配套代码**: ✅ `economic_pipe_diameter.py`

---

### 标准解答（思路）

**总费用 = 管材费 + 运行费现值**

**管材费**（每米）：C_管 = 200d

**运行费**：
```
水头损失：h_f = λ(l/d)(v²/2g) ∝ 1/d⁵
泵功率：P ∝ h_f ∝ 1/d⁵
年运行费：C_年 ∝ 1/d⁵

20年现值（等比折现）：
PV = C_年 · [(1+i)^n - 1] / [i(1+i)^n]
```

**最优条件**：dC_总/dd = 0

**经验公式**（Forcheimer）：
```
v_经济 = 0.6 + 3.6d（d单位m）

对本题Q=0.1 m³/s：
0.1 = (πd²/4)v = (πd²/4)(0.6 + 3.6d)

解得：d ≈ 0.25-0.30 m
```

---

### 拓展知识

**经济流速**：
- 给水管：v = 0.6-2.0 m/s
- 输水管：v = 1.0-3.0 m/s
- 泵出口：v = 1.5-2.5 m/s

**管径选择考虑因素**：
1. 经济性（造价+运行）
2. 流速限制（冲刷、淤积）
3. 水头限制
4. 标准管径系列

---

## 第四节：管网计算（3题）

---

## 【强化题58】枝状管网计算

**题目来源**: 西北工业大学2019年真题

**题目描述**:
枝状管网，如图：
- 进水点A：流量Q_A=100 L/s，高程Z_A=50m，压强p_A=300kPa
- 节点B：引出流量q_B=30 L/s，高程Z_B=55m
- 节点C：引出流量q_C=40 L/s，高程Z_C=60m
- 终点D：引出流量q_D=30 L/s，高程Z_D=65m
- AB段：l₁=200m, d₁=200mm, λ₁=0.025
- BC段：l₂=150m, d₂=150mm, λ₂=0.028
- CD段：l₃=100m, d₃=100mm, λ₃=0.030

求：
1. 各管段流量
2. 各管段水头损失
3. B、C、D三点的压强

**知识点**: 枝状管网、节点水压
**考频**: ★★★★☆
**分值**: 20分
**难度**: 强化
**配套代码**: ✅ `branch_pipe_network.py`

---

### 标准解答

**(1) 各管段流量**:

**节点流量平衡**:
```
AB段：Q_AB = Q_A = 100 L/s
BC段：Q_BC = Q_AB - q_B = 100 - 30 = 70 L/s
CD段：Q_CD = Q_BC - q_C = 70 - 40 = 30 L/s
终点：Q_D = q_D = 30 L/s ✓（平衡）
```

**(2) 各段水头损失**:

**AB段**:
```
A_AB = π×0.2²/4 = 0.0314 m²
v_AB = 0.1/0.0314 = 3.18 m/s

h_AB = 0.025 × (200/0.2) × (3.18²/(2×9.81))
     = 0.025 × 1000 × 0.516
     = 12.9 m
```

**BC段**:
```
A_BC = π×0.15²/4 = 0.0177 m²
v_BC = 0.07/0.0177 = 3.95 m/s

h_BC = 0.028 × (150/0.15) × (3.95²/(2×9.81))
     = 0.028 × 1000 × 0.795
     = 22.3 m
```

**CD段**:
```
A_CD = π×0.1²/4 = 0.00785 m²
v_CD = 0.03/0.00785 = 3.82 m/s

h_CD = 0.030 × (100/0.1) × (3.82²/(2×9.81))
     = 0.030 × 1000 × 0.744
     = 22.3 m
```

**(3) 各节点压强**:

**点A的测压管水头**:
```
H_A = Z_A + p_A/(ρg) = 50 + 300000/(1000×9.81)
    = 50 + 30.58 = 80.58 m
```

**点B**:
```
H_B = H_A - h_AB = 80.58 - 12.9 = 67.68 m

p_B/(ρg) = H_B - Z_B = 67.68 - 55 = 12.68 m

p_B = 12.68 × 9810 = 124.4 kPa
```

**点C**:
```
H_C = H_B - h_BC = 67.68 - 22.3 = 45.38 m

p_C/(ρg) = 45.38 - 60 = -14.62 m

p_C = -14.62 × 9810 = -143.4 kPa
```

⚠️ **问题**：C点压强为**负压**（真空度143.4kPa），不合理！

**点D**:
```
H_D = H_C - h_CD = 45.38 - 22.3 = 23.08 m

p_D/(ρg) = 23.08 - 65 = -41.92 m

p_D = -411.3 kPa
```

⚠️ **严重问题**：D点真空度过大，无法供水！

**结论**：管网设计不合理，需要：
1. 增大BC、CD管径（降低损失）
2. 提高A点压强
3. 在C或D点增设增压泵

---

### 评分标准（20分）

- 各段流量（3分）
- AB段损失（3分）
- BC段损失（3分）
- CD段损失（3分）
- H_A计算（2分）
- p_B、p_C、p_D计算（4分）
- 问题分析（2分）

---

### 易错点

⚠️ **枝状管网特点**：
- 单向供水，逐段递减
- 下游压强递减（损失累积）
- 易出现负压（需校核）

⚠️ **测压管水头**：H = Z + p/(ρg)沿程递减

⚠️ **供水要求**：p_最不利点 ≥ p_最小（通常≥150kPa）

---

## 【强化题59】环状管网计算（哈代-克罗斯法）

**题目来源**: 同济大学2020年真题

**题目描述**:
单环管网，如图：
- 节点A：流入Q_A = 60 L/s
- 节点B：流出q_B = 20 L/s
- 节点C：流出q_C = 40 L/s
- 管道AB：l₁=100m, d₁=150mm
- 管道BC：l₂=150m, d₂=100mm
- 管道CA：l₃=120m, d₃=120mm

假设λ=0.025（各管相同）。

求：用哈代-克罗斯法求各管流量（一次迭代）。

**知识点**: 环状管网、哈代-克罗斯法
**考频**: ★★★☆☆
**分值**: 15分
**难度**: 强化（方法性）
**配套代码**: ✅ `hardy_cross_method.py`

---

### 标准解答（思路）

**基本方程**:
1. 节点流量平衡：ΣQ = 0
2. 环路水头平衡：Σh_f = 0

**简化**（忽略局部损失）:
```
h_f = rQ²

其中 r = λl/(12.1d⁵)（阻力特性系数）
```

**哈代-克罗斯迭代公式**:
```
ΔQ = -Σ(rQ|Q|) / [2Σ(r|Q|)]
```

**(1) 初始流量分配**（假设）:

根据阻力反比：
```
Q_AB ≈ 40 L/s（顺时针）
Q_BC ≈ 20 L/s
Q_CA ≈ -20 L/s（逆时针）
```

**(2) 计算r**:
```
r₁ = λl₁/(12.1d₁⁵) = 0.025×100/(12.1×0.15⁵) = ...
r₂ = ...
r₃ = ...
```

**(3) 计算修正量ΔQ**:

```
环路方程：
Σ(rQ|Q|) = r₁Q_AB² + r₂Q_BC² - r₃Q_CA²

ΔQ = -Σ(rQ|Q|) / [2Σ(r|Q|)]
```

**(4) 修正流量**:
```
Q_AB_new = Q_AB + ΔQ
Q_BC_new = Q_BC + ΔQ
Q_CA_new = Q_CA + ΔQ
```

**(5) 重复直到ΔQ<允许误差**

---

### 评分标准（15分）

- 初始流量分配（3分）
- r系数计算（3分）
- 环路方程（3分）
- ΔQ公式（3分）
- 修正流量（3分）

---

### 易错点

⚠️ **哈代-克罗斯法适用**：环状管网、复杂管网

⚠️ **符号规定**：
- 顺时针为正，逆时针为负
- 严格遵守符号规则

⚠️ **收敛条件**：|ΔQ|/Q < 1%或|ΔQ| < 0.1 L/s

---

## 【综合题60】复杂管网优化

**题目来源**: 上海交大2019年真题（简化）

**题目描述**:
某小区供水管网，有3个用水节点，需满足最小压强150kPa。已知各节点高程和流量。

要求：
1. 设计管网拓扑（枝状/环状）
2. 计算各管段管径
3. 校核节点压强
4. 提出优化建议

**知识点**: 管网设计、优化
**考频**: ★★☆☆☆
**分值**: 25分（设计题）
**难度**: 综合
**配套代码**: ✅ `pipe_network_design.py`

---

### 标准解答（思路）

**设计步骤**:
1. 拓扑选择：环状网（可靠性高）
2. 初步管径：Q = Av，v取1.5-2.0 m/s
3. 水力计算：h_f、H、p
4. 校核：p ≥ 150 kPa
5. 优化：管径调整、泵站布置

**评分重点**:
- 设计思路（5分）
- 管径计算（8分）
- 压强校核（7分）
- 优化建议（5分）

---

## 总结

第三章共20题，涵盖：
- 层流与紊流：雷诺数、哈根-泊肃叶、莫迪图
- 沿程与局部损失：达西公式、局部系数、突然扩大
- 长管短管：自由出流、淹没出流、虹吸管、泵扬程
- 管网计算：枝状、环状、哈代-克罗斯法

**考研占分**：25-30分

**重点题目**：
- 题43（莫迪图）⭐⭐⭐⭐⭐
- 题46（突然扩大）⭐⭐⭐⭐⭐
- 题48-49（串并联）⭐⭐⭐⭐⭐
- 题53（长管设计）⭐⭐⭐⭐⭐
- 题56（泵扬程）⭐⭐⭐⭐⭐

**下一章预告**：第四章 明渠流（25题）⭐⭐⭐⭐⭐ 考研最重要章节！

---

**第三章完成！**
**进度：60/100题（60%）**
**继续加油！💪**
