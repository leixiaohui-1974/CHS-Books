# 第1章：行列式计算技巧与秒杀方法

**学习时间**: 3小时  
**难度**: ⭐⭐⭐  
**考试权重**: 12%  
**必考题型**: ⭐⭐⭐⭐⭐

---

## 一、行列式定义与性质

### 1.1 二阶与三阶

**二阶**：
$$\begin{vmatrix} a & b \\ c & d \end{vmatrix} = ad - bc$$

**三阶**（对角线法则）：
$$\begin{vmatrix} a_{11} & a_{12} & a_{13} \\ a_{21} & a_{22} & a_{23} \\ a_{31} & a_{32} & a_{33} \end{vmatrix}$$
$$= a_{11}a_{22}a_{33} + a_{12}a_{23}a_{31} + a_{13}a_{21}a_{32}$$
$$- a_{13}a_{22}a_{31} - a_{11}a_{23}a_{32} - a_{12}a_{21}a_{33}$$

### 1.2 核心性质（必记）

1. **转置不变**：$|A^T| = |A|$

2. **行列互换**：交换两行（列），行列式变号

3. **倍乘性质**：某行乘k，行列式乘k

4. **可加性**：某行可拆成两行之和

5. **消元不变**：某行加上另一行的k倍，行列式不变

6. **乘法性质**：$|AB| = |A| \cdot |B|$

7. **零行/列**：有一行全为0，行列式=0

8. **成比例**：两行成比例，行列式=0

---

## 二、快速计算技巧

### 2.1 三角化法（万能方法）

**原理**：利用性质5，将行列式化为上三角或下三角

$$\begin{vmatrix} * & * & * \\ 0 & * & * \\ 0 & 0 & * \end{vmatrix} = \text{主对角线乘积}$$

**步骤**：
1. 选主元（第一列第一个非零元）
2. 消去第一列其他元素
3. 对子行列式重复

### 2.2 降阶法（按行/列展开）

$$|A| = \sum_{j=1}^{n} a_{ij} A_{ij}$$

其中 $A_{ij} = (-1)^{i+j}M_{ij}$（代数余子式）

**技巧**：选含0最多的行/列展开

### 2.3 特殊行列式

#### 范德蒙德行列式

$$\begin{vmatrix} 1 & 1 & 1 & \cdots & 1 \\ x_1 & x_2 & x_3 & \cdots & x_n \\ x_1^2 & x_2^2 & x_3^2 & \cdots & x_n^2 \\ \vdots & \vdots & \vdots & \ddots & \vdots \\ x_1^{n-1} & x_2^{n-1} & x_3^{n-1} & \cdots & x_n^{n-1} \end{vmatrix} = \prod_{1\leq i<j\leq n}(x_j - x_i)$$

#### 对角线型

$$\begin{vmatrix} a_1 & & & \\ & a_2 & & \\ & & \ddots & \\ & & & a_n \end{vmatrix} = a_1 a_2 \cdots a_n$$

#### 上/下三角

$$\begin{vmatrix} * & * & * \\ 0 & * & * \\ 0 & 0 & * \end{vmatrix} = \text{主对角线乘积}$$

### Python实现

```python
import numpy as np
import sympy as sp

class DeterminantCalculator:
    """
    行列式计算工具
    """
    
    @staticmethod
    def compute_2x2(a, b, c, d):
        """
        二阶行列式
        
        |a b|
        |c d| = ad - bc
        """
        det = a*d - b*c
        return det
    
    @staticmethod
    def compute_3x3(matrix):
        """
        三阶行列式（对角线法则）
        
        参数:
            matrix: 3x3数组
        """
        a = matrix[0, 0] * matrix[1, 1] * matrix[2, 2]
        b = matrix[0, 1] * matrix[1, 2] * matrix[2, 0]
        c = matrix[0, 2] * matrix[1, 0] * matrix[2, 1]
        d = matrix[0, 2] * matrix[1, 1] * matrix[2, 0]
        e = matrix[0, 0] * matrix[1, 2] * matrix[2, 1]
        f = matrix[0, 1] * matrix[1, 0] * matrix[2, 2]
        
        det = a + b + c - d - e - f
        
        return det
    
    @staticmethod
    def triangularize(A):
        """
        三角化法（高斯消元）
        
        参数:
            A: n×n矩阵
        
        返回:
            上三角矩阵, 行列式值
        """
        A = A.astype(float).copy()
        n = A.shape[0]
        det = 1
        
        for i in range(n):
            # 选主元（部分主元法）
            max_row = i + np.argmax(abs(A[i:, i]))
            
            if abs(A[max_row, i]) < 1e-10:
                return A, 0  # 奇异矩阵
            
            # 交换行
            if max_row != i:
                A[[i, max_row]] = A[[max_row, i]]
                det *= -1
            
            # 消元
            for j in range(i+1, n):
                factor = A[j, i] / A[i, i]
                A[j, i:] -= factor * A[i, i:]
            
            det *= A[i, i]
        
        return A, det
    
    @staticmethod
    def vandermonde(x_vals):
        """
        范德蒙德行列式
        
        V(x1, x2, ..., xn) = ∏(xj - xi) for i<j
        
        参数:
            x_vals: [x1, x2, ..., xn]
        """
        n = len(x_vals)
        det = 1
        
        for i in range(n):
            for j in range(i+1, n):
                det *= (x_vals[j] - x_vals[i])
        
        return det
    
    @staticmethod
    def symbolic_det(matrix_expr):
        """
        符号行列式计算
        
        参数:
            matrix_expr: Sympy矩阵
        """
        det = sp.Matrix(matrix_expr).det()
        return det


# 示例1：三阶行列式
print("="*60)
print("示例1：三阶行列式计算")
print("="*60)

A = np.array([
    [2, 1, -1],
    [1, 3, 2],
    [3, -1, 4]
])

print("矩阵A:")
print(A)

# 方法1：对角线法
det1 = DeterminantCalculator.compute_3x3(A)
print(f"\n对角线法: |A| = {det1}")

# 方法2：NumPy
det2 = np.linalg.det(A)
print(f"NumPy验证: |A| = {det2:.1f}")

# 方法3：三角化
A_tri, det3 = DeterminantCalculator.triangularize(A)
print(f"三角化法: |A| = {det3:.1f}")
print(f"上三角矩阵:")
print(A_tri)

# 示例2：范德蒙德行列式
print("\n" + "="*60)
print("示例2：范德蒙德行列式")
print("="*60)

x_vals = [1, 2, 3, 4]
det_vander = DeterminantCalculator.vandermonde(x_vals)

print(f"x = {x_vals}")
print(f"V(x) = ∏(xj - xi) = {det_vander}")

# 验证
V = np.vander(x_vals, increasing=True).T
det_vander_np = np.linalg.det(V)
print(f"NumPy验证: {det_vander_np:.0f}")

# 示例3：符号行列式
print("\n" + "="*60)
print("示例3：符号行列式")
print("="*60)

a, b, c = sp.symbols('a b c')

A_sym = sp.Matrix([
    [a, b, 0],
    [0, a, b],
    [b, 0, a]
])

det_sym = A_sym.det()
print(f"矩阵:")
print(A_sym)
print(f"\n行列式: |A| = {det_sym}")
print(f"化简: {sp.simplify(det_sym)}")
```

---

## 三、典型考题速解

### 考题1：计算行列式

**【题目】**计算
$$D = \begin{vmatrix} 1 & 2 & 3 & 4 \\ 2 & 3 & 4 & 5 \\ 3 & 4 & 5 & 6 \\ 4 & 5 & 6 & 7 \end{vmatrix}$$

**【快速解法】**

观察：每行是等差数列，且行间成比例趋势

**第3行 - 第2行**：
$$r_3 - r_2 = [1, 1, 1, 1]$$

**第2行 - 第1行**：
$$r_2 - r_1 = [1, 1, 1, 1]$$

行列式有两行相同 → **D = 0**

---

### 考题2：含参数行列式

**【题目】**
$$D = \begin{vmatrix} \lambda & 1 & 0 \\ 0 & \lambda & 1 \\ 1 & 0 & \lambda \end{vmatrix}$$

**【解答】**

**展开**（第一行）：
$$D = \lambda \begin{vmatrix} \lambda & 1 \\ 0 & \lambda \end{vmatrix} - 1 \begin{vmatrix} 0 & 1 \\ 1 & \lambda \end{vmatrix}$$

$$= \lambda(\lambda^2 - 0) - 1(0 - 1)$$
$$= \lambda^3 + 1$$

**答案**：$D = \lambda^3 + 1$

---

### 考题3：n阶行列式

**【题目】**
$$D_n = \begin{vmatrix} x & a & a & \cdots & a \\ a & x & a & \cdots & a \\ a & a & x & \cdots & a \\ \vdots & \vdots & \vdots & \ddots & \vdots \\ a & a & a & \cdots & x \end{vmatrix}$$

**【快速解法】**

**技巧**：各行加到第一行

$r_1' = r_1 + r_2 + \cdots + r_n$

$$= [x+(n-1)a, x+(n-1)a, \cdots, x+(n-1)a]$$

提出 $x+(n-1)a$：

$$D_n = [x+(n-1)a] \begin{vmatrix} 1 & 1 & \cdots & 1 \\ a & x & \cdots & a \\ \vdots & \vdots & \ddots & \vdots \\ a & a & \cdots & x \end{vmatrix}$$

继续消元：$c_j' = c_j - c_1$ (j=2,3,...,n)

$$D_n = [x+(n-1)a](x-a)^{n-1}$$

**答案**：$D_n = [x+(n-1)a](x-a)^{n-1}$

---

## 四、秒杀技巧总结

### 🎯 快速判零

1. **两行/列相同或成比例** → 0
2. **所有元素之和为0的某行** → 可化出全0行
3. **行列式为奇函数形式，代入特殊值** → 可能为0

### ⚡ 快速计算

| 题型 | 方法 |
|------|------|
| 上/下三角 | 主对角线乘积 |
| 对角线型 | 直接相乘 |
| 范德蒙德 | 公式法 |
| 含参数 | 按行列展开 |
| 高阶特殊 | 加边法/递推 |

### 💡 通用策略

1. **先观察**：找规律、找0
2. **选方法**：展开/三角化/特殊公式
3. **巧运算**：行列变换简化
4. **快验证**：代入特殊值检验

---

## 五、练习题（自测）

1. $\begin{vmatrix} 1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9 \end{vmatrix} = ?$

2. $\begin{vmatrix} 1 & 1 & 1 \\ a & b & c \\ a^2 & b^2 & c^2 \end{vmatrix} = ?$

3. $\begin{vmatrix} 2 & 0 & 0 & 0 \\ 1 & 3 & 0 & 0 \\ 0 & 1 & 4 & 0 \\ 0 & 0 & 1 & 5 \end{vmatrix} = ?$

**答案**：1) 0（行成比例）; 2) $(b-a)(c-a)(c-b)$（范德蒙德）; 3) 120（下三角）

---

**本章重点**：
- 性质灵活运用
- 三角化万能
- 特殊类型识别

**下一章**：矩阵的秩与线性方程组
