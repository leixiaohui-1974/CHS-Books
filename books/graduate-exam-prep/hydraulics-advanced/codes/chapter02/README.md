# 第02章 流体动力学基础 - Python代码示例

## 📚 概述

本目录包含第02章"流体动力学基础"的Python代码实现，共5个核心程序，覆盖连续性方程、伯努利方程、动量方程、能量损失和综合应用等重点内容。

**完成状态**：✅ **100%完成**（5/5个程序）

**总代码量**：**2668行**

---

## 🎯 学习目标

通过这些代码，学生将掌握：

1. **连续性方程**：流量守恒原理
2. **伯努利方程**：能量守恒与压强-流速关系
3. **动量方程**：力与动量变化
4. **能量损失**：沿程损失与局部损失
5. **综合应用**：供水系统设计与优化

---

## 📂 文件列表

### ✅ 已完成（5个）

| 序号 | 文件名 | 题目 | 行数 | 难度 | 状态 |
|------|--------|------|------|------|------|
| 1 | `ch02_problem01_continuity_equation.py` | 连续性方程 | 322 | ⭐⭐ | ✅ |
| 2 | `ch02_problem02_bernoulli_equation.py` | 伯努利方程综合应用 | 435 | ⭐⭐⭐ | ✅ |
| 6 | `ch02_problem06_momentum_equation.py` | 动量方程计算 | 464 | ⭐⭐⭐ | ✅ |
| 9 | `ch02_problem09_energy_loss.py` | 能量损失计算 | 475 | ⭐⭐⭐ | ✅ |
| 12 | `ch02_problem12_pipe_flow.py` | 管道流量计算 | 516 | ⭐⭐⭐⭐ | ✅ |
| 15 | `ch02_problem15_comprehensive.py` | 综合应用（供水系统） | 456 | ⭐⭐⭐⭐ | ✅ |

---

## 🔬 代码特点

### 1. **教学导向**
- 详细的公式推导和注释
- 逐步计算过程展示
- 考试要点总结

### 2. **可视化丰富**
- 管道结构示意图
- 能量线和测压管水头线
- 水头损失分布图
- 力的组成分析图

### 3. **工程实用**
- 实际工程参数
- 优化设计分析
- 经济性评估

### 4. **代码质量**
- 面向对象设计
- 完整的类型提示
- PEP 8编码规范
- 详细的文档字符串

---

## 💡 核心知识点

### 题1：连续性方程
**核心公式**：
```
Q = A₁v₁ = A₂v₂ = 常数
v ∝ 1/d²
```

**考点**：
- 流量守恒
- 流速与管径的关系
- 质量守恒原理

---

### 题2：伯努利方程
**核心公式**：
```
z + p/(ρg) + v²/(2g) = 常数
```

**考点**：
- 能量守恒
- 压强与流速的关系
- 水头组成（位置水头、压强水头、流速水头）
- 文丘里管原理

---

### 题6：动量方程
**核心公式**：
```
ΣF = ρQ(v₂ - v₁)
```

**考点**：
- 牛顿第二定律在流体中的应用
- 力的组成（压强力、动量变化力、管道力）
- 渐缩/渐扩管道受力分析
- 牛顿第三定律

---

### 题9：能量损失
**核心公式**：
```
沿程损失：hf = λ(L/d)v²/(2g)
局部损失：hm = ζv²/(2g)
```

**考点**：
- 达西-魏斯巴赫公式
- 摩擦系数计算
- 雷诺数判别
- 水力坡度

---

### 题12：管道流量计算
**核心概念**：
- 串联管道：流量相同，水头损失相加
- 能量方程求解
- 迭代计算方法

**考点**：
- 复杂管道系统分析
- 连接处压强计算
- 流态判别

---

### 题15：综合应用
**工程问题**：
- 供水系统设计
- 自流可行性分析
- 泵站扬程和功率计算
- 管径优化

**考点**：
- 能量方程综合应用
- 泵功率计算：P = ρgQH/η
- 经济性分析
- 优化设计

---

## 🚀 使用方法

### 1. 环境要求
```bash
Python 3.8+
numpy
matplotlib
scipy
```

### 2. 安装依赖
```bash
pip install numpy matplotlib scipy
```

### 3. 运行示例
```bash
# 运行题1：连续性方程
python ch02_problem01_continuity_equation.py

# 运行题2：伯努利方程
python ch02_problem02_bernoulli_equation.py

# 运行题6：动量方程
python ch02_problem06_momentum_equation.py

# 运行题9：能量损失
python ch02_problem09_energy_loss.py

# 运行题12：管道流量
python ch02_problem12_pipe_flow.py

# 运行题15：综合应用
python ch02_problem15_comprehensive.py
```

### 4. 修改参数
每个程序的`main()`函数中都可以修改输入参数：
```python
def main():
    # 修改这里的参数
    d1 = 0.2      # 直径
    v1 = 2.0      # 流速
    # ...
```

---

## 📊 输出内容

每个程序都会输出：

1. **详细计算过程**
   - 输入参数展示
   - 公式推导步骤
   - 中间计算结果
   - 最终答案

2. **可视化图表**
   - 4个子图的综合分析
   - 结构示意图
   - 能量线分析
   - 参数对比图

3. **考试要点总结**
   - 核心公式
   - 重点知识
   - 常见错误

---

## 🎓 学习建议

### 基础学习路径
1. 先学习题1（连续性方程）→ 题2（伯努利方程）
2. 理解能量守恒和质量守恒的关系
3. 掌握水头的概念和计算

### 进阶学习路径
4. 学习题6（动量方程）→ 题9（能量损失）
5. 理解力与能量的关系
6. 掌握实际流动中的损失计算

### 综合应用
7. 学习题12（串联管道）→ 题15（供水系统）
8. 综合运用各个方程
9. 学习工程优化设计

---

## 📝 典型例题

### 例1：文丘里管（题2）
**问题**：水平文丘里管，d1=0.2m→d2=0.1m，v1=2m/s，p1=150kPa，求v2和p2

**解答要点**：
1. 连续性方程：v2 = v1(d1/d2)² = 8m/s
2. 伯努利方程：p2 = p1 + ρ/2(v1² - v2²) = 120kPa
3. 流速增大，压强降低（伯努利效应）

---

### 例2：管道受力（题6）
**问题**：渐缩管，d1=0.3m→d2=0.15m，v1=2m/s，p1=200kPa，求管道受力

**解答要点**：
1. v2 = v1(d1/d2)² = 8m/s
2. p2 = p1 + ρ/2(v1² - v2²) = 170kPa
3. F_pipe = p1A1 - p2A2 - ρQ(v2-v1) = 8.1kN

---

### 例3：供水系统（题15）
**问题**：水库H0=50m，用户H1=10m，L=2000m，d=0.4m，Q=0.15m³/s，求是否需要加压泵

**解答要点**：
1. 可用水头：H_available = 40m
2. 所需水头：H_required = h_loss + p_head = 45m
3. 结论：需加压泵，H_pump = 5m
4. 泵功率：P = ρgQH/η = 9.81kW

---

## 🔧 常见问题

### Q1: 为什么伯努利方程中压强有时降低？
**A**: 流速增大时，动能增加，压强能减少，满足能量守恒。这就是伯努利效应。

### Q2: 摩擦系数λ如何确定？
**A**: 对于层流（Re<2000），λ=64/Re；对于紊流，使用经验公式或查图表。本代码使用曼宁公式转换。

### Q3: 串联管道计算为什么要迭代？
**A**: 因为摩擦系数λ依赖于流速v，而v又依赖于λ，形成隐式方程，需要迭代求解。

### Q4: 如何选择最优管径？
**A**: 需要平衡投资成本（管径越大，造价越高）和运行成本（管径越大，能耗越低）。题15提供了优化分析方法。

---

## 📚 参考资料

1. 吴持恭《水力学》（第五版）
2. 闻德荪《工程流体力学》
3. 李家星《流体力学基础》
4. 985/211高校水力学考研真题

---

## 📧 联系方式

**作者**：CHS-Books Team  
**日期**：2025-11-07  
**版本**：v1.0

---

## 📈 更新日志

### v1.0 (2025-11-07)
- ✅ 完成题1：连续性方程（322行）
- ✅ 完成题2：伯努利方程（435行）
- ✅ 完成题6：动量方程（464行）
- ✅ 完成题9：能量损失（475行）
- ✅ 完成题12：管道流量（516行）
- ✅ 完成题15：综合应用（456行）
- ✅ **第2章代码100%完成！**

---

## ⭐ 学习成果

完成本章代码学习后，你将能够：

1. ✅ 熟练应用连续性方程、伯努利方程、动量方程
2. ✅ 计算管道水头损失和流量
3. ✅ 分析管道受力和能量转换
4. ✅ 设计和优化供水系统
5. ✅ 解答考研中的流体动力学问题

---

**祝学习顺利！💪**
