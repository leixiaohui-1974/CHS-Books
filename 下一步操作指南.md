# ğŸš€ CHSå¹³å° - ä¸‹ä¸€æ­¥æ“ä½œæŒ‡å—

## âœ… å·²å®Œæˆçš„å·¥ä½œ

æˆ‘å·²ç»æˆåŠŸå®Œæˆäº†chs-aiçŸ¥è¯†åº“ç³»ç»Ÿåˆ°CHS-Bookså¹³å°çš„æ•´åˆï¼

### æ•´åˆå†…å®¹
- âœ… 11ä¸ªåç«¯æœåŠ¡æ¨¡å—
- âœ… 3ä¸ªå‰ç«¯é¡µé¢
- âœ… 11ä¸ªAPIç«¯ç‚¹
- âœ… å®Œæ•´çš„æ–‡æ¡£å’ŒæŒ‡å—

### æ•´åˆä½ç½®
- åç«¯: `platform/backend/services/knowledge/`
- API: `platform/backend/api/knowledge_routes.py`
- å‰ç«¯: `platform/frontend/knowledge/`
- ä¸»æœåŠ¡å™¨: `platform/backend/full_server.py` (å·²æ›´æ–°)

## ğŸ“‹ æ‚¨éœ€è¦åšçš„3ä»¶äº‹

### 1. å®‰è£…ä¾èµ–åŒ… (3åˆ†é’Ÿ)

```bash
cd E:\OneDrive\Documents\GitHub\Test\CHS-Books\platform\backend
pip install chromadb sentence-transformers
```

> è¿™ä¸¤ä¸ªåŒ…ç”¨äºå‘é‡æ£€ç´¢å’Œè¯­ä¹‰æœç´¢

### 2. åˆå§‹åŒ–çŸ¥è¯†åº“æ•°æ® (2åˆ†é’Ÿ)

**æ–¹å¼A: å¤åˆ¶ç°æœ‰æ•°æ®åº“ï¼ˆæ¨èï¼‰**
```bash
# å¤åˆ¶chs-aiçš„æ•°æ®åº“æ–‡ä»¶
cd E:\OneDrive\Documents\GitHub\Test\CHS-Books
mkdir data
copy E:\OneDrive\Documents\GitHub\CHS-SDK\products\chs-ai\knowledge.db .\data\
copy E:\OneDrive\Documents\GitHub\CHS-SDK\products\chs-ai\chroma_db .\data\chroma_db\ /E
```

**æ–¹å¼B: é‡æ–°ç”Ÿæˆï¼ˆå¦‚æœæ–¹å¼Aå¤±è´¥ï¼‰**
```bash
cd E:\OneDrive\Documents\GitHub\Test\CHS-Books\platform\backend\services\knowledge
python -c "from knowledge_manager import knowledge_manager; knowledge_manager.init()"
```

### 3. å¯åŠ¨å¹¶æµ‹è¯• (1åˆ†é’Ÿ)

```bash
# å¯åŠ¨æœåŠ¡å™¨
cd E:\OneDrive\Documents\GitHub\Test\CHS-Books\platform\backend
python full_server.py
```

**çœ‹åˆ°è¿™äº›ä¿¡æ¯è¯´æ˜æˆåŠŸï¼š**
```
[OK] çŸ¥è¯†åº“APIå·²åŠ è½½
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000
```

**ç„¶ååœ¨æµè§ˆå™¨è®¿é—®ï¼š**
- ä¸»é¡µ: http://localhost:8000
- APIæ–‡æ¡£: http://localhost:8000/docs
- çŸ¥è¯†åº“å¥åº·æ£€æŸ¥: http://localhost:8000/api/v1/knowledge/health

## ğŸ§ª å¿«é€Ÿæµ‹è¯•

### æµ‹è¯•1: å¥åº·æ£€æŸ¥
```bash
curl http://localhost:8000/api/v1/knowledge/health
```

**æœŸæœ›ç»“æœ**: æ˜¾ç¤ºå„æœåŠ¡çŠ¶æ€

### æµ‹è¯•2: æœç´¢çŸ¥è¯†
```bash
curl -X POST http://localhost:8000/api/v1/knowledge/search ^
  -H "Content-Type: application/json" ^
  -d "{\"query\":\"æ°´åŠ›å­¦\",\"top_k\":5,\"mode\":\"hybrid\"}"
```

**æœŸæœ›ç»“æœ**: è¿”å›ç›¸å…³çŸ¥è¯†åˆ—è¡¨

### æµ‹è¯•3: æ™ºèƒ½é—®ç­”
```bash
curl -X POST http://localhost:8000/api/v1/knowledge/ask ^
  -H "Content-Type: application/json" ^
  -d "{\"question\":\"ä»€ä¹ˆæ˜¯æ°´åŠ›å­¦ï¼Ÿ\",\"top_k\":5}"
```

**æœŸæœ›ç»“æœ**: è¿”å›AIç”Ÿæˆçš„ç­”æ¡ˆ

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **CHS-AIæ•´åˆæŒ‡å—.md** - å®Œæ•´çš„å®‰è£…é…ç½®è¯´æ˜
- **CHSå¹³å°æ•´åˆå®Œæˆæ€»ç»“.md** - æ•´åˆå·¥ä½œæ€»ç»“
- **æ·±åº¦èåˆæ–¹æ¡ˆ-CHSæ°´åˆ©æ°´ç”µå­¦ä¹ å¹³å°.md** - æŠ€æœ¯æ¶æ„æ–¹æ¡ˆ

## ğŸ¯ åç»­å¯é€‰å·¥ä½œ

### çŸ­æœŸï¼ˆ1-2å°æ—¶ï¼‰
1. åœ¨unified.htmlä¸­æ·»åŠ "çŸ¥è¯†åº“"å¯¼èˆªå…¥å£
2. å¼•å…¥knowledge_component.htmlç»„ä»¶
3. å®ç°åŸºç¡€çš„çŸ¥è¯†åº“æµè§ˆåŠŸèƒ½

### ä¸­æœŸï¼ˆ1-2å¤©ï¼‰
1. ä¸ºæ¯ä¸ªæ¡ˆä¾‹æ ‡æ³¨ç›¸å…³çŸ¥è¯†ç‚¹
2. å®ç°æ¡ˆä¾‹â†”çŸ¥è¯†ç‚¹åŒå‘è·³è½¬
3. æ·»åŠ å­¦ä¹ è·¯å¾„æ¨è

### é•¿æœŸï¼ˆ1-2å‘¨ï¼‰
1. å®ç°ç”¨æˆ·æ³¨å†Œç™»å½•
2. æ·»åŠ å­¦ä¹ è¿›åº¦è¿½è¸ª
3. å¼€å‘ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿ
4. å®ç°æ–°æ‰‹å¼•å¯¼æ•™ç¨‹

## â“ é‡åˆ°é—®é¢˜ï¼Ÿ

### é—®é¢˜1: pip install å¤±è´¥
**è§£å†³**: 
```bash
# ä½¿ç”¨å›½å†…é•œåƒ
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple chromadb sentence-transformers
```

### é—®é¢˜2: æ•°æ®åº“æ–‡ä»¶ä¸å­˜åœ¨
**è§£å†³**: 
```bash
# æ£€æŸ¥chs-aiç›®å½•
dir E:\OneDrive\Documents\GitHub\CHS-SDK\products\chs-ai
# å¦‚æœæ²¡æœ‰knowledge.dbï¼Œè¿è¡Œchs-aiçš„åˆå§‹åŒ–è„šæœ¬
cd E:\OneDrive\Documents\GitHub\CHS-SDK\products\chs-ai
python scripts/init_sample_data.py
```

### é—®é¢˜3: APIè¿”å›404
**è§£å†³**: 
```bash
# æ£€æŸ¥çŸ¥è¯†åº“APIæ˜¯å¦æ­£ç¡®åŠ è½½
# åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¥å¿—ä¸­æŸ¥æ‰¾ "[OK] çŸ¥è¯†åº“APIå·²åŠ è½½"
# å¦‚æœæ²¡æœ‰è¿™æ¡ä¿¡æ¯ï¼Œæ£€æŸ¥ä¾èµ–æ˜¯å¦å®‰è£…å®Œæ•´
```

### é—®é¢˜4: å‘é‡æ£€ç´¢æŠ¥é”™
**è§£å†³**:
```bash
# é‡æ–°åˆå§‹åŒ–å‘é‡æ•°æ®åº“
cd platform/backend/services/knowledge
python -c "from vector_store import vector_store; vector_store.init()"
```

## ğŸ‰ å®Œæˆï¼

å®Œæˆä¸Šè¿°3æ­¥åï¼Œæ‚¨çš„CHSæ°´åˆ©æ°´ç”µå­¦ä¹ å¹³å°å°±å¯ä»¥æ­£å¼ä½¿ç”¨äº†ï¼

**å¹³å°ç‰¹è‰²**:
- 78æ¡ä¸“ä¸šçŸ¥è¯† + 20ä¸ªå®è·µæ¡ˆä¾‹
- AIæ™ºèƒ½é—®ç­” + æ··åˆæ£€ç´¢
- çŸ¥è¯†å›¾è°± + æ™ºèƒ½æ¨è
- é«˜æ€§èƒ½ç¼“å­˜ + æ¯«ç§’çº§å“åº”

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ğŸš€

---

**å¦‚æœ‰ç–‘é—®ï¼Œè¯·æŸ¥çœ‹**:
- CHS-AIæ•´åˆæŒ‡å—.md
- http://localhost:8000/docs (APIæ–‡æ¡£)


